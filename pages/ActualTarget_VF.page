<apex:page docType="html-5.0" sidebar="false" standardStylesheets="false" cache="false" id="pageIds" showHeader="true" controller="ActualTarget_AC" tabstyle="Touch_Analytics_UI__tab">
    <apex:stylesheet value="{!URLFOR($Resource.jQueryDataTables, 'css/jquery.dataTables.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.SLDSv0122, 'assets/styles/salesforce-lightning-design-system-vf.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.SLDS090, 'assets/styles/salesforce-lightning-design-system-vf.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.GlobalFundsJqueryUI, 'GlobalFundsJqueryUI/CustomEventEditCSS.css')}"/>
    <apex:includeScript value="{!URLFOR($Resource.GlobalFundsJqueryUI, 'GlobalFundsJqueryUI/EventJqueryMin.js')}"/>
    <script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jQueryDataTables, 'js/jquery.dataTables.js')}"></script> 
     <apex:stylesheet value="{!URLFOR($Resource.EdgeClient)}"/> 
    <apex:styleSheet value="{!URLFOR($Resource.Wave,'Wave/css/EdgeClient.css')}" />
     <html  xmlns="http://www.w3.org/1999/xhtml"  xmlns:ng="http://angularjs.org" ng-app="demoajax" lang="en"> 
     <head>
         <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="SalesForce CRM" />
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-aria.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.0.4/angular-material.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.0.4/angular-material.css"/>
        
        <apex:styleSheet value="/sCSS/40.0/sprites/1496211442000/Theme3/default/gc/EdgeClient.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
        
        
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-aria.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.0.4/angular-material.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.0.4/angular-material.css"/>
        <style>
            [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-    ng-cloak {
                display: none !important;
            }
            .md-datepicker-calendar-pane{
                z-index:9999;
            }
            
            body #AppBodyHeader {
                background-image: none;
                font-size: 12px;
                margin-left: 0px;
            }
            body .bPageFooter a, body .bPageFooter {
    border: none;
    color: #fff;
    font-size: 12px;
}
.hasMotif {
     margin: 0 0px !important; 
}
    body{
        margin-left: 0px;
    padding-left: 10px;
    padding-right: 10px;
    }
    
    .textover{
         cursor: pointer;
        overflow: hidden;
        float: left;
        text-overflow: ellipsis;
        background:white;
    }
    .textover:hover{
     cursor: pointer;
    overflow: visible;
    float: left;
    position: relative;
    z-index: 4;
    background:#2EC2BA;
    }
        </style>
        
        <script>
            function addItems(){    
                
            var itemsrec='';
            for(var i=0;i<$(".slds-scrollable li").length;i++){
                 itemsrec+=(i+1)+' And ';
            }
            if(itemsrec!=''){
                itemsrec=itemsrec.substring(0,itemsrec.length-4);
            }
            
            $(".filterItems").val(itemsrec);
       }
        </script>
          <script>
            window.twotimer=    function() {
                eventSrcID=(event.srcElement)?event.srcElement.id:'undefined';
                eventtype=event.type;
                status=eventSrcID+' has received a '+eventtype+' event.';
                
                if(event.srcElement.innerHTML =='Touch Analytics' || event.srcElement.innerHTML =='Home'){
                   if(confirm("All of your information will be lost and you will be returned to the Home Screen"))
                   {
                     
                   }else{
                       return false;
                   } 
                   
                }
            }
            document.onclick= twotimer;
            </script>
        <style>
          
          .selector.measure .functionlist .btn.selected:after {
    content: " ";
    position: absolute;
    right: -8px;
    top: 0;
    border-right: none;
    border-left: 8px solid #c5d2e0;
    border-top: 16px solid transparent;
    border-bottom: 16px solid transparent;
}


.selector.measure .functionlist .btn:not(.disabled).selected {
    background: #c5d2e0 !important;
    border: none;
}

.selector.measure .functionlist .btn.selected {
    margin-left: 5px;
    width: 70px !important;
    border-radius: 2px 0 0 2px;
    font-weight: 600;
}

.selector.measure .functionlist .btn {
    text-align: left;
    -webkit-transition: all .1s ease;
    transition: all .1s ease;
    font-size: 12px;
    -webkit-box-pack: start;
    -o-box-pack: start;
    -ms-flex-pack: start;
    -webkit-justify-content: flex-start;
    justify-content: flex-start;
}

.buttonbar.vertical .btn, .buttonbar.vertical .buttongroup {
    margin-bottom: 2px;
    margin-right: 0;
}

.buttonbar.vertical .btn {
    float: none;
    -webkit-box-pack: initial;
    -o-box-pack: initial;
    -ms-flex-pack: initial;
    -webkit-justify-content: initial;
    justify-content: initial;
}

.btn:not(.disabled).active, .btn:not(.disabled).selected, .active>.btn:not(.disabled), .selected>.btn:not(.disabled) {
    background-color: #e6ecf2;
}

.buttonbar .btn {
    float: left;
}

.btn.medium, .medium>.btn {
    padding: 0 10px;
    line-height: 32px;
}

.slds a {
    color: #0070d2;
    text-decoration: none;
    -webkit-transition: color 0.1s linear;
    transition: color 0.1s linear;
}

.slds a {
    background-color: transparent;
}

.slds ::selection {
            background: #015ba7 !important;
            color: white !important;
            text-shadow: none;
}

.btn {
    position: relative;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: box;
    display: flex;
    -webkit-box-align: center;
    -o-box-align: center;
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
    -webkit-box-pack: center;
    -o-box-pack: center;
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    margin-right: 5px;
    padding: .5rem;
    background: none;
    border:none;
    border-radius: .25rem;
    font-size: 14px;
    font-weight: 700;
    white-space: nowrap;
    overflow: visible;
    text-align: center;
    color: #5c7a99;
    cursor: pointer;
    -webkit-transition: .2s all;
    transition: .2s all;
}

.w100 {
    width: 100%;
}

a {
    color: #0070d2;
    text-decoration: none;
    -webkit-transition: .1s color linear;
    transition: .1s color linear;
    cursor: pointer;
}

a {
    background-color: transparent;
}

.slds h1, .slds h2, .slds h3, .slds h4, .slds h5, .slds h6, .slds th, .slds td {
    font-family: "Salesforce Sans", Arial, sans-serif;
}

.slds caption, .slds th, .slds td {
    text-align: left;
}

.slds table {
    border-collapse: collapse;
    border-spacing: 0;
}

table {
    border-collapse: collapse;
    border-spacing: 0;
}

table {
    display: table;
    border-collapse: separate;
    border-spacing: 2px;
    border-color: grey;
}

.slds:not(html), .slds body {
    font-size: 14px;
    background: transparent;
}

.slds {
    font: 100%/1.5 "Salesforce Sans", Arial, sans-serif;
    background: white;
    color: #16325c;
    -webkit-tap-highlight-color: transparent;
}

.slds {
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    margin: 0;
}

html, body {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    min-height: 100%;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

html, body {
    height: 100%;
    color: rgba(0, 0, 0, 0.87);
    background: white;
    position: relative;
}

body {
    font-family: 'Salesforce Sans','Helvetica Neue',Helvetica,Arial,sans-serif;
    color: #17324d;
    font-size: 100%;
    text-rendering: optimizeLegibility;
    -webkit-overflow-scrolling: touch;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
    overflow-x: hidden;
    width: 100%;
    height: 100%;
    line-height: 1;
}

button, select, html, textarea, input {
    font-family: Roboto, "Helvetica Neue", sans-serif;
}

html, body {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    min-height: 100%;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

html, body {
    height: 100%;
    color: rgba(0, 0, 0, 0.87);
    background: white;
    position: relative;
}

html {
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
}




.selector.measure .functionlist .btn.selected:after {
    content: " ";
    position: absolute;
    right: -8px;
    top: 0;
    border-right: none;
    border-left: 8px solid #c5d2e0;
    border-top: 16px solid transparent;
    border-bottom: 16px solid transparent;
}



.slds ::selection {
    background: #faffbd;
    text-shadow: none;
}
    .menu ul li:hover{
        background-color: white;
    }
    .menu ul li{
        padding: 1%;
        margin: 0;
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: box;
        display: flex;
        overflow: hidden;
        -webkit-box-pack: justify;
        -o-box-pack: justify;
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
        -webkit-box-align: center;
        -o-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        background-color: white;
        height: 2rem;
        padding: 6px;
        border-top: 0px solid #e6ecf2;
        border-bottom: 0px solid #e6ecf2;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        margin-top: 0%;
        margin-bottom: 0%;
        white-space: nowrap;
        color: #16325c;
        font-size: .90rem;
        line-height: 2;
        text-align: left;
        flex: 1;
        font-weight: 500;    
    
    }
    .menu {
         border:0px solid #c5d2e0;
    }
    .btn1{
        background: none !important;
        border:none !important;
        color: #5c7a99 !important;
        
    }
     .btn1:hover{
        background: #dbe1e6 !important;;
        border:none !important;
        color: #5c7a99 !important;
        text-decoration:none !important;
        
    }
    .selector{
        width:382px;
        padding-bottom:1px;
    }
    .selector.measure .names{
        height: 258px;
    }
    .slds .slds-card__body {
        padding:0px 0px;
    }
    .slds .slds-card + .slds-card {
     margin-top: 0px; 
}

input[type=text], input[type=password], textarea {
    margin-bottom: 3px;
}

.selector.measure .functionlist.tall {
    top: 37px;
}
</style>
        
        
     </head>
      
       <body ng-cloak="ng-cloak" ng-app="demoajax" ng-controller="Demo" style="align:center" id="anguController">  
     <style>
                     .Imgclass{
                         display:none;                
                     }    
                     
                      .managebutton {
                               border: 1.35px solid lightgrey; 
                               
                           }
                           .managebutton:hover{
                               border: 1.35px solid #2EC2BA;
                           } 
                            .NewclassAdd{ 
                            margin-top: 60px !important;
                            
                            padding: 0px 12px 6px 12px !important;
                            font-size: 25px !important;
                            line-height: 25px !important;
                            background: lightgrey !important;
                            color: black !important;
                        }
                        .NewclassRem{ 
                            margin-top: 10px !important;
                           //margin-left: 40px !important;
                            padding: 0px 12px 6px 12px !important;
                            font-size: 25px !important;
                            line-height: 25px !important;
                            background: lightgrey !important;
                            color: black !important;
                        }
                        
                        @media only screen and (max-width: 830px) {
        .NewSldscard{
            min-width:95px
        }      
    }
    @media only screen and (min-width: 831px) {
        .NewSldscard{
            min-width:180px
        }      
    }  
    @media only screen and (min-width: 900px) {
        .NewSldscard{
            min-width:110px
        }    
    }
    @media only screen and (min-width: 1000px) {
        .NewSldscard{
            min-width:130px
        }    
    }
     @media only screen and (min-width: 1100px) {
        .NewSldscard{
            min-width:135px;
        }    
    }
     @media only screen and (min-width: 1200px) {
        .NewSldscard{
            min-width:140px
        }    
    }
    @media only screen and (min-width: 1250px) {
        .NewSldscard{
            min-width:145px
        }    
    }
    @media only screen and (min-width: 1300px) {
        .NewSldscard{
            min-width:155px
        }    
    }
    
    @media only screen and (min-width: 1350px) {
        .NewSldscard{
            min-width:165px
        }    
    }
     @media only screen and (min-width: 1400px) {
        .NewSldscard{
            min-width:175px
        }    
    }
    @media only screen and (min-width: 1450px) {
        .NewSldscard{
            min-width:195px
        }    
    }
                 </style>
                  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>
       $(function(){
            $('.Classval').hover(function(){ /* hover first argument is mouseenter*/
                $(this).css({"background": "green"});
            },function(){  /* hover second argument is mouseleave*/
               $(this).css({"background": "white"});
            });
        
        });
        </script>     
    <script>
            function myFunction() {
              var input, filter, table, tr, td, i;
              input = document.getElementById("EInput");
              filter = input.value.toUpperCase();
              table = document.getElementById("myTable");
              tr = table.getElementsByTagName("tr");
              for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                  if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                  } else {
                    tr[i].style.display = "none";
                  }
                }       
              }
            }
            
           
    </script>
      <style>
       
        
   
    </style>
   

    <script>
        var j$ = jQuery.noConflict();
    </script> 
   
            <script type="text/javascript">
               
         
         function ShowKPIsectionone(about,colors)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
             
               div.style.display = "block";
               divval.style.display = "block";
             
              } 
              function HideKPIsectionone(about,colors)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
             
               div.style.display = "none";
               divval.style.display = "none";
             
              }
              
        </script>
        
    <apex:form id="myForm">
        <apex:outputpanel id="NewDB">
            <apex:pagemessages /> 
            <script>
                closeSingleTemplatePopup();
            </script>
           <apex:outputpanel rendered="{!DashboardSuccess}">         
                        <div class="slds">
                            <div class="slds-notify_container slds-m-top--medium">
                                <div class="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture" role="alert">
                                    <h2 style="color: #f8f7f7;font-weight: bold;">
                                        Dashboard Created Successfully&nbsp;&nbsp;&nbsp;<apex:outputlink value="/analytics/wave/wave.apexp#dashboard/{!AnalyticsDashboardId}" target="_blank" style="font-weight: 300;">Click here to go to Einstein Analytics</apex:outputlink>
                                    </h2>
                                </div>
                            </div>
                        </div>
                        <script>
                             window.open('/analytics/wave/wave.apexp#dashboard/{!AnalyticsDashboardId}');
                        </script>
                    </apex:outputpanel> 
                    
                      <script>
                                          
                               var isCheckContacts = '{!NoAcccountbalance}';
                               if(isCheckContacts == 'false'){
                                   closepurchaseDBclone();
                               }
                           </script>  
          <apex:outputpanel rendered="{!DashboardSales}">         
                        <div class="slds">
                            <div class="slds-notify_container slds-m-top--medium">
                                <div class="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture" role="alert" style="background:#ec3030;">
                                    <h2 style="color: #f8f7f7;">
                                        Dashboard Not Created !!!.... 
                                    </h2>
                                </div>
                            </div>
                        </div>
                    </apex:outputpanel>
                    
                    <div class="slds" id="DashboardDBId" style="display:none;">
                            <div class="slds-notify_container slds-m-top--medium">
                                <div class="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture" role="alert" style="background:#ec3030;" >
                                    <h2 style="color: #f8f7f7;" >
                                        Dashboard Not Created !!!....Please Select At Least 1 Dimensions and 1 Measure.
                                    </h2>
                                </div>
                            </div>
                        </div>
                     <div class="slds" style="display:none" id="configCreate">
                            <div class="slds-notify_container slds-m-top--medium">
                                <div class="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture" role="alert">
                                    <h2 style="color: #f8f7f7;font-weight: bold;">
                                        Configuration Created Successfully

                                    </h2>
                                </div>
                            </div>
                        </div>   
<script>
                               
                                        closeGeneratePopup();
                                    
                                    

                                </script>

        </apex:outputpanel>
        <apex:outputpanel id="opaueId">
                        <apex:actionStatus id="status">
                            <apex:facet name="start">
                                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 10000; background-color: black;"></div>
                                <center>
                                    <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 10000; margin: 15% 50%">
                                        <div style="display: inline-block; padding: 2px; background-color: #fff; width: 150px;">
                                            <img src="{!$Resource.NewTouch_Logo}" width="20%" height = "10%" style="float: left; margin: 8px;" />
                                            <span style="display: inline-block; padding: 10px 0px;">Please Wait...</span>
                                        </div>
                                    </div>
                                </center>
                            </apex:facet>
                        </apex:actionStatus>
                    </apex:outputpanel>
        <div class="slds" style="background-color:#ccc;box-shadow: 0 0 5px #888;width:95%;margin-left:30px;margin-top:10px;box-shadow: 0 0 5px #888;">
            <div class="myapp" style="background-color: white;padding-top:10px;padding-bottom:10px">
        		<div class="slds-col slds-no-flex">
        			<div class="slds-button-group" role="group" style="display:block;"> 
        				<table>
        					<tr>
        					  	<td width="34%">   
        							<!--<button type="button" Class=" slds-button--neutral managebutton" onclick="openSingleTemplatePopup()" style="float:left;background: white;font-weight:bold;margin-left:10px;color:rgb(101, 97, 97);line-height:25px" rerender="Forms"  status="status">Save Configuration</button> -->
        						</td> 
        						<td width="40%" style="text-align:center">
        							<img style="cursor:pointer;" src="{!$Resource.Touch_Analytics_New_Logo}" onclick="closefunctions()" width="280px" height="40px" />
        						</td>
        						<td width="26%">  
        						<!--  <apex:outputLink value="https://dflchatbot1-developer-edition.ap4.force.com/?command1=Authenticate%20yourself%20with%20Pin&pin__c=12345&command2=create%20new%20case&User_Name__c={!$User.Username}&User_Email__c={!$User.Email}&User_Company__c={!$User.CompanyName}" 
                        id="theLink"
                        target="_blank" 
                        style="float:right;padding-right:10px;" ><img style="cursor:pointer;" src="{!$Resource.Contactus_Active_Logo}" width="50px" height="15px" />
        					</apex:outputLink> -->
        					<!--<apex:outputLink value="https://docs.google.com/forms/d/e/1FAIpQLSeVSeLboh4gOU-Vnut_CApMKd5XwrkWjJ95HfUV-8UkBwcUKA/viewform?usp=sf_link" target="_blank" style="float:right;" ><img style="cursor:pointer;" src="{!$Resource.Contactus_Active_Logo}" width="50px" height="15px" /></apex:outputLink>-->
        						</td>
        					</tr>
        				</table> 
        			</div>
        		</div>  
        	</div>
        	<apex:outputpanel id="Forms">  
                <style>
                    .Class1{
                         background-color:#2EC2BA !important;
                        color:#FFF !important;
                    }
                    .Class2{
                   
                    border-color: none !important;
                    background-color:white !important;
                    color: #54698d !important;
                    }
                    
                    .NewHeight{
                        background-color:white;
                    }   
                    .NewHeight:hover{
                        background-color:black;
                    }
                </style>
        	     
            
        
            <script>
             

   
    
    function openGeneratePopup(){
            
                ErrorMethod();
           
        }

        function closeGeneratePopup(){      
            document.getElementById("GeneratePopup").className = document.getElementById("GeneratePopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
            hideBackDrop();
            return false;
        } 
        
        function openSingleTemplatePopup(){
            document.getElementById("tstpopupTemplate").className = document.getElementById("tstpopupTemplate").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )
            showBackDrop();
            return true;
        }

        function closeSingleTemplatePopup(){      
            document.getElementById("tstpopupTemplate").className = document.getElementById("tstpopupTemplate").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
            hideBackDrop();
            return false;
        }  
        
        
    
                function openKPI1(name,dataset){ 
                    document.getElementById("KPIRow").value = name;
                    document.getElementById("tstpopup1").className =
                    document.getElementById("tstpopup1").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )               
                    showBackDrop1();
                    return true;
                } 
                
                                   
                function closeKPI1(){                     
                    document.getElementById("tstpopup1").className =
                    document.getElementById("tstpopup1").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                    hideBackDrop();
                    return true;
                }
                
                 function showBackDrop1(){ 
                    document.getElementById("backdropDiv").className =document.getElementById("backdropDiv").className.replace(/(?:^|\s)slds-modal-backdrop--closed(?!\S)/g , ' slds-modal-backdrop--open' )
                    return false;
                } 
                
                 function hideBackDrop1(){    
                    document.getElementById("backdropDiv").className = document.getElementById("backdropDiv").className.replace(/(?:^|\s)slds-modal-backdrop--open(?!\S)/g , ' slds-modal-backdrop--closed' )
                    return false;
                }
               
                function closeSelectPopup(){
                    //himanshu
                   //addFilteritemsOld[indexpanel]=$("#selectitemstab"+indexpanel).html();
                   //himanshu 
                   
                    //document.getElementById("SelectPopup").className =
                    document.getElementById("SelectPopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                   // var Rownumber =  '{!SelectedrowValue}'; 
                    var MeasureRec = $("#MenuItems1 ul").html();
                    document.getElementById('Menuitemsval').value= MeasureRec;
                    refreshSelected();
                    hideBackDrop();
                    return true;                
                }
                function closepop(){
                    //himanshu
                   addFilteritemsOld[indexpanel]=$("#selectitemstab"+indexpanel).html();
                   //himanshu 
                   
                    //document.getElementById("SelectPopup").className =
                    var Rownumber =  '{!SelectedrowValue}'; 
                    var MeasureRec = $("#MenuItems"+Rownumber+" ul").html();
                    document.getElementById('Menuitemsval').value= MeasureRec;
                    document.getElementById("RowNumber").value = Rownumber;
                    refreshSelected();
                                 
                }
                function closeSelectPopupdim(){
                    //himanshu
                   addFilteritemsOld[indexpanel]=$("#selectitemstab"+indexpanel).html();
                   //himanshu 
                   
                    document.getElementById("SelectedButtonValues").value = document.getElementById('{!$Component.SelectedButtonValue}').value;
                    document.getElementById("SelectPopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                   
                    NewListvalues();
                    hideBackDrop();
                    return true;                
                }
                
             
             function NewDataset(){
                 dataSetId = '{!KPIDatasets}';
                 folderId='{!CurrentVersionId}';
                 selurlid = '{!CurrentVersionurl}';
             }
        
        
            

                
                
                
                 
              
        </script>
          <script>
             function showhide5(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
                    var divvals = document.getElementById(displays);
             
               div.style.display = "block";
               divval.style.background = "#2EC2BA";
               divvals.style.display = "none";
               
             
              } 
              function showhide6(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
                     var divvals = document.getElementById(displays);
             
               div.style.display = "none";
               divval.style.background = "white";
               divvals.style.display = "block";
             
              } 
       </script>
            <script>
            
             function showhide(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
                     var divvals = document.getElementById(displays);
                
                        div.style.display = "block";
                        divval.style.background = "#2EC2BA";
                          divvals.style.display  = "block";
                          divvals.style.width  = "max-content";
                           divvals.style.background = "#2EC2BA";
                            divvals.style.zIndex = "2";
                            $('td#'+displays).find('.classstyle').attr("style"," background-color: #2EC2BA;position:relative;z-index:2;padding-bottom:12px;padding-top:3px");

                         
                          
                
              } 
              function showhide2(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
                     var divvals = document.getElementById(displays);
                
                        div.style.display = "none";
                        divval.style.background = "white";
                        divvals.style.display  = "block";
                        divvals.style.width  = "100%";  
                           divvals.style.background = "white";
                           divvals.style.zIndex = "0";
                           $('td#'+displays).find('.classstyle').attr("style"," background-color: white;position:relative;z-index:0;padding-bottom:12px;padding-top:3px");

              }
              
               function showhidesecone(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
                    var divvals = document.getElementById(displays);
                
                        div.style.display = "block";
                        divval.style.background = "#2EC2BA";
                        divvals.style.display  = "none";
                         
                
              } 
              function showhidesecone2(about,colors,displays)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
                     var divvals = document.getElementById(displays);
                     
                
                        div.style.display = "none";
                        divval.style.background = "white";
                        divvals.style.display  = "block";
                
              } 
              
              function showhidesecone3(about,colors)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
                
                        div.style.display = "block";
                        divval.style.background = "#2EC2BA";
                
              } 
              function showhidesecone4(about,colors)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
                
                        div.style.display = "none";
                        divval.style.background = "white";
                
              } 
              
              
              function showhidesecone5(about,colors)
                 {
                    var div = document.getElementById(about);
                    var divval = document.getElementById(colors);
                
                        div.style.display = "block";
                        divval.style.background = "#2EC2BA";
                
              } 
              function showhidesecone6(about,colors)
                 {
                    var div = document.getElementById(about);
                     var divval = document.getElementById(colors);
                
                        div.style.display = "none";
                        divval.style.background = "white";
                
              }
              
               function openSelectPopup(value){
                    document.getElementById('{!$Component.SelectedButtonValue}').value = value;
                    document.getElementById("SelectPopup").className =
                    document.getElementById("SelectPopup").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )               
                    //selectopp();
                    
                    if(value == 'Dimensions'){
                     ActDimension();
                     //showDimension();
                    }
                    if(value == 'Datefield'){
                    ActDateField();
                    //showDates();
                    }  
                    if(value == 'Measures'){
                     ActMeasure(); 
                    
                    }  
                                                                            
                    showBackDrop();
                    return true;                
                }
       </script>
       
        <!-- Popup generate sucess -->
                    <div aria-hidden="true" role="dialog" class="slds-modal slds-modal--large slds-fade-in-closed slds-modal-backdrop slds-modal-backdrop--closed "  id="GeneratePopup" >
                        <div class="slds-modal__container ">
                            <div class="slds-modal__content" style="border-top-right-radius: 4px;border-top-left-radius: 4px;position:absolute; width:600px;left:300px;top:200px;">
                                <div style="background-color: #f4f6f9;padding: 8px;margin-bottom: 10px;border-radius: 3px;">
                                    <span>
                                        <b style="font-size:15px">Dashboard</b>
                                    </span>
                                </div>   
                                <div class="slds-form--horizontal">
                                    <div class="slds-form-element slds-m-top--medium">
                                        <label class="slds-form-element__label" for="inputSample2">Dashboard Name</label>
                                        <div class="slds-form-element__control">
                                            <input type="text" id="DashboardName" class="slds-input" />
                                            <div id="errordash" style="padding-left:3px;color: #d74c3b;"></div > 
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-top--medium"> 
                                        <label class="slds-form-element__label" for="inputSample2">Dashboard Title</label>
                                        <div class="slds-form-element__control">
                                            <input type="text" id="DashboardTitle" class="slds-input" />
                                            <div id="errorTitle" style="padding-left:3px;color: #d74c3b;"></div > 
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-top--medium">
                                        <label class="slds-form-element__label" for="inputSample2">Dashboard Description</label>
                                        <div class="slds-form-element__control">
                                            <input type="text" id="DashboardDesc" class="slds-input" />
                                            <div id="errordesc" style="padding-left:3px;color: #d74c3b;"></div > 
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-top--medium">
                                        <label class="slds-form-element__label" for="inputSample2">Select Theme</label>
                                        <div class="slds-form-element__control">
                                           <div class="slds-select_container">
                                               <apex:outputPanel id="outId">
                                                <apex:selectList styleclass="slds-select" size="1" value="{!AllVal}" id="ThemeId">
                                                    <apex:actionSupport event="onchange" action="{!ActualTargetTheme}" rerender="outId" />
                                                    <apex:selectOptions value="{!NewListopt}"/>
                                                </apex:selectList>
                                                </apex:outputPanel>
                                            </div>  
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-top--medium slds-m-bottom--medium">
                                        <label class="slds-form-element__label" for="inputSample2">Select App</label>
                                        <div class="slds-form-element__control">
                                            <div class="slds-select_container">
                                                <apex:selectList styleclass="slds-select" size="1" value="{!strFloderId}">
                                                    <apex:selectOptions value="{!getFloderList}"/>
                                                </apex:selectList>
                                            </div>
                                        </div>
                                    </div>                
                                </div>
                                <div class="slds-float--right">
                                    <div class="slds-x-small-buttons--horizontal">
                                        <button type="button" class="slds-button slds-button--neutral" status="status" onclick="closeGeneratePopup()" >Cancel</button>
                                        <button type="button" class="slds-button slds-button--neutral slds-button--brand" status="status" onclick="saveDashboard()" >Submit</button>  
                                    </div>    
                                </div>   
                            </div>
                        </div>  
                    </div>  
                    
                        
            <!-- SingleKPI PopUp Start-->               
                 <div class="slds-form-element" style="padding-top:0px;">
                <div class="slds-grid slds-m-top--large" Style="margin-top:0px">
                
                    <div aria-hidden="true" role="dialog" class="slds-modal slds-modal--large slds-fade-in-closed slds-modal-backdrop slds-modal-backdrop--closed "  id="tstpopupTemplate" >
                        <div class="slds-modal__container ">
                           
                         <apex:outputPanel id="OppEditPopup1">       
                           <div class="slds-modal__content" style="border-top-right-radius: 4px;border-top-left-radius: 4px;position:absolute; width:600px;left:300px;top:200px;">  
                                <div style="background-color: #f4f6f9;padding: 8px;margin-bottom: 10px;border-radius: 3px;"><span><b style="font-size:15px">Add Configuration</b></span></div>                           
                                   
                                          <div class="slds-form--horizontal">
                                        <div class="slds-form-element slds-m-top--medium">
                                            <label class="slds-form-element__label" for="inputSample2" style="font-weight:bold">Configuration Name</label>
                                            <div class="slds-form-element__control">  
                                                 <input type="text" id="SingleName" class="slds-input" style="margin-bottom:10px;" />
                                            <div id="errorsingle" style="padding-left:3px;color: #d74c3b;"></div >     
                                            </div>
                                        </div>
                                        </div>      
  
                         
                                <div class="slds-modal__footer">
                                    <div class="slds-x-small-buttons--horizontal">    
                                          <button type="button" Class="slds-button slds-button--neutral" rerender="MyForm,Forms"  onclick="closeSingleTemplatePopup()" html-formnovalidate="formnovalidate" >Cancel</button>  
                                          <button type="button" class="slds-button slds-button--neutral slds-button--brand"  onclick="singleDashboard()" html-formnovalidate="formnovalidate" >Submit</button>   
                             
                                    </div>    
                                </div>   
                            </div>
                             </apex:outputPanel>
                        </div>
                    </div> 
                    
                    
                     <div style="display:none" id="pleasewait">
             <div name="start">
                 <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 10001; background-color: black;"></div>
                 <center>
                     <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 10001; margin: 15% 50%">
                         <div style="display: inline-block; padding: 2px; background-color: #fff; width: 150px;">
                             <img src="{!$Resource.NewTouch_Logo}" width="20%" height = "10%" style="float: left; margin: 8px;" />
                             <span style="display: inline-block; padding: 10px 0px;font-size:15px">Please Wait...</span>
                         </div>
                     </div>
                 </center>
             </div>
         </div>
 <div aria-hidden="true" role="dialog" class="slds-modal slds-modal--large slds-fade-in-closed slds-modal-backdrop slds-modal-backdrop--closed "  id="purchaseDashboard" >
                            <div class="slds-modal__container ">
                                <div class="slds-modal__content" style="border-top-right-radius: 4px;border-top-left-radius: 4px;position:relative; width:700px;left: 250px;">
                                <apex:outputpanel id="purId">                     
                                  <script language="javascript">
                                            var isConnect = '{!isConnect}';
                                            if(isConnect == 'true'){
                                                initAct();  
                                                // document.getElementById("pleasewait").style.display = "block";
                                            }
                                    
                                     </script>
                                     <apex:actionFunction name="initAct" action="{!connectToSFDC}" rerender="accountPanel,PB" status="status"/>
                                     <apex:actionFunction name="accountAct" action="{!verifyAccountDetails}" rerender="contactPanel,PB" status="status" />
                                     <apex:outputPanel id="accountPanel">
                                         <script language="javascript">
                                            var isCheckAccount = '{!isCheckAccount}';
                                            if(isCheckAccount == 'true'){
                                                accountAct();    
                                            } 
                                         </script>
                                     </apex:outputPanel>
                                     
                                    <apex:actionFunction name="contactAct" action="{!verifyContactDetails}" rerender="PB" status="status" oncomplete="buildSelected()"/>
                                     <apex:actionFunction name="buildSelecteds" action="{!buildSelected}" rerender="PB" status="status" />
                                    <apex:outputPanel id="contactPanel">
                                         <script language="javascript">
                                            var isCheckContact = '{!isCheckContact}';
                                            if(isCheckContact == 'true'){
                                                contactAct();    
                                            } 
                                            
                                            function buildSelected(){
                                               // alert('1234');
                                             //  document.getElementById("pleasewait").style.display = "none";
                                                buildSelecteds();
                                            }
                                         </script>
                                     </apex:outputPanel>
                                   <div style="background-color: #f4f6f9;padding: 8px;margin-bottom: 10px;border-radius: 3px;">
                                        <span>
                                            <b style="font-size:15px">Purchase Dashboards</b>
                                        </span>
                                    </div>   
                                    <apex:outputpanel id="PB">
                                        <apex:pageMessages ></apex:pageMessages>
                                    <apex:outputpanel rendered="{!IF(NoAcccountbalance == false,true,false)}">
                                        <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-top: 0px solid #d8dde6;border-bottom: 0px solid #d8dde6;">
                                    <thead style="border-top: 0px solid #d8dde6;">
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Beginning Balance</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">${!accountBalance}</th>
                                        </tr>
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Build Cost</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">${!BuildCost}</th>
                                        </tr> 
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Coupon Code</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">
                                                <apex:inputtext value="{!CouponCode}" styleClass="slds-input" style="height: 25px;width:70%;margin-right:5px">
                                                    
                                                </apex:inputtext>  
                                                <apex:commandButton action="{!getCouponInformation}" styleClass="slds-button slds-button--brand" reRender="PB" value="Apply"></apex:commandButton>
                                            </th>
                                        </tr>  
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Coupon Value</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">${!CouponValue}</th>
                                        </tr>      
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Total Cost</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">${!TotalCost}</th>
                                        </tr>   
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">Ending Balance</th>
                                            <th class="slds-medium-size--1-of-4" scope="col" style="border-top: 0px solid #d8dde6;">${!CreditsRemaining}</th>
                                        </tr> 
                                        <tr style="border-top: 0px solid #d8dde6;">
                                            <th class="slds-medium-size--1-of-4" scope="col" colspan="2" style="border-top: 0px solid #d8dde6;">
                                                <apex:commandButton styleClass="slds-button slds-button--brand" style="float:right" value="Purchase & Build" rerender="PB,NewDB,opaueIds" rendered="{!!displayConnectButtons}" action="{!Submit}" onclick="Newpleaswait()" oncomplete="Newpleaswaitclose();"></apex:commandButton>                                                
                                                <!--<apex:commandButton styleClass="slds-button slds-button--brand" style="float:right;margin-right: 5px;" value="Save & Cancel" rerender="PB" rendered="{!!displayConnectButtons}" action="{!SaveandCloseopp}" onclick="Newpleaswait()" oncomplete="closepurchaseDBclone1();"></apex:commandButton>-->
                                               
                                                <button type="button" Class="slds-button slds-button--neutral" style="float:right" rerender="MyForm,Forms"  onclick="closepurchaseDB()" html-formnovalidate="formnovalidate" >Cancel</button>  
                                            </th>
                                        </tr>                                        
                                    </thead>
                                </table>
                                    </apex:outputpanel>   
                                    <apex:outputpanel rendered="{!IF(NoAcccountbalance == true,true,false)}">
                                    <div style="height: 100px;">
                                        <div style="font-size: 23px;text-align:center"><b style="font-size: 23px;">Error:</b></div>
                                        <div style="font-size: 17px;text-align:center">You don't have enough credits to purchase this Dashboard, please email Sales@AnalyticsCc.com in order to add credit to your account.</div>
                                    </div>
                                     <!--<Button type="button" Class="slds-button slds-button--brand" style="float: right;" rerender="PB" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSeVSeLboh4gOU-Vnut_CApMKd5XwrkWjJ95HfUV-8UkBwcUKA/viewform?c=0&w=1');" >Purchase More Credits</Button>                                                -->
                                     <apex:commandButton styleClass="slds-button slds-button--neutral" style="text-align:center" value="Back" rerender="PB"  action="{!Goback}"></apex:commandButton>
                                       
                                      
                                    </apex:outputpanel>
                                    </apex:outputpanel>
                                    </apex:outputpanel>                                 
                                </div>
                            </div>  
                        </div>  
                </div>
            </div> 
                
            <!--SingleKPI PopUp End -->
            
            
            <apex:outputpanel id="refreshSelected" >       
  <apex:outputpanel id="tab_default-4" >
  <div id="tab-default-4" style="padding: 0px;" class="slds-tabs--default__content slds-show" role="tabpanel" aria-labelledby="tab-default-4__item">
    <div style="background-color:#F0F0F0 ;padding: 10px;max-height: 300px;height: 290px;">
    
    <div class="row">
    <table style="width:100%;" cellpadding="4px">
    <tr>
    <td style="width:50%;text-align:center;"><button onclick="openSelectPopup('Dimensions')" type="button" class="managebutton slds-button--neutral" style="line-height: 24px;color:rgb(77, 77, 77);background:#FFF;font-weight:bold" >Dimensions</button></td>
   <!-- <td style="width:33.33%;text-align:center;"><button onclick="openSelectPopup('Datefield')" type="button" class="managebutton slds-button--neutral" style="line-height: 24px;color:rgb(77, 77, 77);background:#FFF;font-weight:bold" >Datefields</button></td> -->
     <td style="width:50%;text-align:center;"><button onclick="openSelectPopup('Measures')" type="button" class="managebutton slds-button--neutral" style="line-height: 24px;color:rgb(77, 77, 77);background:#FFF;font-weight:bold" >Measures</button></td>
    <!-- toggleMeasures('{!SelectedrowValue}','0Fb36000000H8iHCAS','0Fc360000010Yy6CAE');return false; <td style="width:25%;text-align:center;"><button onclick="openSelectPopup('Measures')" type="button" class="managebutton slds-button--neutral" style="line-height: 24px;color:rgb(77, 77, 77);background:#FFF;font-weight:bold" >Measures</button></td>-->
    </tr>
    <tr>
    <td style="width:50%;padding: 5px 5px;" valign="top">
    <apex:repeat value="{!KPIDetils}" var="KPIDimenRec"> 
    <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 1,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDimenRec.KPICheck == false,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDimenRec.SelectedDimensions != null,true,false)}">
    
    <table style="width:7%;float:left"> 
        <tr>
            <td>&nbsp;</td>  
        </tr>
        </table>     
    <table style="width:42%;margin-top:10px;background-color: white;border-radius: 6px;float:left;table-layout: fixed;" id="tableId"> 
     <apex:variable var="Row" value="{!1}" />
     <tr><td style="padding-bottom: 5px;"></td></tr>
    <apex:repeat value="{!KPIDimenRec.SelectedDimensions}" var="DimSel">   
        <tr valign="top" id="AccountId{!Row}{!KPIDimenRec.KPIRownumber}" onmouseover="showhide('Account{!Row}{!KPIDimenRec.KPIRownumber}','AccountId{!Row}{!KPIDimenRec.KPIRownumber}','Display3{!Row}{!KPIDimenRec.KPIRownumber}')" onmouseout="showhide2('Account{!Row}{!KPIDimenRec.KPIRownumber}','AccountId{!Row}{!KPIDimenRec.KPIRownumber}','Display3{!Row}{!KPIDimenRec.KPIRownumber}')" >
             <td Style="text-align:center;border-top:0px;overflow:hidden;width:100%;max-width:900px;min-width:100%;text-overflow: ellipsis;z-index:0" id="Display3{!Row}{!KPIDimenRec.KPIRownumber}"> 
			   <apex:outputText value="{!DimSel.Availablename}" styleclass="classstyle" style="position:relative;" />
                 <span style="float:right;background:#2EC2BA !important;width:max-content;position:relative; z-index:2;height: 25px;display:none;" id="Account{!Row}{!KPIDimenRec.KPIRownumber}">     <img style="cursor:pointer;position:relative; z-index:2;float:right" onclick="openLabelPopup1('{!DimSel.Availablename}','Dimensions','1')"  title="Edit" src="{!$Resource.Edit}" width="20px" height="11px" />  </span>
                 </td>
             
        
        </tr>
        <apex:variable var="Row" value="{!Row + 1}" />
    </apex:repeat>
    <tr ><td style="padding-bottom: 5px;"></td></tr>
    </table> 
      
    
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
     <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 2,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDimenRec.KPICheck == false,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDimenRec.SelectedDimensions != null,true,false)}">
       
        
         <table style="width:8%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    <table style="width:42%;margin-top:10px;background-color: white;border-radius: 6px;float:right;table-layout: fixed;"> 
     <tr><td style="padding-bottom: 4px;"></td></tr>
     <apex:variable var="Row" value="{!1}" />

    <apex:repeat value="{!KPIDimenRec.SelectedDimensions}" var="DimSel"> 
        <tr valign="top" id="AccountId{!Row}{!KPIDimenRec.KPIRownumber}" onmouseover="showhide('Account{!Row}{!KPIDimenRec.KPIRownumber}','AccountId{!Row}{!KPIDimenRec.KPIRownumber}','Display3{!Row}{!KPIDimenRec.KPIRownumber}')" onmouseout="showhide2('Account{!Row}{!KPIDimenRec.KPIRownumber}','AccountId{!Row}{!KPIDimenRec.KPIRownumber}','Display3{!Row}{!KPIDimenRec.KPIRownumber}')" >
             <td Style="text-align:center;border-top:0px;overflow:hidden;width:90%;max-width:900px;text-overflow: ellipsis;min-width:100%" id="Display3{!Row}{!KPIDimenRec.KPIRownumber}"> 
			   <apex:outputText value="{!DimSel.Availablename}" styleclass="classstyle" style="position:relative;" />
                <span style="float:right;background:#2EC2BA !important;width:max-content;position:relative; z-index:2;height: 25px;display:none;" id="Account{!Row}{!KPIDimenRec.KPIRownumber}">     <img style="cursor:pointer;position:relative; z-index:2;float:right" onclick="openLabelPopup1('{!DimSel.Availablename}','Dimensions','2')"  title="Edit" src="{!$Resource.Edit}" width="20px" height="11px" />  </span>
                 </td>
             
        
        </tr>
       
        <apex:variable var="Row" value="{!Row + 1}" />
          
    </apex:repeat>
    <tr><td style="padding-bottom: 4px;"></td></tr>
    </table> 
     <table style="width:1%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table> 
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:repeat> 

    </td>
   <!-- <td style="width:33.33%;padding: 5px 5px;" valign="top">
    <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
    <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 1,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDateRec.KPICheck == false,true,false)}">  
    <apex:outputpanel rendered="{!IF(KPIDateRec.SelectedDateFieldlist != null,true,false)}">
         <table style="width:7%;float:left"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    <table style="width:42%;margin-top:10px;background-color: white;border-radius: 6px;float:left"> 
     <apex:variable var="Row" value="{!1}" />
      <tr><td style="padding-bottom: 4px;"></td></tr>
    <apex:repeat value="{!KPIDateRec.SelectedDateFieldlist}" var="SelectedFields">
        <tr valign="top" id="AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}" onmouseover="showhidesecone('Accountsecone{!Row}{!KPIDateRec.KPIRownumber}','AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}','Display4{!Row}{!KPIDateRec.KPIRownumber}')" onmouseout="showhidesecone2('Accountsecone{!Row}{!KPIDateRec.KPIRownumber}','AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}','Display4{!Row}{!KPIDateRec.KPIRownumber}')">
             <td Style="text-align:center;border-top:0px;overflow:hidden;width:90%;max-width:900px;text-overflow: ellipsis;" id="Display4{!Row}{!KPIDateRec.KPIRownumber}"> 
			   <apex:outputText value="{!SelectedFields.DateFieldName}" />
                
                 </td>
             
        <td Style="text-align:center;border-top:0px;overflow:visible;display:none;z-index:100" id="Accountsecone{!Row}{!KPIDateRec.KPIRownumber}">
             <div style="width: max-content;" class="NewSldscard">
            <div style="float:left;background:#2EC2BA !important;width:90%;position:relative; z-index:2;height: 25px;"> <apex:outputText value="{!SelectedFields.DateFieldName}" style="position:relative; z-index:2;"/> </div>
            <div style="float:right;background:#2EC2BA !important;width:10%;position:relative; z-index:2;    height: 25px;">     <img style="cursor:pointer;position:relative; z-index:2;float:right" onclick="openLabelPopup1('{!SelectedFields.DateFieldName}','DateFields','1')" title="Edit" src="{!$Resource.Edit}" width="20px" height="11px" />  
             </div>
                 </div>
                 </td>
        </tr>
         
         <apex:variable var="Row" value="{!Row + 1}" />
    </apex:repeat> 
    <tr><td style="padding-bottom: 4px;"></td></tr>
    </table> 
     
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
     <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 2,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIDateRec.KPICheck == false,true,false)}">  
    <apex:outputpanel rendered="{!IF(KPIDateRec.SelectedDateFieldlist != null,true,false)}">
          <table style="width:8%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    <table style="width:42%;margin-top:10px;background-color: white;border-radius: 6px;float:right"> 
     <apex:variable var="Row" value="{!1}" />
      <tr><td style="padding-bottom: 4px;"></td></tr>
    <apex:repeat value="{!KPIDateRec.SelectedDateFieldlist}" var="SelectedFields">
         <tr valign="top" id="AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}" onmouseover="showhidesecone('Accountsecone{!Row}{!KPIDateRec.KPIRownumber}','AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}','Display4{!Row}{!KPIDateRec.KPIRownumber}')" onmouseout="showhidesecone2('Accountsecone{!Row}{!KPIDateRec.KPIRownumber}','AccountIdsecone{!Row}{!KPIDateRec.KPIRownumber}','Display4{!Row}{!KPIDateRec.KPIRownumber}')">
             <td Style="text-align:center;border-top:0px;overflow:hidden;width:90%;max-width:900px;text-overflow: ellipsis;" id="Display4{!Row}{!KPIDateRec.KPIRownumber}"> 
			   <apex:outputText value="{!SelectedFields.DateFieldName}" />
                
                 </td>
             
        <td Style="text-align:center;border-top:0px;overflow:visible;display:none;z-index:100" id="Accountsecone{!Row}{!KPIDateRec.KPIRownumber}">
             <div style="width: max-content;" class="NewSldscard">
            <div style="float:left;background:#2EC2BA !important;width:90%;position:relative; z-index:2;height: 25px;"> <apex:outputText value="{!SelectedFields.DateFieldName}" style="position:relative; z-index:2;"/> </div>
            <div style="float:right;background:#2EC2BA !important;width:10%;position:relative; z-index:2;    height: 25px;">     <img style="cursor:pointer;position:relative; z-index:2;float:right" onclick="openLabelPopup1('{!SelectedFields.DateFieldName}','DateFields','2')" title="Edit" src="{!$Resource.Edit}" width="20px" height="11px" />  
             </div>
                 </div>
                 </td>
        </tr>
         
         <apex:variable var="Row" value="{!Row + 1}" />
    </apex:repeat>  
    <tr><td style="padding-bottom: 4px;"></td></tr>
    </table> 
      <table style="width:1%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:repeat> 
    
    </td> -->
    <td style="width:50%;padding: 5px 5px;" valign="top">
         <apex:repeat value="{!KPIDetils}" var="KPIMeasureRec"> 
           <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPIRownumber == 1,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPICheck == false,true,false)}"> 
    <apex:outputpanel rendered="{!IF(KPIMeasureRec.selectedMeasures != null,true,false)}">
         <table style="width:7%;float:left"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    <table style="width:42%;margin-top:10px;background-color: white;border-radius: 6px;float:left;table-layout: fixed;">
         <apex:variable value="{!1}" var="Row"/>
          <tr><td style="padding-bottom: 4px;width:100%" width="100%"></td></tr>
    <apex:repeat value="{!KPIMeasureRec.selectedMeasures}" var="SelectedMeasure">
        <tr valign="top" id="AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}"  onmouseover="showhide('2Account{!Row}{!KPIMeasureRec.KPIRownumber}','AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}','Display{!Row}{!KPIMeasureRec.KPIRownumber}')" onmouseout="showhide2('2Account{!Row}{!KPIMeasureRec.KPIRownumber}','AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}','Display{!Row}{!KPIMeasureRec.KPIRownumber}')">
           <td Style="text-align:center;border-top:0px;overflow:hidden;width:100%;max-width:900px;text-overflow:ellipsis;min-width:100%" id="Display{!Row}{!KPIMeasureRec.KPIRownumber}">
                <apex:outputText value="{!SelectedMeasure}" styleclass="classstyle" style="position:relative;"/>
                <span style="float:right;background:#2EC2BA !important;width:max-content;position:relative; z-index:2;height: 25px;display:none;" id="2Account{!Row}{!KPIMeasureRec.KPIRownumber}">     <img style="cursor:pointer;position:relative; z-index:2;"  onclick="openLabelPopup1('{!SelectedMeasure}','Measures','1')" title="Edit" src="{!$Resource.Edit}" width="20px" height="10px" /> </span>
           </td>
           
          
            
        </tr> 
       
        <apex:variable value="{!Row+1}" var="Row"/>
    </apex:repeat>  
      <tr><td style="padding-bottom: 4px;"></td></tr>
    </table> 
     
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
    <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPIRownumber == 2,true,false)}">
    <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPICheck == false,true,false)}"> 
    <apex:outputpanel rendered="{!IF(KPIMeasureRec.selectedMeasures != null,true,false)}">
          <table style="width:8%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    <table style="margin-top:10px;background-color: white;border-radius: 6px;float:right;width:42%;table-layout: fixed;">
         <apex:variable value="{!1}" var="Row"/>
          <tr><td style="padding-bottom: 4px;width:100%" width="100%"></td></tr>
    <apex:repeat value="{!KPIMeasureRec.selectedMeasures}" var="SelectedMeasure">
        <tr valign="top" id="AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}"  onmouseover="showhide('2Account{!Row}{!KPIMeasureRec.KPIRownumber}','AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}','Display2{!Row}{!KPIMeasureRec.KPIRownumber}')" onmouseout="showhide2('2Account{!Row}{!KPIMeasureRec.KPIRownumber}','AccountId2{!Row}{!KPIMeasureRec.KPIRownumber}','Display2{!Row}{!KPIMeasureRec.KPIRownumber}')">
       <td Style="text-align:center;border-top:0px;overflow:hidden;width:100%;max-width:900px;text-overflow: ellipsis;min-width:100%" id="Display2{!Row}{!KPIMeasureRec.KPIRownumber}">
             <apex:outputText value="{!SelectedMeasure}" styleclass="classstyle" style="position:relative;"/>
             <span style="float:right;background:#2EC2BA !important;width:max-content;position:relative; z-index:2;height: 25px;display:none;" id="2Account{!Row}{!KPIMeasureRec.KPIRownumber}">     <img style="cursor:pointer;position:relative; z-index:2;"  onclick="openLabelPopup1('{!SelectedMeasure}','Measures','2')" title="Edit" src="{!$Resource.Edit}" width="20px" height="10px" /> </span>   
                 </td>
             
        
            
        </tr> 
        
        <apex:variable value="{!Row+1}" var="Row"/>
    </apex:repeat>  
     <tr><td style="padding-bottom: 4px;"></td></tr>
    </table> 
      <table style="width:1%;float:right"> 
        <tr>
            <td>&nbsp;</td>
        </tr>
        </table>
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:outputpanel>
    </apex:repeat>
     </td>
     </tr>
     </table>
     </div>
     </div>
     </div>
   </apex:outputpanel> 
  </apex:outputpanel>

            <script>
       
        
        function openLabelPopup1(name,value,RowValue){ 
                    document.getElementById("tstpopupLabel").className =
                    document.getElementById("tstpopupLabel").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )  
                   
                    document.getElementById("RowValues").value = RowValue;
                    if(value == 'DateFields'){ 
                        document.getElementById("EditTopic").value = name; 
                        EditLabelClass1();
                    } 
                    if(value == 'Dimensions'){
                        document.getElementById("EditDim").value = name; 
                        EditDimClass1();
                    }
                    if(value == 'Measures'){ 
                      
                        document.getElementById("MeasTopic").value = name;  
                        EditMeasClass1();
                    }
                    showBackDrop1();          
                    return true;
                }
                
                /*function setFocus() {
                   document.getElementById('pageIds:myForm:KPINameUIs').focus();
                   document.getElementById('pageIds:myForm:KPINameUIss').focus();
                  } */ 
                
         function closeGenerateLabelPopup(){      
            document.getElementById("tstpopupLabel").className = document.getElementById("tstpopupLabel").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
            hideBackDrop();
            return false;
        } 
    </script>
 
            <!-- Label Edit PopUp Start-->               
            <div class="slds-form-element" style="padding-top:0px;">
                <div class="slds-grid slds-m-top--large" Style="margin-top:0px">
                
                    <div aria-hidden="true" role="dialog" class="slds-modal slds-modal--large slds-fade-in-closed slds-modal-backdrop slds-modal-backdrop--closed "  id="tstpopupLabel" >
                        <div class="slds-modal__container ">
                            
                         <apex:outputPanel id="OppEditPopup">       
                           <div class="slds-modal__content" style="border-top-right-radius: 4px;border-top-left-radius: 4px;position:absolute; width:600px;left:300px;top:200px;">  
                                <div style="background-color: #f4f6f9;padding: 8px;margin-bottom: 10px;border-radius: 3px;"><span><b style="font-size:15px">Edit Label</b></span></div>                           
                                   
                                        <div class="slds-grid slds-wrap slds-grid--pull-padded ">
                                        <div class="slds-p-horizontal--small slds-size--1-of-2 slds-medium-size--1-of-1 slds-large-size--1-of-4 slds-grid--align-center slds-text-align--right - col-form-label">
                                        <apex:outputtext value="Edit Label" Styleclass="slds-input" style="border:0px"/>      
                                        </div>
                                            <div class="slds-p-horizontal--small slds-size--1-of-2 slds-medium-size--1-of-1 slds-large-size--2-of-4 slds-grid--align-center slds-p-bottom--medium">
                                                <apex:outputpanel rendered="{!IF(DimStrings == true,true,false)}">
                                                    <!--<input type="text" id="KPINameUIs" autofocus="true" onKeydown="Javascript: if (event.keyCode==13) validatefunction('dimension');"/>                                                     -->
                                                    <apex:inputText value="{!KPINameUI}" id="KPINameUIs" Styleclass="slds-input"  onKeydown="Javascript: if (event.keyCode==13) validatefunction('dimension');"/>                                                     
                                                </apex:outputpanel>
                                                <apex:outputpanel rendered="{!IF(measStrings == true,true,false)}">
                                                    <apex:inputText value="{!KPINameUI}" id="KPINameUIss" Styleclass="slds-input" onKeydown="Javascript: if (event.keyCode==13) validatefunction('measure');"/>                                                     
                                                </apex:outputpanel>
                                                <div id="error1" style="padding-left:3px;color: #d74c3b;"></div>
                                            </div>                                          
                                        </div>
                                       <!--<apex:inputtext value="{!KPINameUI}" id="KPILabelId" style="display:none"/>-->
                                 
                                <div class="slds-modal__footer">
                                    <div class="slds-x-small-buttons--horizontal">  
                                    <button type="button" Class="slds-button slds-button--neutral" rerender="MyForm,Forms"  onclick="closeGenerateLabelPopup()" html-formnovalidate="formnovalidate" >Close</button>  
                                    <apex:outputpanel rendered="{!IF(DateStrings == true,true,false)}">
                                          <apex:commandbutton value="Save" action="{!SaveEditLabels}" styleclass="slds-button slds-button--neutral slds-button--brand"  rerender="FormNew,Forms" status="status"/>   
                                    </apex:outputpanel>
                                    <apex:outputpanel rendered="{!IF(DimStrings == true,true,false)}">
                                         <button type="button" onclick="validatefunction('dimension')" class="slds-button slds-button--neutral slds-button--brand"  >Save</button>
                                    </apex:outputpanel>
                                     <apex:outputpanel rendered="{!IF(measStrings == true,true,false)}">
                                        <button type="button" onclick="validatefunction('measure')" class="slds-button slds-button--neutral slds-button--brand"  >Save</button>
                                    </apex:outputpanel>
                                    </div>    
                                </div>   
                            </div>
                             </apex:outputPanel>
                        </div>
                    </div> 
                   
                </div>
            </div> 
            <!-- Label Edit PopUp End -->
            <div class="slds-form-element" style="padding-top:0px;">
  <div class="slds-grid slds-m-top--large" style="margin-top:0px">
      <div aria-hidden="true" role="dialog" class="slds-modal slds-modal--large slds-fade-in-closed slds-modal-backdrop slds-modal-backdrop--closed "  id="SelectPopup" >  
          <apex:outputPanel id="OppselectPopup">
           
          <div class="slds-modal__container">    
                    
              <div class="slds-modal__content" style="border-top-right-radius: 4px;border-top-left-radius: 4px;position:absolute; width:1000px;left:100px;top:30px;max-height:580px;height:580px" onclick="hideModelPupUp()">
     
              <apex:inputhidden value="{!SelectedButtonValue}" id="SelectedButtonValue"/>
              <apex:outputpanel rendered="{!IF(SelectedButtonValue != 'Filters',true,false)}" >
                  <div style="background-color: #f4f6f9;padding: 8px;margin-bottom: 10px;border-radius: 3px;"><span><b style="font-size:15px">{!SelectedButtonValue}</b></span></div>

                     </apex:outputpanel>   
                     <div class="slds-grid slds-wrap slds-grid--pull-padded ">
                        
                        <!-- Dimension -->
                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Dimensions',true,false)}" style="width:100%"> 
                        <apex:outputpanel rendered="{!SetDimension}">   
                          <apex:outputpanel id="DimensionsIds">
                           
                            <apex:outputpanel rendered="{!DimensionId}">  
                            <apex:pagemessages /> 
                            </apex:outputpanel>
                                <script>
                                    if('{!DimensionIdClose}' == 'true' && '{!DimensionIdClosetwo}' == 'true'){
                                        closeSelectPopup();
                                    }
                                </script>
                                           

                                
                            </apex:outputpanel>      
                        <apex:repeat value="{!KPIDetils}" var="KPIDimenRec"> 
                         
                        <apex:outputpanel id="DimensionsId">
                                                         
                            
                            <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 1,true,false)}" style="width:100%">
                             <p style="padding-left: 190px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;">Actual Dataset  </p>
                             <p style="padding-left: 185px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;">Vs  </p>
                              <p style="padding-left: 685px;font-weight: bold;font-size: 15px;color: #635d5d;">Target Dataset  </p>
                            <!--    <p style="padding-left: 580px;"> # Dimensions Selected : <b id="NumberIds" style="font-size:14px;font-weight:300">0</b>/6</p> -->
                               
                        <div class="slds">                                                              
                            <div class="myapp" style="margin-left:30px;">
                                 
                                <div class="slds-grid slds-m-top--large" style="margin-top:2px;margin-bottom:10px">
                                    <div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">                                                 
                                            <div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
                                       <table align="center" style="" >
                                       <tr >
                                       <td style="text-align:center;">
                                      &nbsp;&nbsp;&nbsp;
                                       </td>
                                       </tr>
                                       <tr >
                                       <td style="text-align:center;" >
                                      &nbsp;&nbsp;&nbsp;
                                       </td>
                                       </tr>  
                                                                  
                                       </table>
                                       </div>  
                                        
                                        <div class="slds-card" style="width:40%;float:left;background:white;margin-top: 0px;">                            
                                            <section class="slds-card__body"  Style="height:300px;padding:0px 0px">                                                      
                                                <div class="slds-scrollable" Style="max-height:300px;">  
                                                    
                                                    <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom: 0px" >
                                                        <!-- Dimension Angular Starts-->
                                                <apex:outputpanel id="DimRecords">
                                                
                                            <div class="search dimsearch" >
                                               <svg class="icon searchBoxIcon" >
                                                    <use
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
                                                    </use>
                                                </svg>
                                            	<input type="text" placeholder="Search for dimensions..." onkeyup="filterRecordsact()" id="DimInput1"/>
                                            		<span class="searchhint resnum" ></span>
                                            		<a class="clear hide" >
                                            			<svg class="icon" >
                                            				<use
                                            					xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
                                            				</use>
                                            			</svg>
                                            		</a>
                                            	</div>
                                            	<div class="names selectors newselectors1" style="height:263px">
                                            		<div class="listheader squeezed" ></div>   
                                            		<div class="listheader" >Dimensions</div>
                                            	   <div class="DimensionsLayoutone" id="DimensionsLayoutone"></div>		
                                            	</div>
                                            	
                                           </apex:outputpanel>
                                            
                                            <!-- Dimension Angular End -->
                                                       
                                                    </table>
                                                    
                                                </div>  
                                            </section>
                                        </div>
                                         <div class="slds-card" style="width:5%;background:white;float:left;margin-top: 0px;border:none;">  
                                              <p style="height: 302px;border-right: 2px solid black;"></p>
                                         </div>
                                        <div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
                                       <table align="center" style="margin-top:50px;" >
                                       <tr >
                                       <td style="text-align:center;">
                                       
                                       </td>
                                       </tr>
                                       <tr >
                                       <td style="text-align:center;" >
                                      
                                       </td>
                                       </tr>  
                                                                  
                                       </table>
                                       </div>  
                                            <div class="slds-card" style="width:40%;float:right;background:white;border-bottom: 1px solid #d8dde6;margin-top: auto;"> 
                                             
                                                <section class="slds-card__body"  Style="height:300px;padding:0px 0px">                                                      
                                                <div class="slds-scrollable" Style="max-height:300px;">  
                                                    
                                                    <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom: 0px" >
                                                        <!-- Dimension Angular Starts-->
                                                <apex:outputpanel id="DimRecordsone">
                                                
                                            <div class="search dimsearch" >
                                               <svg class="icon searchBoxIcon" >
                                                    <use
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
                                                    </use>
                                                </svg>
                                            	<input type="text" placeholder="Search for dimensions..." onkeyup="filterRecordstar()" id="myInputtar"/>
                                            		<span class="searchhint resnum" ></span>
                                            		<a class="clear hide" >
                                            			<svg class="icon" >
                                            				<use
                                            					xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
                                            				</use>
                                            			</svg>
                                            		</a>
                                            	</div>
                                            	<div class="names selectors newselectors2" style="height:263px">
                                            		<div class="listheader squeezed" ></div>   
                                            		<div class="listheader" >Dimensions</div>
                                            	   <div class="DimensionsLayoutone" id="DimensionsLayouttwo"></div>		
                                            	</div>
                                            	
                                           </apex:outputpanel>
                                            
                                            <!-- Dimension Angular End -->
                                                       
                                                    </table>
                                                    
                                                </div>  
                                            </section>
                                            </div>
                                                                                    
                                    </div>                                   
                                </div>                               
                            </div>                            
                        </div>
                        
                        
                        </apex:outputpanel>
                        
                        <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 2,true,false)}" style="width:100%">
                             <p style="padding-left: 150px;float:left;padding-right:136px"># of Dimensions Selected: <b id="NumberIds" style="font-size:14px;font-weight:300">0</b>/6</p>                            
                                 <p >  </p>
                                <p style="padding-left: 610px;"> # of Dimensions Selected: <b id="NumberIdsone" style="font-size:14px;font-weight:300">0</b>/6</p>
                              
                        <div class="slds">                                                              
                            <div class="myapp" style="margin-left:30px;">
                                 
                                <div class="slds-grid slds-m-top--large" style="margin-top:2px;margin-bottom:10px">
                                    <div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">                                                 
                                          <div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
                                       <table align="center" style="margin-top:50px;" >
                                       <tr >
                                       <td style="text-align:center;">
                                       <Button  type="button" style="margin-top:10px;" Class="NewclassAdd"  onclick="moveActiveRow(-1)"  rerender="MyForm,DimensionsIds" status="status" >
                                           <i class="fa fa-caret-up" />
                                       </Button>
                                       </td>
                                       </tr>
                                       <tr >
                                       <td style="text-align:center;" >
                                       <Button type="button" style="margin-top:10px;" Class="NewclassRem"  onclick="moveActiveRow(1)"  rerender="MyForm,DimensionsIds" status="status" >
                                          <i class="fa fa-caret-down" />
                                       </Button>
                                       </td>
                                       </tr>  
                                                                  
                                       </table>
                                       </div>  
                                        
                                        <div class="slds-card" style="width:40%;float:left;background:white;margin-top:0px">                            
                                         
                                            <section class="slds-card__body" Style="height:300px;padding:0px 0px;">                
                                                    <div class="slds-scrollable--y" Style="max-height:300px">
                                                        <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px" >                                               
                                                            	
                                                           <!-- <thead>
                                                                <tr >
                                                                    <th class="slds-text-heading--label slds-size--1-of-13 ClassTh" scope="col" style="font-family: Salesforce Sans, Arial, sans-serif;background:whitesmoke">Selected Dimensions</th>
                                                                    <th class="slds-text-heading--label slds-size--2-of-13" scope="col" style="background:whitesmoke"> </th>
                                                                </tr>
                                                            </thead>  -->
                                                            	<div class="listheader" >Selected Dimensions</div>
                                                            <div class="slds-grid slds-wrap slds-grid--pull-padded" >
                                                            	<div id="DimensionsbyItmes" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;">                                                     
                                                            	   <ul class="slds-scrollable" style="height: 259px;overflow: scroll;margin-top: 1%;" id="movingTable">
                                                            			
                                                            	   </ul>
                                                            	</div>
                                                            	 <div id="DimensionsbyItmesEdit" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;display:none">                                                     
                                                            	   <ul class="slds-scrollable" style="height: 259px;overflow-y: scroll;margin-top: 1%;" id="movingTables">
                                                            			   <apex:repeat value="{!KPIDetils}" var="KPIDimenRec">
                                                            			<apex:repeat value="{!KPIDimenRec.SelectedDimensions}" var="DimSel">
                                                            			    <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 1,true,false)}" style="width:100%">
                                                            			    <li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onclick="setActiveRow(this)">
                                                                                <div class="DimeItemDev" onclick="editDimModel(this)" style="display: inline;">
                                                                                    <img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px"> {!DimSel.Availablename}</p>
                                                                                    <input type="hidden" class="selectedfield" value="{!DimSel.AvailableAPI}"/>
                                                                            </li>
                                                                            </apex:outputpanel>
                                                                            </apex:repeat> 
                                                            			</apex:repeat> 
                                                            	   </ul>
                                                            	</div>
                                                            	</div>
                                                                                                         
                                                        </table>  
                                                    </div>                                         
                                                </section>
                                        </div>
                                         <div class="slds-card" style="width:5%;background:white;float:left;margin-top: 0px;border:none;">  
                                              <p style="height: 302px;border-right: 2px solid black;"></p>
                                         </div>
                                        <div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
                                       <table align="center" style="margin-top:50px;" >
                                       <tr >
                                       <td style="text-align:center;">
                                       <Button  type="button" style="margin-top:10px;" Class="NewclassAdd"  onclick="moveActiveRows(-1)"  rerender="MyForm,DimensionsIds" status="status" >
                                           <i class="fa fa-caret-up" />
                                       </Button>
                                       </td>
                                       </tr>
                                       <tr >
                                       <td style="text-align:center;" >
                                       <Button type="button" style="margin-top:10px;" Class="NewclassRem"  onclick="moveActiveRows(1)"  rerender="MyForm,DimensionsIds" status="status" >
                                          <i class="fa fa-caret-down" />
                                       </Button>
                                       </td>
                                       </tr>  
                                                                  
                                       </table>
                                       </div>  
                                            <div class="slds-card" style="width:40%;float:right;background:white;border-bottom: 1px solid #d8dde6;margin-top: auto;"> 
                                                <section class="slds-card__body" Style="height:300px;padding:0px 0px">                
                                                    <div class="slds-scrollable--y" Style="max-height:300px">
                                                        <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px" >                                               
                                                            	
                                                           <!-- <thead>
                                                                <tr >
                                                                    <th class="slds-text-heading--label slds-size--1-of-13 ClassTh" scope="col" style="font-family: Salesforce Sans, Arial, sans-serif;background:whitesmoke">Selected Dimensions</th>
                                                                    <th class="slds-text-heading--label slds-size--2-of-13" scope="col" style="background:whitesmoke"> </th>
                                                                </tr>
                                                            </thead>  -->
                                                            	<div class="listheader" >Selected Dimensions</div>
                                                            <div class="slds-grid slds-wrap slds-grid--pull-padded" >
                                                            	<div id="DimensionsbyItmesvalone" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;">                                                     
                                                            	   <ul class="slds-scrollable" style="height: 259px;overflow: scroll;margin-top: 1%;" id="movingTableTar">
                                                            			
                                                            	   </ul>
                                                            	</div>
                                                            	 <div id="DimensionsbyItmesEditone" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;display:none">                                                     
                                                            	   <ul class="slds-scrollable" style="height: 259px;overflow-y: scroll;margin-top: 1%;" id="movingTables">
                                                            			   <apex:repeat value="{!KPIDetils}" var="KPIDimenRec">
                                                            			<apex:repeat value="{!KPIDimenRec.SelectedDimensions}" var="DimSel">
                                                            			     <apex:outputpanel rendered="{!IF(KPIDimenRec.KPIRownumber == 2,true,false)}" style="width:100%">
                                                            			    <li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onclick="setActiveRows(this)">
                                                                                <div class="DimeItemDev" onclick="editDimModelone(this)" style="display: inline;">
                                                                                    <img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div> <p style="margin-left:30px;margin-top:-25px">{!DimSel.Availablename}</p>
                                                                                    <input type="hidden" class="selectedfield" value="{!DimSel.AvailableAPI}"/>
                                                                            </li>
                                                                             </apex:outputpanel>
                                                            			</apex:repeat> 
                                                            			</apex:repeat>
                                                            	   </ul>
                                                            	</div>
                                                            	</div>
                                                                                                         
                                                        </table>  
                                                    </div>                                         
                                                </section>
                                            </div>
                                                                                    
                                    </div>                                   
                                </div>                               
                            </div>                            
                        </div>
                        
                        
                        </apex:outputpanel>
                        
                        </apex:outputpanel>
                       
                      
</apex:repeat>
</apex:outputpanel>
<!-- Dimension End-->
</apex:outputpanel>

                        <!-- DateMethod-->
                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Datefield',true,false)}" style="width:100%">
                                            <apex:outputpanel id="OppsetDate" rendered="{!SetDate}">  
                                                 <apex:outputpanel id="DatesIds">
                                                 <apex:outputpanel rendered="{!DateIds}">
                                                <apex:pagemessages /> 
                                                </apex:outputpanel>
                                                <script>
                                                            if('{!DatesIdClose}' == 'true' && '{!DatesIdClosetwo}' == 'true'){
                                                                closeSelectPopup();
                                                            }
                                                        </script>
                                                 </apex:outputpanel> 
                                                <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
                                                
                                                <apex:outputpanel rendered="{!IF(KPIDateRec.KPICheck == false,true,false)}"> 
                                                <apex:outputpanel id="DatesId">
                                                     
                                                       
                                                 <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 1,true,false)}">
                                                 <p style="padding-left: 190px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;"> Actual Dataset</p> 
                                                 <p style="padding-left: 185px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;">Vs  </p>
                                                 <p style="padding-left: 685px;font-weight: bold;font-size: 15px;color: #635d5d;">Target Dataset</p> 
                                                  
                                                    <div class="slds">                                                              
                                                        <div class="myapp" style="margin-left:30px;">
                                                            <div class="slds-grid slds-m-top--large" style="margin-top:2px">
                                                                <div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">                                            
                                                                    <div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
                                                                           <table align="center" style="margin-top:50px;">
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                           &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr>
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                          &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr> 
                                                                                                          
                                                                           </table>
                                                                           </div>    
                                                                    <div class="slds-card" style="width:40%;float:left;background:white;border-bottom: 1px solid #d8dde6;">                            
                                                                        <section class="slds-card__body"  Style="height:300px;padding:0px 0px">                                          
                                                                            <div class="slds-scrollable" Style="max-height:300px">
                                                                                <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px">
                                                                                    <!-- Dimension Angular Starts-->
                                                                                     <div class="search dimsearch" >
                                                                                     <svg class="icon searchBoxIcon" >
                                                                                                    <use
                                                                                                        xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
                                                                                                    </use>
                                                                                                </svg>
                                                                                	<input type="text" placeholder="Search for dates..." onkeyup="filterRecordsDateone('1')" id="EInput1"/>
                                                                                		<span class="searchhint resnum" ></span>
                                                                                		<a class="clear hide" >
                                                                                			<svg class="icon" >
                                                                                				<use
                                                                                					xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
                                                                                				</use>
                                                                                			</svg>
                                                                                		</a>
                                                                                	</div>
                                                                                	<div class="names Dateselectors1" style="height:263px" >
                                                                                		<div class="listheader squeezed" ></div>   
                                                                                		<div class="listheader" >Dates</div>
                                                                                	   <div class="datesLayoutoneone" ></div>		
                                                                                	</div>
                                                                                 
                                                                                                                                                                                                   
                                                                                </table> 
                                                                            </div>  
                                                                        </section>
                                                                    </div> 
                                                                    <div class="slds-card" style="width:5%;background:white;float:left;margin-top: 0px;border:none;">  
                                              <p style="height: 302px;border-right: 2px solid black;"></p>
                                         </div>
                                                                            <div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
                                                                           <table align="center" style="margin-top:50px;">
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                           
                                                                           </td>
                                                                           </tr>
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                          
                                                                           </td>
                                                                           </tr> 
                                                                                                          
                                                                           </table>
                                                                           </div>    
                                                                        	<div class="slds-card" style="width:40%;float:right;background:white;border-bottom: 1px solid #d8dde6;">                            
					<section class="slds-card__body"  Style="height:300px;padding:0px 0px">                                          
						<div class="slds-scrollable" Style="max-height:300px">
							<table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px">
								<!-- Dimension Angular Starts-->
								 <div class="search dimsearch" >
								 <svg class="icon searchBoxIcon" >
												<use
													xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
												</use>
											</svg>
								<input type="text" placeholder="Search for dates..." onkeyup="filterRecordsDateone('2')" id="EInput2"/>
									<span class="searchhint resnum" ></span>
									<a class="clear hide" >
										<svg class="icon" >
											<use
												xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
											</use>
										</svg>
									</a>
								</div>
								<div class="names Dateselectors2" style="height:263px" >
									<div class="listheader squeezed" ></div>   
									<div class="listheader" >Dates</div>
								   <div class="datesLayoutonetwo" ></div>		
								</div>
							 
																																			   
							</table> 
						</div>  
					</section>
				</div> 
                                                                        
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </apex:outputpanel>	
                                                   <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 2,true,false)}"> 
                                                    
                                                       <p style="padding-left: 160px;float:left;padding-right: 138px"> # of Datefields Selected: <b id="NumberdateIds" style="font-size:14px;font-weight:300">0</b>/2</p>  
                                                 <p >  </p>	
                                                     <p style="padding-left: 620px;"> # of Datefields Selected: <b id="NumberdateIdsone" style="font-size:14px;font-weight:300">0</b>/2</p>  
                                                 
                                                     <div class="slds">                                                              
	<div class="myapp" style="margin-left:30px;">
		<div class="slds-grid slds-m-top--large" style="margin-top:2px">
			<div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">                                            
				<div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
					   <table align="center" style="margin-top:50px;">
					   <tr>
					   <td style="text-align:center;">
					   <Button type="button" class="NewclassAdd"  onclick="moveActiveRowdate(-1)" rerender="MyForm,DateField,DatesIds" status="status" >
							  <i class="fa fa-caret-up"></i>
					   </Button>
					   </td>
					   </tr>
					   <tr>
					   <td style="text-align:center;">
					   <Button type="button" class="NewclassRem" onclick="moveActiveRowdate(1)"  rerender="MyForm,DateField,DatesIds" status="status" >
							  <i class="fa fa-caret-down"></i>
					   </Button>
					   </td>
					   </tr> 
													  
					   </table>
					   </div>    
				<div class="slds-card" style="width:40%;float:left;background:white;margin-top:2px;border-bottom: 1px solid #d8dde6;'"> 
                                                                            <section class="slds-card__body" Style="height:300px;padding:0px 0px">                                                                   
                                                                                <div class="slds-scrollable--y" Style="max-height:300px">
                                                                                    <table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px" >                                               
                                                                                      	<div class="listheader" >Selected Dates</div>
                                                                                    <div class="slds-grid slds-wrap slds-grid--pull-padded" >
                                                                                    	<div id="DatesByItmesval" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;">                                                     
                                                                                    	   <ul  class="slds-scrollable" style="height: 259px;overflow: scroll;margin-top: 1%;" id="movingTableDate">
                                                                                    			
                                                                                    	   </ul>
                                                                                    	</div>
                                                                                    	<div id="DatesByItmesvalEdit" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;display:none">                                                     
                                                                                    	   <ul class="slds-scrollable" style="height: 259px;overflow-y: scroll;margin-top: 1%;" id="movingTableDates">
                                                                                    	        <apex:repeat value="{!KPIDetils}" var="KPIDateRec">
                                                                                    			<apex:repeat value="{!KPIDateRec.SelectedDateFieldlist}" var="DimSel">
                                                                                    			      <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 1,true,false)}"> 
                                                                                    			    <li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onclick="setActiveRowdate(this)" >
                                                                                                        <div class="dateFivDiv" onclick="editDateModel(this)" style="display: inline;">
                                                                                                            <img style="cursor:pointer;position:relative; z-index:2;"  title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px"> {!DimSel.DateFieldName}</p>
                                                                                                            <input type="hidden" class="selectedfield" value="{!DimSel.DateFieldAPI}"/>
                                                                                                    </li>
                                                                                                    </apex:outputpanel>
                                                                                    			</apex:repeat>
                                                                                    			</apex:repeat>
                                                                                    	   </ul>
                                                                                    	</div>
                                                                                    	</div>
                                                                                    </table>  
                                                                                </div>          
                                                                            </section>          
                                                                        </div>
                                                                        <div class="slds-card" style="width:5%;background:white;float:left;margin-top: 0px;border:none;">  
                                              <p style="height: 302px;border-right: 2px solid black;"></p>
                                         </div>
						<div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
					   <table align="center" style="margin-top:50px;">
					   <tr>
					   <td style="text-align:center;">
					   <Button type="button" class="NewclassAdd"  onclick="moveActiveRowdateone(-1)" rerender="MyForm,DateField,DatesIds" status="status" >
							  <i class="fa fa-caret-up"></i>
					   </Button>
					   </td>
					   </tr>
					   <tr>
					   <td style="text-align:center;">
					   <Button type="button" class="NewclassRem" onclick="moveActiveRowdateone(1)"  rerender="MyForm,DateField,DatesIds" status="status" >
							  <i class="fa fa-caret-down"></i>
					   </Button>
					   </td>
					   </tr> 
													  
					   </table>
					   </div>    
					<div class="slds-card" style="width:40%;float:right;background:white;margin-top:2px;border-bottom: 1px solid #d8dde6;'"> 
						<section class="slds-card__body" Style="height:300px;padding:0px 0px">                                                                   
							<div class="slds-scrollable--y" Style="max-height:300px">
								<table class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal" style="border-bottom:0px" >                                               
									<div class="listheader" >Selected Dates</div>
								<div class="slds-grid slds-wrap slds-grid--pull-padded" >
									<div id="DatesByItmesvalone" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;">                                                     
									   <ul  class="slds-scrollable" style="height: 259px;overflow: scroll;margin-top: 1%;" id="movingTableDateone">
											
									   </ul>
									</div>
									<div id="DatesByItmesvalEditone" class="slds-p-horizontal--small slds-size--12-of-12 slds-medium-size--12-of-12 slds-large-size--12-of-12" style="border: 1px solid #E6ECF2;display:none">                                                     
									   <ul class="slds-scrollable" style="height: 259px;overflow-y: scroll;margin-top: 1%;" id="movingTableDatesone">
											<apex:repeat value="{!KPIDetils}" var="KPIDateRec">
                                    			<apex:repeat value="{!KPIDateRec.SelectedDateFieldlist}" var="DimSel">
                                    			      <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber ==2,true,false)}">
												<li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onclick="setActiveRowdateone(this)" >
													<div class="dateFivDiv" onclick="editDateModelone(this)" style="display: inline;">
														<img style="cursor:pointer;position:relative; z-index:2;" title="Delete"  src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px"> {!DimSel.DateFieldName}</p>
														<input type="hidden" class="selectedfield" value="{!DimSel.DateFieldAPI}"/>
												</li>
												</apex:outputpanel>
											
											</apex:repeat>
											</apex:repeat>
									   </ul>
									</div>
									</div>
								</table>  
							</div>          
						</section>          
					</div>
					
			</div>
		</div>
	</div>
</div>

                                                    </apex:outputpanel>		
                                                    </apex:outputpanel>
                                                    </apex:outputpanel>
                                                </apex:repeat>
                                            </apex:outputpanel>
                        
                        </apex:outputpanel>
                        <!-- Datemethod End -->
                        
                        <!-- Measures-->
                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Measures',true,false)}">
                         <apex:outputpanel id="NewMeasures" rendered="{!setMeasure}"> 
                                                 <apex:outputpanel id="MeasuresId">
                                                    <apex:pagemessages /> 
                                                     <script>
                                                            if('{!MeasureIdCloses}' == 'true' && '{!MeasureIdClose}' == 'true'){
                                                                closeSelectPopup();
                                                            }
                                                        </script>
                                                  </apex:outputpanel>      
                                                <apex:repeat value="{!KPIDetils}" var="KPIMeasureRec"> 
                                                
                                                <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPICheck == false,true,false)}">
                                               
                                                    <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPIRownumber == 1,true,false)}">
                                                   
                                                    <p style="padding-left: 195px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;">Actual Dataset  </p> 
                                                    <p style="padding-left: 185px;float:left;font-weight: bold;font-size: 15px;color: #635d5d;">Vs  </p>
                                                    <p style="padding-left: 685px;font-weight: bold;font-size: 15px;color: #635d5d;"> Target Dataset</p> 
                                                     
                                                    <div class="slds" style="width:1000px">                                                              
                                                        <div class="myapp" Style="margin-left:15px">
                                                            <div class="slds-grid slds-m-top--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">
                                                                <div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px">  
                                                                    <apex:outputpanel id="DateFields">  
                                                                    <div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
                                                                           <table align="center" style="margin-top:50px;">
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                           &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr>
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                          &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr> 
                                                                                                          
                                                                           </table>
                                                                           </div>
                                                                    <div class="slds-card" style="width:40%;float:left;background:white;border-bottom: 1px solid #d8dde6; max-width:40%;">                            
                                                                        <section class="slds-card__body"  Style="height:300px;">                                             
                                                                            <div class="slds-scrollable--y" Style="max-height:300px;"> 
                                                                             
 <div  id="MeasuresPanel1" class="menu selector controlmenu query-builder-picker-menu measureChangeMenu measure"  style="opacity: 1; top:35px; left:936px;display:none">
    
    <div class="container" >
        <div class="search measearch" >
            <svg class="icon searchBoxIcon" >
                <use
                    xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
                </use>
            </svg>
            <input onkeyup="onfilterRecords('1')" type="text" placeholder="Search..."  id="myInput1"  />
                <span class="searchhint resnum" ></span>
                <a class="clear hide" data-tooltip="Clear Search" >
                    <svg class="icon" >
                        <use
                            xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
                        </use>
                    </svg>
                </a>
            </div>
            <div class="functionlist computations tall" data-reactid=".g.0.1.2">
                <div class="buttonbar vertical clearfix" data-reactid=".g.0.1.2.0">
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="count" class="btn medium w100 btn1 " >Count</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="sum" class="btn medium w100 btn1" >Sum</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="avg" class="btn medium w100 btn1" >Average</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="max" class="btn medium w100 btn1" >Maximum</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="min" class="btn medium w100 btn1" >Minimum</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="unique" class="btn medium w100 selected btn1" >Unique</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="median" class="btn medium w100 btn1">Median</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="first" class="btn medium w100 btn1" >First</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="last" class="btn medium w100 btn1" >Last</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="stddev" class="btn medium w100 btn1" data-tooltip="Standard Deviation" >Stddev</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="stddevp" class="btn medium w100 btn1" data-tooltip="Population Standard Deviation" >stddevp</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="var" class="btn medium w100 btn1" data-tooltip="Sample Variance" >Var</a>
                    <a onclick="ParentItemsSelected(this,'1')" data-aggtype="varp" class="btn medium w100 btn1" data-tooltip="Population Variance" >Varp</a>
                </div>
            </div>
            <div class="names selectors selectors1" >
                <div class="listheader squeezed" ></div>
                
                <div class="listheader" >Measures</div>
                
                <div id="MeasuresPanelLayout1"></div>
               
                <div class="listheader" >Dimensions</div>
                
                <div id="DimensionsPanelLayout1"></div>

            </div>
        </div>
    </div>
   
                                                                            </div>  
                                                                        </section>  
                                                                    </div> 
                                                                     <div class="slds-card" style="width:5%;background:white;float:left;margin-top: 0px;border:none;">  
                                              <p style="height: 302px;border-right: 2px solid black;"></p>
                                         </div>
                                                                    <div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
                                                                           <table align="center" style="margin-top:50px;">
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                           &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr>
                                                                           <tr>
                                                                           <td style="text-align:center;">
                                                                          &nbsp;&nbsp;&nbsp;
                                                                           </td>
                                                                           </tr> 
                                                                                                          
                                                                           </table>
                                                                           </div>
                                                                      <div class="slds-card" style="width:40%;float:right;background:white;border-bottom: 1px solid #d8dde6; max-width: 40%;">                            
                                                                        <section class="slds-card__body"  Style="height:300px;">                                             
                                                                            <div class="slds-scrollable--y" Style="max-height:300px;"> 
                                                                              
 <div  id="MeasuresPanel2" class="menu selector controlmenu query-builder-picker-menu measureChangeMenu measure"  style="opacity: 1; top:35px; left:936px;display:none">
    
    <div class="container" >
        <div class="search measearch" >
            <svg class="icon searchBoxIcon" >
                <use
                    xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#search">
                </use>
            </svg>
            <input onkeyup="onfilterRecords('2')" type="text" placeholder="Search..."  id="myInput2"  />
                <span class="searchhint resnum" ></span>
                <a class="clear hide" data-tooltip="Clear Search" >
                    <svg class="icon" >
                        <use
                            xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#close">
                        </use>
                    </svg>
                </a>
            </div>
            <div class="functionlist computations tall" data-reactid=".g.0.1.2">
                <div class="buttonbar vertical clearfix" data-reactid=".g.0.1.2.0">
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="count" class="btn medium w100 btn1 " >Count</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="sum" class="btn medium w100 btn1" >Sum</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="avg" class="btn medium w100 btn1" >Average</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="max" class="btn medium w100 btn1" >Maximum</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="min" class="btn medium w100 btn1" >Minimum</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="unique" class="btn medium w100 selected btn1" >Unique</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="median" class="btn medium w100 btn1">Median</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="first" class="btn medium w100 btn1" >First</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="last" class="btn medium w100 btn1" >Last</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="stddev" class="btn medium w100 btn1" data-tooltip="Standard Deviation" >Stddev</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="stddevp" class="btn medium w100 btn1" data-tooltip="Population Standard Deviation" >stddevp</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="var" class="btn medium w100 btn1" data-tooltip="Sample Variance" >Var</a>
                    <a onclick="ParentItemsSelected(this,'2')" data-aggtype="varp" class="btn medium w100 btn1" data-tooltip="Population Variance" >Varp</a>
                </div>
            </div>
            <div class="names selectors selectors2" >
                <div class="listheader squeezed" ></div>
                
                <div class="listheader" >Measures</div>
                
                <div id="MeasuresPanelLayout2"></div>
               
                <div class="listheader" >Dimensions</div>
                
                <div id="DimensionsPanelLayout2"></div>

            </div>
        </div>
    </div>
   
                                                                            </div>  
                                                                        </section>  
                                                                    </div>                                                                    
                                                                   
                                                                </apex:outputpanel>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </apex:outputpanel>
                                                <apex:outputpanel rendered="{!IF(KPIMeasureRec.KPIRownumber == 2,true,false)}">
                                                   <p style="padding-left: 160px;float:left;padding-right: 162px"># of Measures Selected: <b id="NumberMeasIds" style="font-size:14px;font-weight:300">0</b>/1  </p> 
                                                      <p style="border-left:2px solid black;float:left;">  </p>	
                                                     <p style="padding-left: 640px;"> # of Measures Selected: <b id="NumberMeasIdstar" style="font-size:14px;font-weight:300">0</b>/1</p> 
                                                     <div id="errorsingles" style="padding-left:60px;color: #d74c3b;"></div > 
                                                    <div class="slds" style="width:1000px">                                                              
                                                        <div class="myapp" Style="margin-left:15px">
                                                            <div class="slds-grid slds-m-top--large" style="margin-top:2px;margin-bottom:10px;box-sizing: initial;">
                                                                <div class="slds-col slds-col-rule--right slds-p-right--large" style="margin-top:2px;margin-bottom:10px">  
                                                                    <apex:outputpanel id="DateFields1">
                                                                          <div class="slds-card" style="width:5%;background:white;border:none;float:left;margin-top: auto;"> 
                                                                           <table align="center"  >
                                                                           <tr >
                                                                           <td style="text-align:center;">
                                                                           <Button  type="button" style="margin-top:10px;" Class="NewclassAdd"  onclick="moveActiveMesRows(-1)"  rerender="MyForm,DimensionsIds" status="status" >
                                                                               <i class="fa fa-caret-up" />
                                                                           </Button>
                                                                           </td>
                                                                           </tr>
                                                                           <tr >
                                                                           <td style="text-align:center;" >
                                                                           <Button type="button" style="margin-top:10px;" Class="NewclassRem"  onclick="moveActiveMesRows(1)"  rerender="MyForm,DimensionsIds" status="status" >
                                                                              <i class="fa fa-caret-down" />
                                                                           </Button>
                                                                           </td>
                                                                           </tr>  
                                                                                                      
                                                                           </table>
                                                                           </div>   
                                                                           
                                                                             <div class="slds-card" style="width:90%;float:left;background:white;border-bottom: 1px solid #d8dde6;margin-top: 0px; max-width: 90%;height:200px"> 
                                                                      <table width="100%">
                                                                        <tr>
                                                                			<th width="35%"></th>
                                                                			<th width="35%"></th>
                                                                			<th width="30%" colspan="3" style="text-align:center">Threshold %</th>
                                                                		</tr>
                                                                		<tr>
                                                                			<th width="35%" style="padding-left: 35px;font-weight: bold;font-size: 15px;color: #635d5d;">Actual</th>
                                                                			<th width="35%" style="padding-left: 35px;font-weight: bold;font-size: 15px;color: #635d5d;">Target</th>   
                                                                			<th width="10%" style=""><img style="cursor:pointer;position:relative; z-index:2;"   src="{!$Resource.RedImage}" width="53px" height="12px" /></th>
                                                                			<th width="10%" style=""><img style="cursor:pointer;position:relative; z-index:2;"   src="{!$Resource.YellowImage}" width="55px" height="12px" /></th>
                                                                			<th width="10%" style=""><img style="cursor:pointer;position:relative; z-index:2;"   src="{!$Resource.GreenImage}" width="55px" height="12px" /></th>
                                                                		</tr>
                                                                		<tr>
                                                                			<td width="35%" style="vertical-align: text-top;">
                                                                			    <div width="" style="margin-top: 10px;">
                                                                			     <div class="menu" id="MenuItems1">
                                                                					<ul  id="movingTableact">
                                                                						
                                                                						
                                                                					</ul>
                                                                				</div>
                                                                			</div>
                                                                			
                                                                			<div width="200px" style="margin: 10px;diplay:none">
                                                                			   
                                                                				<div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="MenuItemsEdit1">
                                                                					<ul>
                                                                						 <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
                                                                							<apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 1,true,false)}">
                                                                							<apex:repeat value="{!KPIDateRec.NewMeasurevarlist}" var="mes">
                                                                								<li onclick="setActiveMesRows(this)"><input type="hidden" class="parentSelected" value="{!mes.Measurevar}"/><input type="hidden" class="itemSelected" value="{!mes.Measureval}"/><input type="hidden" class="editSelected" value="{!mes.EditMeasval}"/><input type="hidden" class="editApi" value="{!mes.EditApi}" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" onclick="removeItemsone(this,1,'{!mes.Measureval}')" width="26px" height="12px" /> {!mes.EditMeasval}</div></li>
                                                                							</apex:repeat>
                                                                							</apex:outputpanel>
                                                                							</apex:repeat>
                                                                					</ul>
                                                                				</div>
                                                                			</div>
                                                                			</td>
                                                                			<td width="35%" style="vertical-align: text-top;">
                                                                			    <div width="" style="margin-top: 10px;">
                                                                			    <div class="menu" id="MenuItems2">
                                                                					<ul  id="movingTableTar">
                                                                						
                                                                						
                                                                					</ul>
                                                                				</div>
                                                                			</div>
                                                                			
                                                                			<div width="200px" style="margin: 10px;diplay:none">
                                                                			   
                                                                				<div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="MenuItemsEdit2">
                                                                					<ul>
                                                                						 <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
                                                                							<apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 2,true,false)}">
                                                                							<apex:repeat value="{!KPIDateRec.NewMeasurevarlist}" var="mes">
                                                                								<li onclick="setActivetarRows(this)"><input type="hidden" class="parentSelected" value="{!mes.Measurevar}"/><input type="hidden" class="itemSelected" value="{!mes.Measureval}"/><input type="hidden" class="editSelected" value="{!mes.EditMeasval}"/><input type="hidden" class="editApi" value="{!mes.EditApi}" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;" ><img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" onclick="removeItemsone(this,2,'{!mes.Measureval}')" width="26px" height="12px" /> {!mes.EditMeasval}</div></li>
                                                                							</apex:repeat>
                                                                							</apex:outputpanel>
                                                                							</apex:repeat>
                                                                					</ul>
                                                                				</div>
                                                                				</div>
                                                                			 </td>
                                                                			<td width="10%" style="vertical-align: text-top;">
                                                                			    <apex:repeat value="{!Measureoneslist}" var="mes">
                                                                			        
                                                                			    </apex:repeat>    
                                                                			    <div width="" style="margin-top: 10px;">
                                                                			    <div id="menulist1">
                                                                			        	<ul  id="movingTablemenu1">
                                                                						
                                                                						
                                                                					</ul>
                                                                			    </div>
                                                                			    </div>
                                                                			    	<div width="200px" style="margin: 10px;diplay:none">
                                                                			   
                                                                				<div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="menulist1Edit">
                                                                					<ul>
                                                                							<apex:variable value="{!1}" var="row"></apex:variable> 
                                                                							<apex:repeat value="{!Measureoneslist}" var="mes">
                                                                								<li><input type="hidden" class="newselectorslist" value="{!mes.EditApi}" /><input type="hidden" class="newselectIds" value="{!mes.Measurevar}" /><input type="text" id="{!mes.EditApi}" style="width:60%" onchange="NewFunctions('{!mes.EditApi}','{!row}')" /></li>
                                                                							   	<apex:variable value="{!row+1}" var="row"></apex:variable> 
                                                                							</apex:repeat>
                                                                						
                                                                					</ul>
                                                                				</div>
                                                                				</div>
                                                                			    
                                                                			   </td>
                                                                			   <td style="vertical-align: text-top;">
                                                                			       <div width="" style="margin-top: 10px;">
                                                                			  <div id="menulist2" style="vertical-align: text-top;">
                                                                			        	<ul  id="movingTablemenu2">
                                                                						
                                                                						
                                                                					</ul>
                                                                			    </div>
                                                                			    </div>
                                                                			    
                                                                			    	<div width="200px" style="margin: 10px;diplay:none">
                                                                			   
                                                                				<div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="menulist2Edit">
                                                                					<ul>
                                                                							<apex:variable value="{!1}" var="row"></apex:variable> 
                                                                							<apex:repeat value="{!Measureonestwolist}" var="mes">
                                                                								<li><input type="hidden" class="newselectorslist" value="{!mes.EditApi}" /><input type="hidden" class="newselectIds" value="{!mes.Measurevar}" /><input type="text" id="{!mes.EditApi}" style="width:60%" onchange="NewFunctionstwo('{!mes.EditApi}','{!row}')"/></li>
                                                                							   	<apex:variable value="{!row+1}" var="row"></apex:variable> 
                                                                							</apex:repeat>
                                                                						
                                                                					</ul>
                                                                				</div>
                                                                				</div>
                                                                			    </td>
                                                                			    <td style="vertical-align: text-top;">
                                                                			        <div width="" style="margin-top: 10px;">
                                                                			  <div id="menulist3" style="vertical-align: text-top;">
                                                                			        	<ul  id="movingTablemenu3">
                                                                						
                                                                						
                                                                					</ul>
                                                                			    </div>
                                                                			    </div>
                                                                			    
                                                                			    	<div width="200px" style="margin: 10px;diplay:none">
                                                                			   
                                                                				<div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="menulist3Edit">
                                                                					<ul>
                                                                							<apex:variable value="{!1}" var="row"></apex:variable> 
                                                                							<apex:repeat value="{!Measureonesthreelist}" var="mes">
                                                                								<li><input type="hidden" class="newselectorslist" value="{!mes.EditApi}" /><input type="hidden" class="newselectIds" value="{!mes.Measurevar}" /><input type="text" id="{!mes.EditApi}" style="width:60%" onchange="NewFunctionsthree('{!mes.EditApi}','{!row}')"/></li>
                                                                							   	<apex:variable value="{!row+1}" var="row"></apex:variable> 
                                                                							</apex:repeat>
                                                                						
                                                                					</ul>
                                                                				</div>
                                                                				</div>
                                                                			    </td>
                                                                		</tr>
                                                                		
                                                                		
                                                                        
                                                                      </table>
                                                                </div>
                                                                   <!--  <div class="slds-card" style="width:40%;float:left;background:white;border-bottom: 1px solid #d8dde6;margin-top: 0px; max-width: 43%;"> 
                                                                       <apex:outputpanel id="Sectionthis1">
                                                                        <section class="slds-card__body" Style="height:300px;">                                                                   
                                                                            <div class="slds-scrollable--y" Style="max-height:300px">
                                                                               <div width="" style="margin-top: 10px;">
   
                                                                                <div class="menu" id="MenuItems1">
                                                                                    <ul  id="movingTableact">
                                                                                        
                                                                                        
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                            <div width="200px" style="margin: 10px;diplay:none">
                                                                               
                                                                                <div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="MenuItemsEdit1">
                                                                                    <ul>
                                                                                         <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
                                                                                            <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 1,true,false)}">
                                                                                            <apex:repeat value="{!KPIDateRec.NewMeasurevarlist}" var="mes">
                                                                                                <li onclick="setActiveMesRows(this)"><input type="hidden" class="parentSelected" value="{!mes.Measurevar}"/><input type="hidden" class="itemSelected" value="{!mes.Measureval}"/><input type="hidden" class="editSelected" value="{!mes.EditMeasval}"/><input type="hidden" class="editApi" value="{!mes.EditApi}" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;"><img style="cursor:pointer;position:relative; z-index:2;"  src="{!$Resource.Delete}" onclick="removeItemsone(this,1,'{!mes.Measureval}')" width="26px" height="12px" /> {!mes.EditMeasval}</div></li>
                                                                                            </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                            </apex:repeat>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                            </div>                             
                                                                        </section>  
                                                                        </apex:outputpanel>
                                                                    </div>-->
                                                                    
                                                                   <div class="slds-card" style="width:5%;background:white;border:none;float:right;margin-top: auto;"> 
                                       <table align="center"  >
                                       <tr >
                                       <td style="text-align:center;">
                                       <Button  type="button" style="margin-top:10px;" Class="NewclassAdd"  onclick="moveActivetarRows(-1)"  rerender="MyForm,DimensionsIds" status="status" >
                                           <i class="fa fa-caret-up" />
                                       </Button>
                                       </td>
                                       </tr>
                                       <tr >
                                       <td style="text-align:center;" >
                                       <Button type="button" style="margin-top:10px;" Class="NewclassRem"  onclick="moveActivetarRows(1)"  rerender="MyForm,DimensionsIds" status="status" >
                                          <i class="fa fa-caret-down" />
                                       </Button>
                                       </td>
                                       </tr>  
                                                                  
                                       </table>
                                       </div>  
                                                           <!--      <div class="slds-card" style="width:40%;float:right;background:white;border-bottom: 1px solid #d8dde6;margin-top: 0px; max-width: 43%;"> 
                                                                       <apex:outputpanel id="Sectionthis">
                                                                        <section class="slds-card__body" Style="height:300px;">                                                                   
                                                                            <div class="slds-scrollable--y" Style="max-height:300px">
                                                                               <div width="" style="margin-top: 10px;">
   
                                                                                <div class="menu" id="MenuItems2">
                                                                                    <ul  id="movingTableTar">
                                                                                        
                                                                                        
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                            <div width="200px" style="margin: 10px;diplay:none">
                                                                               
                                                                                <div class="menu" style="width:200px;height:150px;overflow-y:auto;display:none" id="MenuItemsEdit2">
                                                                                    <ul>
                                                                                         <apex:repeat value="{!KPIDetils}" var="KPIDateRec"> 
                                                                                            <apex:outputpanel rendered="{!IF(KPIDateRec.KPIRownumber == 2,true,false)}">
                                                                                            <apex:repeat value="{!KPIDateRec.NewMeasurevarlist}" var="mes">
                                                                                                <li onclick="setActivetarRows(this)"><input type="hidden" class="parentSelected" value="{!mes.Measurevar}"/><input type="hidden" class="itemSelected" value="{!mes.Measureval}"/><input type="hidden" class="editSelected" value="{!mes.EditMeasval}"/><input type="hidden" class="editApi" value="{!mes.EditApi}" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;" ><img style="cursor:pointer;position:relative; z-index:2;"  src="{!$Resource.Delete}" onclick="removeItemsone(this,2,'{!mes.Measureval}')" width="26px" height="12px" /> {!mes.EditMeasval}</div></li>
                                                                                            </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                            </apex:repeat>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                            </div>                             
                                                                        </section>  
                                                                        </apex:outputpanel>
                                                                    </div> -->
                                                                   
                                                                </apex:outputpanel>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </apex:outputpanel>
                                                </apex:outputpanel>
                                                
                                                </apex:repeat>
                          </apex:outputpanel>                   
                        </apex:outputpanel>
                        <!-- Measures End-->

                      
     
                    </div>
                   <apex:outputpanel rendered="{!IF(SelectedButtonValue != 'Filters',true,false)}">
                 <div class="slds-modal__footer">
                      <div class="slds-x-small-buttons--horizontal">
                                   
                                        <button type="button" class="slds-button slds-button--neutral " onClick="closeSelectPopup();" status="status" >Cancel</button>
                                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Dimensions',true,false)}">
                                         <button type="button" class="slds-button slds-button--neutral slds-button--brand" onClick="MeasDateSelectPopup('Dimensions');" status="status" >Submit</button>
                                        </apex:outputpanel>
                                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Datefield',true,false)}">
                                         <button type="button" class="slds-button slds-button--neutral slds-button--brand" onClick="MeasDateSelectPopup('Datefield');" status="status" >Submit</button>
                                         </apex:outputpanel>
                                        <apex:outputpanel rendered="{!IF(SelectedButtonValue == 'Measures',true,false)}">
                         
                                         <button type="button" class="slds-button slds-button--neutral slds-button--brand" onClick="MeasDateSelectPopup('Measures');" status="status" >Submit</button>
                                         </apex:outputpanel> 
                          
                       </div>    
                    </div>
                     </apex:outputpanel>
                      </div>
                </div>
                </apex:outputPanel>
            </div>  
        </div>
        </div>
        </apex:outputpanel>
        <div class="myapp" style="background-color: white;padding-top:15px;padding-bottom:15px;">
                            <div class="slds-col slds-no-flex">
                                <div class="slds-button-group" role="group" style="display:block"> 
                                    <table>
                                        <tr>
                                             <td width="30%">
                                                        
                                            </td>   
                                            <td width="40%">
                                            <!--  <apex:outputpanel rendered="{!Enablevalue}" >
                                              <center> <button type="button" Class="managebutton slds-button--neutral" id="button12" onclick="openGeneratePopup()" style="background: white;color: rgb(77, 77, 77);;font-weight:bold" status="status" disabled="true">Create Dashboard </button>  </center>
                                              </apex:outputpanel> 
                                              <apex:outputpanel rendered="{!!Enablevalue}" > -->
                                               <center> <button type="button" Class="managebutton slds-button--neutral" id="button12" onclick="openGeneratePopup()" style="background: white;color: rgb(77, 77, 77);;font-weight:bold" status="status" >Create Dashboard </button>  </center>
                                             <!-- </apex:outputpanel>-->
                                            </td>
                                            <td width="30%">
                                             <!--   <apex:commandbutton styleClass="slds-button slds-button--neutral" action="{!CloneFromPrevious}" style="float:left;background-color: #ccc;color: rgb(77, 77, 77);;font-weight:bold" rerender="Forms" value="Clone From Previous Run" status="status"/>
                                               -->
        
                                            </td>
                                            
                                           
                                        </tr>
                                    </table> 
                                   
                                </div>
                            </div>  
                        </div>
  
        </div>
        
                 
                
                 <input type="hidden" Name="RowNumbers" id="RowNumbers"/>
<input type="hidden" Name="Dataset" id="Dataset"/>
<input type="hidden" Name="Rowtrue" id="Rowtrue"/>
<input type="hidden" Name="Count" id="Count"/>

<input type="hidden" Name="SUMName" id="SUMName"/>
<input type="hidden" Name="DimenCount" id="DimenCount"/>
<input type="hidden" Name="DimenName" id="DimenName"/>   

<input type="hidden" Name="Rowsumtrue" id="Rowsumtrue"/>
<input type="hidden" Name="RowDimtrue" id="RowDimtrue"/>  
<input type="hidden" Name="SUM" id="SUM"/> 
          <input type="hidden"  Name="RowNumber" id="RowNumber" /> 
          <input type="hidden" name="hiddensection" id="hiddensection" />
          <input type="hidden"  Name="RowValues" id="RowValues" /> 
        <input type="hidden"  Name="KPIDimen" id="KPIDimen" />
        <input type="hidden"  Name="KPIDimen" id="KPIDimen" />    
        <input type="hidden" Name="RowNumberFilter" id="RowNumberFilter" /> 
        <input type="hidden" Name="RowNumberCount" id="RowNumberCount" /> 
        <apex:actionFunction name="selectopp" rerender="OppselectPopup"/>
         <apex:actionFunction name="editdimlabel" action="{!SaveDimLabels}"  rerender="FormNew,Forms" status="status"/>
 <apex:actionFunction name="editmeaslabel" action="{!SaveMeasLabels}"  rerender="FormNew,Forms" status="status"/>
 
        <apex:actionFunction name="ActDimension" action="{!ReportList}" rerender="OppselectPopup" status="status" oncomplete="NewDimPop()"/>
        <apex:actionFunction name="ActDateField" action="{!DateFieldMethod}" rerender="OppselectPopup,OppsetDate" status="status" oncomplete="NewDatePop()"/>
        <apex:actionFunction name="ActMeasure" action="{!MeasureMethod}" rerender="OppselectPopup,NewMeasures" status="status" oncomplete="NewMeasurePop()"/>
        <apex:actionFunction name="refreshSelected"  rerender="Forms" action="{!Previous}" status="status" oncomplete="selectedElementsDel()"/>   
               <apex:actionFunction name="NewListvalues"  rerender="Forms" action="{!Cancelvalues}" status="status"/>   
               <apex:actionFunction name="ActualTargetTheme"  rerender="GeneratePopup" action="{!ActualTargetTheme}" status="status"/>   
     
          <input type="hidden"  Name="EditTopic" id="EditTopic" /> 
          <input type="hidden" id="Menuitemsval" name="Menuitemsval"/> 
          <input type="hidden" id="Menuitemsvaltar" name="Menuitemsvaltar"/> 
          
          <input type="hidden" id="Measureones" name="Measureones"/> 
          <input type="hidden" id="Measureonestwo" name="Measureonestwo"/> 
          <input type="hidden" id="Measureonesthree" name="Measureonesthree"/> 
          
              <input type="hidden" name="hiddenSingleName" id="hiddenSingleName" />
        <input type="hidden"  Name="EditDim" id="EditDim" /> 
         <input type="hidden"  Name="MeasTopic" id="MeasTopic" />   
         <apex:actionFunction name="EditLabelClass1" action="{!EditLabelClass1}" rerender="OppEditPopup" status="status"/>
         <apex:actionFunction name="EditDimClass1" action="{!EditDimClass1}" rerender="OppEditPopup" status="status" oncomplete="NewMeaslabel()"/>
         <apex:actionFunction name="EditMeasClass1" action="{!MeasLabelClass1}" rerender="OppEditPopup" status="status" oncomplete="NewMeaslabel1()"/>
          
           <apex:actionFunction name="DimensionsNew" action="{!DimensionsNew}"  rerender="Dimen1,DimensionsIds" status="status"/>
                   <apex:actionFunction name="DatesNew" action="{!DatesNew}"  rerender="DatesIds" status="status"/> 
                   <apex:actionFunction name="MeasureNew" action="{!MeasureNew}"  rerender="MeasuresId" status="status"/> 

        <input type="hidden" name="DimhiddenKPI" id="DimhiddenKPI" />
         <input type="hidden" name="DimhiddenKPIs" id="DimhiddenKPIs" />
                 <input type="hidden" name="hiddenDashboardName" id="hiddenDashboardName" />
        <input type="hidden" name="DatehiddenKPI" id="DatehiddenKPI" />
        <input type="hidden" name="DatehiddenKPIs" id="DatehiddenKPIs" />
          <input type="hidden" Name="SelectedButtonValues" id="SelectedButtonValues"/>
        <input type="hidden" name="hiddenKPI" id="hiddenKPI" />
        <input type="hidden" name="KPIValue" id="KPIValue" />
        <input type="hidden" name="dimSelecteed" id="dimSelecteed" />
        <input type="hidden" name="dateSelecteed" id="dateSelecteed" />
         <apex:actionFunction name="Save" action="{!Save}"  rerender="NewDB" status="status"/>
         <input type="hidden" name="selectedDimRow" id="selectedDimRow" />
        <apex:actionFunction name="newTopics" id="newTopics" action="{!saveKPI1}" oncomplete="funCalTab()" rerender="Forms" status="status"/>  
          <apex:actionFunction name="boxOveriew" action="{!Submit}"  rerender="NewDB" status="status" oncomplete="filterPopUpModel()"/>
          <apex:actionFunction name="ConnectSfdc" action="{!ConnectSfdc}" rerender="purId" status="status" />
          <apex:actionFunction name="Cancelclose" action="{!Cancelclose}"  rerender="Forms" status="status" />
						 <input type="hidden" id="getProductName" name="getProductName" />
						  <apex:actionFunction name="ErrorMethod" action="{!ErrorMethod}"  rerender="MessageId" status="status" oncomplete="showErrorMessage()"/>
					
        <input type="hidden" name="tabid" id="tabids" />
        <input type="hidden" name="SelectedDataset" id="SelectedDatasetid" />
        <input type="hidden" name="SelectedRownum" id="SelectedRownumid" />
        
        <input type="hidden" name="Measureone" id="Measureone" />
<input type="hidden" name="Measuretwo" id="Measuretwo" />
<input type="hidden" name="Measurethree" id="Measurethree" />

<input type="hidden" name="Measurefour" id="Measurefour" />
<input type="hidden" name="Measurefive" id="Measurefive" />
<input type="hidden" name="Measuresix" id="Measuresix" />

<input type="hidden" name="Measuresev" id="Measuresev" />
    <input type="hidden" name="Measureeig" id="Measureeig" />
<input type="hidden" name="Measurenine" id="Measurenine" />
          
        
          <script>
              
             
                
              function updateEditRecords(){
                $(".slds-scrollable li").each(function( index ) {
                var classname=$(this).find('div').attr('class');
                var html=$(this).find('.'+classname).html();
                html="<div class='index' style='display: inline;'>("+(index+1)+")</div> "+html;
            
                $(this).find('.'+classname).html(html);
                }); 
                
            }
             function Addfiltersrecordsone(){
                $(".slds-scrollable li").each(function( index ) {
                var classname=$(this).find('div').attr('class');
                var html=$(this).find('.'+classname).html();
              
                html="<div class='index' style='display: inline;'>("+(0)+")</div> "+html;
            
                $(this).find('.'+classname).html(html);
                }); 
                $(".selecteddimText").empty();
              
            }
             
            </script>
          
<script language="Javascript">
	var activeRows = 0;
	function setActiveRowdate(el) {
		var rows = $('#movingTableDate li');
		for (var i = 0; i < rows.length; i++) {
			if (rows[i] == el) {
				rows[i].style.backgroundColor = "lightgrey";
				activeRows = i;
			} else {
				rows[i].style.backgroundColor = "white";
			}
		}
	}

	function moveActiveRowdate(move) {
		 var rows = $('#movingTableDate li');
		var oldRow = rows[activeRows].innerHTML;
		var newRow = rows[activeRows + move].innerHTML;
		rows[activeRows].innerHTML = newRow;
		rows[activeRows + move].innerHTML = oldRow;
		setActiveRowdate(rows[activeRows + move]);
	}
	 
	 

	function NewDatePop(){
	   $('#DatesByItmesvalEdit li').appendTo($("#DatesByItmesval ul"));
	    $('#DatesByItmesvalEdit li').appendTo($("#DatesByItmesval ul"));
	   showDates();
	   
	}
	
    var DBS = '{!$CurrentPage.parameters.id}';
	 function saveDashboard(){
            var KPISection = document.getElementById('DashboardName').value;   
            if(KPISection != '' ){   
                document.getElementById('hiddenDashboardName').value= KPISection;
            
                document.getElementById("errordash").innerHTML = "";
               
                //boxOveriew();
                if(DBS != '' && DBS != 'None'){ 
                    openpurchaseDB('01t41000004IXkRAAW');
               }
               else{
                    openpurchaseDB('01t41000004IXliAAG');
               }
            }
            else{
                if(KPISection == ''){
                document.getElementById("errordash").innerHTML = "Error: You must enter a value";
                }
                
            }
                          
        }
        
        
        function singleDashboard(){
            var KPISection = document.getElementById('SingleName').value;
            if(KPISection != ''){   
                document.getElementById('hiddenSingleName').value= KPISection;          
                document.getElementById("errorsingle").innerHTML = "";  
                Save();
            }
            else{
                if(KPISection == ''){
                document.getElementById("errorsingle").innerHTML = "Error: You must enter a value";
                }               
            }
                          
        }
</script>

<apex:outputpanel id="NewForms">
         <!-- Is Process Spinner -->
            <div class="pagespinner" id="IsProcessSpinner" style="display:none">
            <div class="loading-analytics-container" data-reactid=".3">
                <svg class="loading-analytics" data-reactid=".3.0" viewBox="-255 347 100 100" x="0px" y="0px">
                    <path class="bar-1" d="M-207.1,398.7c-1.7-1.9-2.7-4.5-2.6-7.3c0.3-5.1,4.4-9.2,9.5-9.5c2.8-0.1,5.4,0.9,7.3,2.6c0.2,0.2,0.5,0.2,0.7,0l2.8-2.8 c0.2-0.2,0.2-0.5,0-0.7c-2.8-2.6-6.6-4.2-10.7-4c-7.9,0.3-14.3,6.6-14.5,14.5c-0.1,4.1,1.4,7.9,4,10.7c0.2,0.2,0.5,0.2,0.7,0 l2.8-2.8C-206.9,399.2-206.9,398.9-207.1,398.7z" data-reactid=".3.0.0"></path>
                    <path class="bar-2" d="M-200.2,372c-11.3,0.3-20.2,9.7-19.6,21.1c0.6,10.4,9.2,18.7,19.6,18.9c5.5,0.1,10.5-2.1,14.2-5.6c0.2-0.2,0.5-0.2,0.7,0 l2.9,2.9c0.2,0.2,0.2,0.5,0,0.7c-4.6,4.4-10.9,7.1-17.8,7c-13.4-0.3-24.3-11.2-24.5-24.6c-0.2-13.8,10.8-25.1,24.5-25.4 c0.3,0,0.5,0.2,0.5,0.5v4C-199.7,371.8-199.9,372-200.2,372z" data-reactid=".3.0.1"></path>
                    <path class="bar-3" d="M-178.9,413.5c-5.3,5.1-12.4,8.3-20.3,8.5c-16.4,0.3-30.2-12.9-30.6-29.3c-0.1-2.8,0.3-5.5,0.9-8c0.1-0.3-0.1-0.5-0.4-0.6 l-3.9-1c-0.3-0.1-0.5,0.1-0.6,0.4c-0.7,2.9-1.1,6-1.1,9.1c0.3,19.1,16,34.5,35.1,34.5c9.5,0,18.1-3.8,24.3-10c0.2-0.2,0.2-0.5,0-0.7 l-2.8-2.8C-178.5,413.4-178.7,413.3-178.9,413.5z" data-reactid=".3.0.2"></path>
                </svg>
            </div>
        </div>
 <!--@@ Himanshu tak -->
 <script>
      var addFilterTO={}; 
       var updateRef;
       var selectedarr={};
       var selectedItemscount=0;
       var selectItems=''; 
       var fieldapi='';
       var folderId='{!CurrentVersionId}';
       var dataSetId='{!SelectKPIId}';
       var selurlid='{!CurrentVersionUrl}';
        var folderIdone='{!CurrentVersionIdone}';
       var dataSetIdone='{!SelectKPIIdone}';
       var selurlidone='{!CurrentVersionUrlone}';
       var dataSetLayout='';
       var DimensionsApis={}  ;
       var MeasuresApis={}  ;
       var MeasrureRecords = '';
       var selectedparentMeas = '';
       var datesApis={}  ;
       
       
            var selectedElements={};
             var ref;
             var isUpdate=false;
             var checkPanelLoad={};
             var selectedPanel;

       var sid = '{!$Api.Session_ID}';
       var instance_url = '{!$Site.BaseUrl}';
        var body;
        $('#MenuItemsEdit li').appendTo($('#MenuItems1 ul'));
        var app = angular.module('demoajax', ['ngMaterial']);
        app.controller('Demo', function($scope,$http) {
            
             //Show Spinner
             $("#IsProcessSpinner").show();
             
                $http({
                    url: "/services/data/v39.0/wave/datasets",
                    method: "GET",
                    headers: {
                       "Authorization": "OAuth " + sid
                    }
                })
                .then(function(response) {
                  
                    
                    $(".dataSetLayout").html(dataSetLayout);
                   
                    //Hide Spinner
                    $("#IsProcessSpinner").hide();
                }, 
                function(response) { 
                });
                
                
              $scope.onGetRecords= function() {
                 //Show Spinner
                 $("#IsProcessSpinner").show();
                  
                 var MeasuresLayout='';
                 var Measures=[];
                 var dates=[];
                 var datesLayout='';
                 var DimensionsLayout='';
                 var DimensionsLayoutone='';
                 var Dimensions=[];
                 var MeasuresApi={};
                 var DimensionsApi={};
                 var datesApi={}
                  var adddimensTO={};
                 var adddimeasTO ={};
                 var adddatessTO ={};
                 selurlid = '/services/data/v39.0/wave/datasets/'+dataSetId+'/versions/'+folderId;
                 
                       $http({
                            url: selurlid+"/xmds/system",
                            method: "GET",
                            headers: {
                               "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {
                            
                           for(var i=0;i<response.data.measures.length;i++){
                               // if(response.data.measures[i]['description']!=undefined && response.data.measures[i]['label']!=undefined ){
                                   
                                    Measures[i]=response.data.measures[i]['label'];
                                    MeasuresApi[response.data.measures[i]['label']]=response.data.measures[i]['field'];
                                //}
                                
                            }
                            for(var i=0;i<response.data.dates.length;i++){
                                dates[i]=response.data.dates[i]['alias'];
                                datesApi[response.data.dates[i]['alias']]=response.data.dates[i].fields['epochSecond'];
                               
                                
                            }
                             for(var i=0;i<response.data.dimensions.length;i++){
                                Dimensions[i]=response.data.dimensions[i]['label'];
                                DimensionsApi[response.data.dimensions[i]['label']]=response.data.dimensions[i]['field'];
                                
                            }
                            
                            //Sort Records 
                            Measures.sort();
                            dates.sort();
                            Dimensions.sort();
                              
                             
                            
                             $('#FilterbyItmes li').filter(
                            function(){
                                 	var keyFields =	$(this).closest('li').find('.fieldapi').val()+$(this).closest('li').find('.selectedfield').val() ;
                                 	var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                                 	keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
							        adddatessTO[keyFieldss] = keyFieldss; 
                                
                            });
                            
                           
                            //Create Layout  
                            for(var i=0;i<Measures.length;i++){
                                    var keyFieldss = MeasuresApi[Measures[i]]+Measures[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                    if(Measures[i]!=undefined && adddatessTO[keyFieldss] == undefined){
                                      
                                        MeasuresLayout+='<a onclick="filteritemsAll(this)" class="measure" id='+MeasuresApi[Measures[i]]+'>';
                                        MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" />';
                                        MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" />';
                                
                                        MeasuresLayout+='<label data-tooltip-on-truncation="true"  >'+Measures[i]+'</label>';
                                        MeasuresLayout+='<span class="valuesbtn" >';
                                        MeasuresLayout+='<span class="chevronLeftIcon" >';
                                        MeasuresLayout+='<svg ></svg>';
                                        MeasuresLayout+='</span>';
                                        MeasuresLayout+='<b class="chevronLabel" ></b>';
                                        MeasuresLayout+='<svg class="icon" >';
                                        MeasuresLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                        MeasuresLayout+='</svg></span></a>';
                                    }
                                    if(Measures[i]!=undefined && adddatessTO[keyFieldss] != undefined){
                                      
                                        MeasuresLayout+='<a onclick="filteritemsAll(this)" class="measure" id='+MeasuresApi[Measures[i]]+'>';
                                        MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" />';
                                        MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" />';
                                
                                        MeasuresLayout+='<label data-tooltip-on-truncation="true"  >'+Measures[i]+'</label>';
                                        MeasuresLayout+='<span class="valuesbtn" >';
                                        MeasuresLayout+='<span class="chevronLeftIcon" >';
                                        MeasuresLayout+='<svg ></svg>';
                                        MeasuresLayout+='</span>';
                                        MeasuresLayout+='<b class="chevronLabel" ></b>';
                                        MeasuresLayout+='<svg class="icon" >';
                                        MeasuresLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                        MeasuresLayout+='</svg></span></a>';
                                    }
                                    
                               }
                            $(".MeasuresLayout").html(MeasuresLayout);
                            
                            //For Date Fields 
                            for(var i=0;i<dates.length;i++){
                                var keyFieldss = datesApi[dates[i]]+dates[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                if(dates[i]!=undefined && adddatessTO[keyFieldss] == undefined){ 
                                    datesLayout+='<a class="dimension date" onclick="filteritemsAll(this)" id='+datesApi[dates[i]]+'>';
                                    datesLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DateLabel}" width="15px" height="10px" />';
                                    datesLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="15px" height="10px" />';
                              
                                    datesLayout+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayout+='<span class="valuesbtn" >';
                                    datesLayout+='<span class="chevronLeftIcon" >';
                                    datesLayout+='<svg class="icon" >';
                                    datesLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#date"></use>';
                                    datesLayout+='</svg>';
                                    datesLayout+='</span>';
                                    datesLayout+='<b class="chevronLabel" >scale</b>';
                                    datesLayout+='<svg class="icon" >';
                                    datesLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayout+='</svg></span></a>';
                                }
                                if(dates[i]!=undefined && adddatessTO[keyFieldss] != undefined){ 
                                    datesLayout+='<a class="dimension date" onclick="filteritemsAll(this)" id='+datesApi[dates[i]]+'>';
                                    datesLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;"   src="{!$Resource.DateLabel}" width="15px" height="10px" />';
                                    datesLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="15px" height="10px" />';
                              
                                    datesLayout+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayout+='<span class="valuesbtn" >';
                                    datesLayout+='<span class="chevronLeftIcon" >';
                                    datesLayout+='<svg class="icon" >';
                                    datesLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#date"></use>';
                                    datesLayout+='</svg>';
                                    datesLayout+='</span>';
                                    datesLayout+='<b class="chevronLabel" >scale</b>';
                                    datesLayout+='<svg class="icon" >';
                                    datesLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayout+='</svg></span></a>';
                                }
                            }      
                            
                            $(".datesLayout").html(datesLayout);
                            
                             //For Dimensions Layout 
                                 
                               
                            for(var i=0;i<Dimensions.length;i++){
                                 var keyFieldss = DimensionsApi[Dimensions[i]] +Dimensions[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                   
                                if(Dimensions[i]!=undefined && adddatessTO[keyFieldss] == undefined){ 
                                    DimensionsApi[Dimensions[i]]
                                    DimensionsLayout+='<a onclick="filteritemsAll(this)" class="dimension" id='+DimensionsApi[Dimensions[i]]+'>';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" />';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" />';
                            
                                    DimensionsLayout+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayout+='<span class="valuesbtn" >';
                                    DimensionsLayout+='<span class="chevronLeftIcon" >';
                                    DimensionsLayout+='<svg class="icon" >';
                                    DimensionsLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#filter-list"></use>';
                                    DimensionsLayout+='</svg>';
                                    DimensionsLayout+='</span>';
                                    DimensionsLayout+='<b class="chevronLabel" >filter</b>';
                                    DimensionsLayout+='<svg class="icon" >';
                                    DimensionsLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';
                                    
                                 }
                                  if(Dimensions[i]!=undefined && adddatessTO[keyFieldss] != undefined){ 
                                    DimensionsApi[Dimensions[i]]
                                    DimensionsLayout+='<a onclick="filteritemsAll(this)" class="dimension" id='+DimensionsApi[Dimensions[i]]+'>';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" />';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" />';
                            
                                    DimensionsLayout+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayout+='<span class="valuesbtn" >';
                                    DimensionsLayout+='<span class="chevronLeftIcon" >';
                                    DimensionsLayout+='<svg class="icon" >';
                                    DimensionsLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#filter-list"></use>';
                                    DimensionsLayout+='</svg>';
                                    DimensionsLayout+='</span>';
                                    DimensionsLayout+='<b class="chevronLabel" >filter</b>';
                                    DimensionsLayout+='<svg class="icon" >';
                                    DimensionsLayout+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';
                                    
                                 }
                                   
                                 
                            }     
                           $(".DimensionsLayout").html(DimensionsLayout);  
                           
                           $('.popup').toggle(500);
                           // hide Spinner
                           $("#IsProcessSpinner").hide();
                        }, 
                        function(response) { 
                               //Hide Spinner 
                               $("#IsProcessSpinner").hide();
                        });
                     }
                     
                     $scope.onGetDimRecords= function() {
                 //Show Spinner
                 $("#IsProcessSpinner").show();
                 var DimensionsLayout='';
                 var DimensionsLayoutone='';
                 var Dimensions=[]; 
                 var adddimensTO={};
				var Dimensionsorgs= {};		
                 selurlid = '/services/data/v39.0/wave/datasets/'+dataSetId+'/versions/'+folderId;                 
                       $http({
                            url: selurlid+"/xmds/system",
                            method: "GET",
                            headers: {
                               "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {
   
                             for(var i=0;i<response.data.dimensions.length;i++){
                                Dimensions[i]=response.data.dimensions[i]['label'];
                                DimensionsApis[response.data.dimensions[i]['label']]=response.data.dimensions[i]['field']; 
                                 Dimensionsorgs[response.data.dimensions[i]['label']]=response.data.dimensions[i]['origin']; 
                            }
                            
                            Dimensions.sort();
                          
                            
                            $('#DimensionsbyItmes li').filter(
                            function(){
                                 	var keyFields =  '1'+$(this).closest('li').find('.selectedfield').val();
                                 	var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                                 	keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
							        adddimensTO[keyFieldss] = keyFieldss; 
                                
                            });	
                             //For Dimensions Layout
                            for(var i=0;i<Dimensions.length;i++){
                                var Dimes = '1'+DimensionsApis[Dimensions[i]].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                if(Dimensions[i]!=undefined && adddimensTO[Dimes]==undefined && Dimensionsorgs[Dimensions[i]]!= undefined){ 
                                    DimensionsApis[Dimensions[i]]
                                    DimensionsLayoutone+='<a onclick="moveitems(this)" class="dimensions" id='+DimensionsApis[Dimensions[i]]+i+'>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="blo'+Dimes+'"/>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="dis'+Dimes+'"/>';
                                   
                                    DimensionsLayoutone+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayoutone+='<span class="valuesbtn" >';
                                    DimensionsLayoutone+='<span class="chevronLeftIcon" >';
                                    DimensionsLayoutone+='</span>';
                                    DimensionsLayoutone+='<svg class="icon" >';
                                    DimensionsLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';                                   
                                 
                                } 
                                if(Dimensions[i]!=undefined && adddimensTO[Dimes]!=undefined && Dimensionsorgs[Dimensions[i]]!= undefined){ 
                                    DimensionsApis[Dimensions[i]]
                                    DimensionsLayoutone+='<a onclick="moveitems(this)" class="dimensions" id='+DimensionsApis[Dimensions[i]]+i+'>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="blo'+Dimes+'"/>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="dis'+Dimes+'"/>';
                                   
                                    DimensionsLayoutone+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayoutone+='<span class="valuesbtn" >';
                                    DimensionsLayoutone+='<span class="chevronLeftIcon" >';
                                    DimensionsLayoutone+='</span>';
                                    DimensionsLayoutone+='<svg class="icon" >';
                                    DimensionsLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';                                   
                                 
                                } 
                            }
                           $("#DimensionsLayoutone").html(DimensionsLayoutone); 
                           
                            var itemsrec;
                            for(var i=1;i<= $("#DimensionsbyItmes li").length;i++){
                                 itemsrec = i;
                                 $("#NumberIds").html(itemsrec);
                                 
                            }
                           
                         //  $('.OppselectPopup').toggle(500);
                           // hide Spinner
                           $("#IsProcessSpinner").hide();
                        }, 
                        function(response) { 
                               //Hide Spinner 
                               $("#IsProcessSpinner").hide();
                        });
                     }
                     			 $scope.onGetDimRecordsone= function() {
                 //Show Spinner
                 $("#IsProcessSpinner").show();
                 var DimensionsLayout='';
                 var DimensionsLayoutone='';
                 var Dimensions=[]; 
                 var adddimensTO={};
                 var Dimensionsorgs= {};
                
                 selurlid = '/services/data/v39.0/wave/datasets/'+dataSetIdone+'/versions/'+folderIdone;                 
                       $http({
                            url: selurlid+"/xmds/system",
                            method: "GET",
                            headers: {
                               "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {
   
                             for(var i=0;i<response.data.dimensions.length;i++){
                                Dimensions[i]=response.data.dimensions[i]['label'];
                                DimensionsApis[response.data.dimensions[i]['label']]=response.data.dimensions[i]['field'];
                                Dimensionsorgs[response.data.dimensions[i]['label']]=response.data.dimensions[i]['origin']; 
                            }
                            Dimensions.sort();
                            $('#DimensionsbyItmesvalone li').filter(
                    		function(){
                    				var keyFields = '2'+$(this).closest('li').find('.selectedfield').val();
                    				var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                    				keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
                    				adddimensTO[keyFieldss] = keyFieldss; 
                    			
                    		});	
                             //For Dimensions Layout
                            for(var i=0;i<Dimensions.length;i++){
                               var Dimes = '2'+DimensionsApis[Dimensions[i]].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                    if(Dimensions[i]!=undefined && adddimensTO[Dimes]==undefined && Dimensionsorgs[Dimensions[i]]!= undefined){                        
                                    DimensionsApis[Dimensions[i]]
                                    DimensionsLayoutone+='<a onclick="moveitemsone(this)" class="dimensions" id='+DimensionsApis[Dimensions[i]]+i+'>';
                                   DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="blotar'+Dimes+'"/>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="distar'+Dimes+'"/>';
                                   
                                    DimensionsLayoutone+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayoutone+='<span class="valuesbtn" >';
                                    DimensionsLayoutone+='<span class="chevronLeftIcon" >';
                                    DimensionsLayoutone+='</span>';
                                    DimensionsLayoutone+='<svg class="icon" >';
                                    DimensionsLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';                                   
                                 
                            } 
                            if(Dimensions[i]!=undefined && adddimensTO[Dimes]!=undefined && Dimensionsorgs[Dimensions[i]]!= undefined){                        
                                    DimensionsApis[Dimensions[i]]
                                    DimensionsLayoutone+='<a onclick="moveitemsone(this)" class="dimensions" id='+DimensionsApis[Dimensions[i]]+i+'>';
                                   DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="blotar'+Dimes+'"/>';
                                    DimensionsLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="distar'+Dimes+'"/>';
                                   
                                    DimensionsLayoutone+='<label data-tooltip-on-truncation="true"  >'+Dimensions[i]+'</label>';
                                    DimensionsLayoutone+='<span class="valuesbtn" >';
                                    DimensionsLayoutone+='<span class="chevronLeftIcon" >';
                                    DimensionsLayoutone+='</span>';
                                    DimensionsLayoutone+='<svg class="icon" >';
                                    DimensionsLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"> </use></svg></span> </a>';                                   
                                 
                            } 
                            }
                           $("#DimensionsLayouttwo").html(DimensionsLayoutone); 
                           
                            var itemsrec;
                            for(var i=1;i<= $("#DimensionsbyItmesvalone li").length;i++){
                                 itemsrec = i;
                                 $("#NumberIdsone").html(itemsrec);
                                 
                            }
                         //  $('.OppselectPopup').toggle(500);
                           // hide Spinner
                           $("#IsProcessSpinner").hide();
                        }, 
                        function(response) { 
                               //Hide Spinner 
                               $("#IsProcessSpinner").hide();
                        });
                     }
                     
            $scope.onGetDateRecords= function() {
                 //Show Spinner
                 $("#IsProcessSpinner").show();
                
                 var dates=[];
                 var datesLayoutone=''; 
                 var adddatesTo ={};
                 
                 selurlid = '/services/data/v39.0/wave/datasets/'+dataSetId+'/versions/'+folderId;
                 
                       $http({
                            url: selurlid+"/xmds/system",
                            method: "GET",
                            headers: {
                               "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {
                          
                            for(var i=0;i<response.data.dates.length;i++){
                                dates[i]=response.data.dates[i]['alias'];
                                datesApis[response.data.dates[i]['alias']]=response.data.dates[i].fields['epochSecond'];             
                            }
                            
                            dates.sort();  
                             
                                    $('#DatesByItmesval li').filter(
                                    function(){
                                 	var keyFields = '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                                 	
                                 	var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                                 	keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
							        adddatesTo[keyFieldss] = keyFieldss; 
                                
                            });	
                            //For Date Fields 
                            for(var i=0;i<dates.length;i++){
                                var Dimes = '1'+datesApis[dates[i]].replace('_sec_epoch','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                   
                                if(dates[i]!=undefined && adddatesTo[Dimes] == undefined){ 
                                    datesLayoutone+='<a class="dimension date" onclick="movedateitems(this)" id='+datesApis[dates[i]]+'>';
                                    datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DateLabel}" width="15px" height="10px" id="block'+Dimes+'"/>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="15px" height="10px" id="date'+Dimes+'"/>';
                                  
                                    datesLayoutone+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayoutone+='<span class="valuesbtn" >';
                                    datesLayoutone+='<span class="chevronLeftIcon" >';
                                     datesLayoutone+='</span>';
                                    datesLayoutone+='<svg class="icon" >';
                                    datesLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayoutone+='</svg></span></a>';
                                }
                                
                                if(dates[i]!=undefined && adddatesTo[Dimes] != undefined){ 
                                    datesLayoutone+='<a class="dimension date" onclick="movedateitems(this)" id='+datesApis[dates[i]]+'>';
                                    datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.DateLabel}" width="15px" height="10px" id="block'+Dimes+'"/>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.TA_Label}" width="15px" height="10px" id="date'+Dimes+'"/>';
                                  
                                    datesLayoutone+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayoutone+='<span class="valuesbtn" >';
                                    datesLayoutone+='<span class="chevronLeftIcon" >';
                                     datesLayoutone+='</span>';
                                    datesLayoutone+='<svg class="icon" >';
                                    datesLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayoutone+='</svg></span></a>';
                                }
                            }                            
                            $(".datesLayoutoneone").html(datesLayoutone);  
                            
                                var itemsrec;
                                for(var i=1;i<= $("#DatesByItmesval li").length;i++){
                                     itemsrec = i;
                                     $("#NumberdateIds").html(itemsrec);
                                     
                            }
                           
                           $('.popup').toggle(500);
                           // hide Spinner
                           $("#IsProcessSpinner").hide();
                        }, 
                        function(response) {  
                               $("#IsProcessSpinner").hide();
                        });
                     }
             $scope.onGetDateRecordsone= function() {
                 //Show Spinner
                 $("#IsProcessSpinner").show();
                
                 var dates=[];
                 var datesLayoutone=''; 
                 var adddimensTOone={};
                 
                 selurlid = '/services/data/v39.0/wave/datasets/'+dataSetIdone+'/versions/'+folderIdone;
                 
                       $http({
                            url: selurlidone+"/xmds/system",
                            method: "GET",
                            headers: {
                               "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {
                          
                            for(var i=0;i<response.data.dates.length;i++){
                                dates[i]=response.data.dates[i]['alias'];
                                datesApis[response.data.dates[i]['alias']]=response.data.dates[i].fields['epochSecond'];             
                            }
                            
                            dates.sort();  
                            $('#DatesByItmesvalone li').filter(
                    		function(){
                    				var keyFields = '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                    				var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                    				keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
                    				adddimensTOone[keyFieldss] = keyFieldss; 
                    			
                    		});	
                            //For Date Fields 
                            for(var i=0;i<dates.length;i++){
                                 var Dimes = '2'+datesApis[dates[i]].replace('_sec_epoch','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                                    if(dates[i]!=undefined && adddimensTOone[Dimes]==undefined){ 
                                    datesLayoutone+='<a class="dimension date" onclick="movedateitemsone(this)" id='+datesApis[dates[i]]+'>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DateLabel}" width="15px" height="10px" id="blocktar'+Dimes+'"/>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="15px" height="10px" id="datetar'+Dimes+'"/>';
                                 
                                    datesLayoutone+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayoutone+='<span class="valuesbtn" >';
                                    datesLayoutone+='<span class="chevronLeftIcon" >';
                                    datesLayoutone+='</span>';
                                    datesLayoutone+='<svg class="icon" >';
                                    datesLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayoutone+='</svg></span></a>';
                                }
                                if(dates[i]!=undefined && adddimensTOone[Dimes]!=undefined){ 
                                    datesLayoutone+='<a class="dimension date" onclick="movedateitemsone(this)" id='+datesApis[dates[i]]+'>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.DateLabel}" width="15px" height="10px" id="blocktar'+Dimes+'"/>';
                                   datesLayoutone+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.TA_Label}" width="15px" height="10px" id="datetar'+Dimes+'"/>';
                                 
                                    datesLayoutone+='<label data-tooltip-on-truncation="true" >'+dates[i]+'</label>';
                                    datesLayoutone+='<span class="valuesbtn" >';
                                    datesLayoutone+='<span class="chevronLeftIcon" >';
                                    datesLayoutone+='</span>';
                                    datesLayoutone+='<svg class="icon" >';
                                    datesLayoutone+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/analytics/wave/web/proto/icons/sprite.analytics.svg#chevronright"></use>';
                                    datesLayoutone+='</svg></span></a>';
                                }
                            }                            
                            $(".datesLayoutonetwo").html(datesLayoutone);  
                            
                                var itemsrec;
                                for(var i=1;i<= $("#DatesByItmesvalone li").length;i++){
                                     itemsrec = i;
                                     $("#NumberdateIdsone").html(itemsrec);
                                     
                            }
                           
                           filterPopUpModel();
                           // hide Spinner
                           $("#IsProcessSpinner").hide();
                        }, 
                        function(response) { 
                               //Hide Spinner 
                               $("#IsProcessSpinner").hide();
                        });
                     }        
                     
                     
                $scope.onGetMeasureRecords= function() {
                    //delete checkPanelLoad[selectedPanelact];
                    var selectedPanelact = 1;
                    if(checkPanelLoad[selectedPanelact]==undefined){
                        checkPanelLoad[selectedPanelact]=selectedPanelact;    
                         selurlid = '/services/data/v39.0/wave/datasets/'+dataSetId+'/versions/'+folderId;
                        $http({
                            url: selurlid+'/xmds/main',
                            method: "GET",
                            headers: {
                            "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {  
                            var MeasuresApi={};
                            var Measures=[];              
                            var Dimensions=[];
                            var DimensionsApi={};
                            var DimensionsLayout='';
                            var MeasuresLayout='';
                            var adddimTo = {};
                            var addmesTo = {};
                            var Dimensionsorgs= {};
                             var Measorg = {};
                            for(var i=0;i<response.data.dimensions.length;i++){
                                Dimensions[i]=response.data.dimensions[i]['label'];
                                DimensionsApis[response.data.dimensions[i]['label']]=response.data.dimensions[i]['field'];
                                 Dimensionsorgs[response.data.dimensions[i]['label']]=response.data.dimensions[i]['origin']; 
                            }
                            //Sort Records 
                            Dimensions.sort();
                            
                            //For Dimensions Layout
                            for(var i=0;i<Dimensions.length;i++){
                                var Dimse = Dimensions[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");
                                if(Dimensions[i]!=undefined && Dimensionsorgs[Dimensions[i]]!= undefined){ 
                                    DimensionsLayout+='<a class="dimension" onclick="filteritems(this,'+selectedPanelact+')" id='+DimensionsApi[Dimensions[i]]+'>';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="NewAll1'+Dimse+'"/>';
                                     DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals1'+Dimse+'"/>';
                                    
                                    DimensionsLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >'+Dimensions[i]+'</label><span style="display:none">'+DimensionsApi[Dimensions[i]]+'</span></a>';
                                }   
                               
                            } 
                            $("#DimensionsPanelLayout"+selectedPanelact).html(DimensionsLayout);
                           
                            //***************************************End DimensionsPanelLayout**************
                           
                            //Measures Layout
                            for(var i=0;i<response.data.measures.length;i++){
                                if(response.data.measures[i]['label']!=undefined ){
                                   
                                    Measures[i]=response.data.measures[i]['label'];
                                    MeasuresApis[response.data.measures[i]['label']]=response.data.measures[i]['field'];
                                     Measorg[response.data.measures[i]['label']]=response.data.measures[i]['origin']; 
                                }  
                             }
                             
                             //Sort Measures Records 
                                Measures.sort();
                                
                             //Create Layout   Measures
                             
                             
                             
                             //Default 
                                	
                               MeasuresLayout+='<a class="measureRows measure" onclick="filteritems(this,'+selectedPanelact+')" id="Rows">';
                               MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" id="NewAll1Rows"/>';
                               MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals1Rows" />';
                                            
                               MeasuresLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >Rows</label><span style="display:none">Rows</span></a>';
                              
                                
                                for(var i=0;i<Measures.length;i++){
                                    var Dimse = Measures[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");
                                        if(Measures[i]!=undefined  && Measorg[Measures[i]]!= undefined){
                                            MeasuresLayout+='<a class="measureCount  measure" onclick="filteritems(this,'+selectedPanelact+')" id='+Measorg[Measures[i]]+'>';
                                            MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" id="NewAll1'+Dimse+'"/>';
                                             MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals1'+Dimse+'" />';
                                            MeasuresLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >'+Measures[i]+'</label><span style="display:none">'+Measorg[Measures[i]]+'</span></a>';
                                       
                                }  
                                }
                                
                               $("#MeasuresPanelLayout"+selectedPanelact).html(MeasuresLayout);  
                                 var itemsrec;
                                for(var i=1;i<= $("#MenuItems1 li").length;i++){
                                     itemsrec = i;
                                     $("#NumberMeasIds").html(itemsrec);
                                     
                            }
                                         
                            
                             //Hide Process Spinner 
                              $("#IsProcessSpinner"+selectedPanelact).css('display','none');
                              
                               $("#MeasuresPanelLayout"+selectedPanelact).prev().show();
                                $("#MeasuresPanelLayout"+selectedPanelact).show();
                                $("#DimensionsPanelLayout"+selectedPanelact).hide();
                                $("#DimensionsPanelLayout"+selectedPanelact).prev().hide();
                                
                                 $("#MeasuresPanel"+selectedPanelact).find('.vertical a').each(function( index ) {
                                      $(this).removeClass('selected');
                                 });
                                
                                $("#MeasuresPanel"+selectedPanelact).find('.vertical a').each(function( index ) {
                                    if($(this).html()=='Count'){
                                        $(this).addClass('selected');
                                    }
                                });
                                $('#MenuItems1 li').filter(
                                function(){
                                     var key=selectedPanelact+$(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.itemSelected').val(); 
                                    selectedElements[key] = $(this).closest('li').find('.parentSelected').val();  
                                      
                                }
                                );
                                
                                
                                selectedItemsFills('count');
                                 $("#DimensionsPanelLayout"+selectedPanelact).prev().hide();
                                $("#DimensionsPanelLayout"+selectedPanelact).hide();

                        },
                        function(response) {
                        }); 
                     }else{
                          //Hide Process Spinner 
                                $("#IsProcessSpinner"+selectedPanelact).css('display','none');
                                $("#MeasuresPanel"+selectedPanelact).find('.vertical a').each(function( index ) {
                                      $(this).removeClass('selected');
                                 });
                                
                                $("#MeasuresPanel"+selectedPanelact).find('.vertical a').each(function( index ) {
                                    if($(this).html()=='Count'){
                                        $(this).addClass('selected');
                                    }
                                });
                          $("#DimensionsPanelLayout"+selectedPanelact).prev().hide();      
                          $("#DimensionsPanelLayout"+selectedPanelact).hide();
                     }       
                }          
                
                
                   $scope.onGetMeasureRecordsEdit= function() {
                    //delete checkPanelLoad[selectedPaneltar];
                    selectedPaneltar = 2;
                    if(checkPanelLoad[selectedPaneltar]==undefined){
                        checkPanelLoad[selectedPaneltar]=selectedPaneltar;    
                         selurlid = '/services/data/v39.0/wave/datasets/'+dataSetIdone+'/versions/'+folderIdone;
                        $http({
                            url: selurlid+'/xmds/main',
                            method: "GET",
                            headers: {
                            "Authorization": "OAuth " + sid
                            }
                        })
                        .then(function(response) {  
                            var MeasuresApi={};
                            var Measures=[];              
                            var Dimensions=[];
                            var DimensionsApi={};
                            var DimensionsLayout='';
                            var MeasuresLayout='';
                            var adddimTo = {};
                            var addmesTo = {};
                            var Dimensionsorgs= {};
                             var Measorg = {};
                            for(var i=0;i<response.data.dimensions.length;i++){
                                Dimensions[i]=response.data.dimensions[i]['label'];
                                DimensionsApi[response.data.dimensions[i]['label']]=response.data.dimensions[i]['field'];
                                 Dimensionsorgs[response.data.dimensions[i]['label']]=response.data.dimensions[i]['origin']; 
                            }
                            //Sort Records 
                            Dimensions.sort();
                            
                            //For Dimensions Layout
                            for(var i=0;i<Dimensions.length;i++){
                                var Dimse = Dimensions[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");
                                if(Dimensions[i]!=undefined && Dimensionsorgs[Dimensions[i]]!= undefined){ 
                                    DimensionsLayout+='<a class="dimension" onclick="filteritems(this,'+selectedPaneltar+')" id='+DimensionsApi[Dimensions[i]]+'>';
                                    DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.DimensionLabel}" width="17px" height="10px" id="NewAll2'+Dimse+'"/>';
                                     DimensionsLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals2'+Dimse+'"/>';
                                    
                                    DimensionsLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >'+Dimensions[i]+'</label><span style="display:none">'+DimensionsApi[Dimensions[i]]+'</span></a>';
                                }   
                               
                            } 
                            $("#DimensionsPanelLayout"+selectedPaneltar).html(DimensionsLayout);
                           
                            //***************************************End DimensionsPanelLayout**************
                           
                            //Measures Layout
                            for(var i=0;i<response.data.measures.length;i++){
                                if(response.data.measures[i]['label']!=undefined ){
                                   
                                    Measures[i]=response.data.measures[i]['label'];
                                    MeasuresApi[response.data.measures[i]['label']]=response.data.measures[i]['field'];
                                     Measorg[response.data.measures[i]['label']]=response.data.measures[i]['origin']; 
                                }  
                             }
                             
                             //Sort Measures Records 
                                Measures.sort();
                                
                             //Create Layout   Measures
                             
                             
                             
                             //Default 
                                	
                               MeasuresLayout+='<a class="measureRows2 measure" onclick="filteritems(this,'+selectedPaneltar+')" id="Rows">';
                               MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" id="NewAll2Rows"/>';
                               MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals2Rows" />';
                                            
                               MeasuresLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >Rows</label><span style="display:none">Rows</span></a>';
                              
                                
                                for(var i=0;i<Measures.length;i++){
                                    var Dimse = Measures[i].replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");
                                        if(Measures[i]!=undefined  && Measorg[Measures[i]]!= undefined){
                                            MeasuresLayout+='<a class="measureCount2  measure" onclick="filteritems(this,'+selectedPaneltar+')" id='+Measorg[Measures[i]]+'>';
                                            MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;"   src="{!$Resource.MeasureLabel}" width="17px" height="10px" id="NewAll2'+Dimse+'"/>';
                                             MeasuresLayout+='<img style="cursor:pointer;position:relative; z-index:2;margin-left:10px;display:none"   src="{!$Resource.TA_Label}" width="17px" height="10px" id="Anals2'+Dimse+'" />';
                                            MeasuresLayout+='<label data-tooltip-on-truncation="true" data-tooltip="#" >'+Measures[i]+'</label><span style="display:none">'+Measorg[Measures[i]]+'</span></a>';
                                       
                                }  
                                }
                                
                               $("#MeasuresPanelLayout"+selectedPaneltar).html(MeasuresLayout);  
                                 var itemsrec;
                                for(var i=1;i<= $("#MenuItems2 li").length;i++){
                                     itemsrec = i;
                                     $("#NumberMeasIdstar").html(itemsrec);
                                     
                            }          
                            
                             //Hide Process Spinner 
                              $("#IsProcessSpinner"+selectedPaneltar).css('display','none');
                              
                               $("#MeasuresPanelLayout"+selectedPaneltar).prev().show();
                                $("#MeasuresPanelLayout"+selectedPaneltar).show();
                                $("#DimensionsPanelLayout"+selectedPaneltar).hide();
                                $("#DimensionsPanelLayout"+selectedPaneltar).prev().hide();
                                
                                 $("#MeasuresPanel"+selectedPaneltar).find('.vertical a').each(function( index ) {
                                      $(this).removeClass('selected');
                                 });
                                
                                $("#MeasuresPanel"+selectedPaneltar).find('.vertical a').each(function( index ) {
                                    if($(this).html()=='Count'){
                                        $(this).addClass('selected');
                                    }
                                });
                                $('#MenuItems2 li').filter(
                                function(){
                                     var key=selectedPaneltar+$(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.itemSelected').val(); 
                                    selectedElements[key] = $(this).closest('li').find('.parentSelected').val();  
                                      
                                }
                                );
                                selectedItemsFills2('count');
                                 $("#DimensionsPanelLayout"+selectedPaneltar).prev().hide();
                                $("#DimensionsPanelLayout"+selectedPaneltar).hide();

                        },
                        function(response) { 
                            // alert("failed");
                        }); 
                     }else{
                          //Hide Process Spinner 
                                $("#IsProcessSpinner"+selectedPaneltar).css('display','none');
                                $("#MeasuresPanel"+selectedPaneltar).find('.vertical a').each(function( index ) {
                                      $(this).removeClass('selected');
                                 });
                                
                                $("#MeasuresPanel"+selectedPaneltar).find('.vertical a').each(function( index ) {
                                    if($(this).html()=='Count'){
                                        $(this).addClass('selected');
                                    }
                                });
                          $("#DimensionsPanelLayout"+selectedPaneltar).prev().hide();      
                          $("#DimensionsPanelLayout"+selectedPaneltar).hide();
                     }       
                }  
                       
                   
            
                     
                     $scope.onGetFilterRecords= function() {
                         //Show Spinner 
                         $("#IsProcessSpinner").show();
                         if(selectItems=="measure"){
                              body = { 'query':'q = load "'+dataSetId+"/"+folderId+'";'+"q = group q by all;q = foreach q generate min('"+fieldapi+"') as '_min', max('"+fieldapi+"') as '_max';"};
                               
                         }else if(selectItems=="dimension"){
                              
                              body = { 'query':'q = load "'+dataSetId+"/"+folderId+'";'+"q = group q by all;q = group q by '"+fieldapi+"';q = foreach q generate '"+fieldapi+"' as 'Id';q = limit q 1000;"};
                               
                          }else if(selectItems=="date"){
                           body = { 'query':'q = load "'+dataSetId+"/"+folderId+'";'+"q = group q by all;q = foreach q generate min('"+fieldapi+"') as '_min', max('"+fieldapi+"') as '_max';"};
                            
                           
                          
                          } 
                            $http({
                                url:"/services/data/v39.0/wave/query",  
                                method: "POST",
                                data: body,
                                headers: {
                                   "Authorization": "OAuth " + sid
                                }
                                
                            })
                            .then(function(response) {
                                
                                if(selectItems=="measure"){
                                  $("#minVal").val(response.data.results.records[0]._min);
                                    $("#maxVal").val(response.data.results.records[0]._max);
                                        
                                }else if(selectItems=="dimension"){
                                     $(".Dimensionspopup").hide();
                                    var DimensionsitemsHtml='';
                                    for(var i=0;i<response.data.results.records.length;i++){
                                        DimensionsitemsHtml+='<a onclick="singleSelectDimension(this)">';
                                        DimensionsitemsHtml+='<input class="expanded-list-dim-value-checkbox" type="checkbox" readonly="" />';
                                        DimensionsitemsHtml+='<label class="dimvalue" data-tooltip-on-truncation="true"  >'+response.data.results.records[i]['Id']+'</label>';
                                        DimensionsitemsHtml+='</a>';
                                    }

                                    $("#DimensionsitemsHtml").html(DimensionsitemsHtml);
                                     $("#DimensionsHtmlItems").html(DimensionsitemsHtml);
                                }else if(selectItems=="date"){
                         
                                    $("#fromDate").val(createDate(response.data.results.records[0]._max));
                                    
                                    $("#toDate").val(createDate(response.data.results.records[0]._min));
                                }
                                
                                //hide Spinner 
                                 $("#IsProcessSpinner").hide();
                            }, 
                            function(response) { 
                                   //Show Spinner 
                                   $("#IsProcessSpinner").hide();
                         
                            });
                       } 
                   
                    $scope.onDimensionsUpdate= function() {
                       body = { 'query':'q = load "'+dataSetId+"/"+folderId+'";'+"q = group q by all;q = group q by '"+fieldapi+"';q = foreach q generate '"+fieldapi+"' as 'Id';q = limit q 1000;"};
                         
                    $http({
                                url:"/services/data/v39.0/wave/query",  
                                method: "POST",
                                data: body,
                                headers: {
                                   "Authorization": "OAuth " + sid
                                }
                            })
                            .then(function(response) {
                               
                                // $(".Dimensionspopup").hide();
                                var DimensionsitemsHtml='';
                                for(var i=0;i<response.data.results.records.length;i++){
                                    DimensionsitemsHtml+='<a onclick="singleSelectDimension(this)">';
                                    DimensionsitemsHtml+='<input class="expanded-list-dim-value-checkbox" type="checkbox" readonly="" />';
                                    DimensionsitemsHtml+='<label class="dimvalue" data-tooltip-on-truncation="true"  >'+response.data.results.records[i]['Id']+'</label>';
                                    DimensionsitemsHtml+='</a>';
                                }
                                $("#DimensionsitemsHtml").html(DimensionsitemsHtml);
                                
                                var arrSelecids={};
                                var selectIds=$(updateRef).parent().find('.selectedIds').val();
                        
                                if(selectIds!=undefined){
                                    selectIds=selectIds.split(',');
                                    for(var i=0;i<selectIds.length;i++){
                                        arrSelecids[selectIds[i]]=selectIds[i];
                                    }
                                   
                                   var arrSelectids={};
                                    for(var i=0;i<selectIds.length;i++){
                                        arrSelectids[selectIds[i]]=selectIds[i];
                                    }
                                    if(selectIds.length>0){
                                        $("#DimensionsitemsHtml .expanded-list-dim-value-checkbox").each(function( index ) {
                                            if(arrSelectids[$(this).parent().find('.dimvalue').html()]!=undefined){
                                                $(this).attr('checked', true); 
                                                $(this).prop('checked', true);
                                            }
                                            });
                                    } 
                                }
                        
                                 $(".selectors").css('display',''); 
                                //hide Spinner 
                                 $("#IsProcessSpinner").hide();
                            }, 
                            function(response) { 
                                   //Show Spinner 
                                   $("#IsProcessSpinner").hide();
                         
                            });
                    } 
                   $scope.addSelectedDimensions= function() {
                         //Show Spinner 
                         $("#IsProcessSpinner").show();
                            
                            $http({
                                 url:"/services/data/v39.0/wave/query",  
                                method: "POST",
                                data: body,
                                headers: {
                                   "Authorization": "OAuth " + sid
                                }
                            })
                            .then(function(response) {
                               
                                //Hide Spinner 
                                 $("#IsProcessSpinner").hide();
                                  var selectedItemcount=0;
                                  $('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').each(function( index ) {
                                    if($(this).prop('checked')){
                                        selectedItemcount++;
                                    }
                                });
                                
                                //Add Items 
                                var items='<li style="width: 100%;margin-top: 10px;background-color: #E6ECF2;padding:3px;border-radius: 6px;">'+fieldapi+' : ('+selectedItemcount+') : ('+$(".DimensionspopupBtn").find('span').html()+')</li>';
                                $("#FilterbyItmes ul").append(items);

                            }, 
                            function(response) {                  
                               //Hide Spinner 
                                $("#IsProcessSpinner").hide();
                            });
                       }     
                         $scope.onfiltersearchRecords= function() {
                             
                             if($("#filterDimInput").val()!=""){
                                 body={"query":"q = load \""+dataSetId+"/"+folderId+"\";q = filter q by '"+fieldapi+"' matches \""+$("#filterDimInput").val().trim()+"\";q = group q by '"+fieldapi+"';q = foreach q generate '"+fieldapi+"' as '"+fieldapi+"';q = limit q 1000;"};    
                              }else{  
                                      body = { 'query':'q = load "'+dataSetId+"/"+folderId+'";'+"q = group q by all;q = group q by '"+fieldapi+"';q = foreach q generate '"+fieldapi+"' as 'Id';q = limit q 1000;"};
                            
                               }  
                                $http({
                                     url:"/services/data/v39.0/wave/query",  
                                    method: "POST",
                                    data: body,
                                    headers: {
                                       "Authorization": "OAuth " + sid
                                    }
                                })

                                .then(function(response) {
                                $("#DimensionsitemsHtml").html('');
                                    var DimensionsitemsHtml='';
                                   
                                        for(var i=0;i<response.data.results.records.length;i++){
                                            if($("#filterDimInput").val().trim()!="" && response.data.results.records[i][fieldapi]!=undefined){
                                                  DimensionsitemsHtml+='<a onclick="singleSelectDimension(this)">';
                                                  DimensionsitemsHtml+='<input class="expanded-list-dim-value-checkbox" type="checkbox" readonly="" />';
                                                  DimensionsitemsHtml+='<label class="dimvalue" data-tooltip-on-truncation="true"  >'+response.data.results.records[i][fieldapi]+'</label>';
                                                  DimensionsitemsHtml+='</a>';

                                             }else{
                                                   if(response.data.results.records[i]['Id']!=undefined){  
                                                       DimensionsitemsHtml+='<a onclick="singleSelectDimension(this)">';
                                                       DimensionsitemsHtml+='<input class="expanded-list-dim-value-checkbox" type="checkbox" readonly="" />';                              
                                                       DimensionsitemsHtml+='<label class="dimvalue" data-tooltip-on-truncation="true"  >'+response.data.results.records[i]['Id']+'</label>';
                                                       DimensionsitemsHtml+='</a>';
                                                   }
                                             }
                                        }
    
                                        $("#DimensionsitemsHtml").html(DimensionsitemsHtml);
    
                                }, 
                                function(response) {                  
                                   //Hide Spinner 
                                    $("#IsProcessSpinner").hide();
                                   
                                });
                            }         
                });

        
         //Filter Records 
         function filterMeasuresRecords() {
            var input, filter;
            input = document.getElementById("filterinput");
            filter = input.value.toUpperCase();
            var DimensionsitemsHtml = document.getElementById("DimensionsitemsHtml");
            var labelval = DimensionsitemsHtml.getElementsByTagName("label");
            for (i = 0; i < labelval.length; i++) {
             if (labelval[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    labelval [i].parentElement.style.display = "";
                } else {
                    labelval [i].parentElement.style.display = "none";   
                }
            }   
        }
 
        //Filter Main Items 
         function filterRecords() {
            var input = document.getElementById('myInput');
            var filter = input.value.toUpperCase();
            $( "a" ).each(function( index ) {
              var a=$(this).find('label').html();
                if(a!=undefined){
                    if (a.toUpperCase().indexOf(filter) > -1) {
                        $(this).css("display","");
                    } else {
                        $(this).css("display","none");
                    }
                }
            });
            
        }
        //Select Object DataSet 
        function selectedObjectDataSet(urlid,foldersid,datasetsid){
             folderId=foldersid;
             dataSetId=datasetsid;
             selurlid=urlid;
         }
         
         //Next Button
         function slideback(){
                $(".filterSearch").hide();
                $(".fieldsRecords").show();
                $(".selecteddimText").html('Add a Filter');
                $( ".slidebackbtn" ).hide();
                $(".filterPanelDimensions").hide();
                $(".filterPanelMeasures").hide();
                $(".filterPanelDates").hide();
                $(".Dimensionspopup").hide();
         }
         //Filter Items
         
         function movedateitemsone(obj){
             var Keys = '2'+datesApis[$(obj).find('label').html()].replace('_sec_epoch','');
              var keyFields = '2'+datesApis[$(obj).find('label').html()].replace('_sec_epoch',''); 
              delete addFilterTO[keyFields];
              $('#DatesByItmesvalone li').filter(
                function(){
                    if(keyFields == '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                        addFilterTO[keyFields] = keyFields;
                    }
                    else if(Keys+' '== '2'+$(this).text()){
                       addFilterTO[keyFields] = keyFields;
                    }
                });
             
              if(addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
             selectItems=$(obj).find('label').html();
             
             var items;
             items = '<li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onClick="setActiveRowdateone(this)">';
                items += '<div class="dateFivDiv" onclick="editDateModelone(this)" style="display: inline;"><img style="cursor:pointer;position:relative; z-index:2;"  title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px">' + selectItems+'</p>';
                 items+='<input type="hidden" class="selectedfield" value="'+datesApis[selectItems]+'"/>';
                items += '</li>';
              $("#DatesByItmesvalone ul").append(items).sort();
              var itemsrec;
                for(var i=1;i<= $("#DatesByItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberdateIdsone").html(itemsrec);
                     
                }
                
                $('#DatesByItmesvalone li').filter(
                function(){
                        var NewDims = '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch',''); 
                        NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        var divs = document.getElementById('blocktar'+NewDims);
                        var divvals = document.getElementById('datetar'+NewDims);
                        divs.style.display="none";
                        divvals.style.display="block"; 
                    
                });
         }
          else{
             
              $('#DatesByItmesvalone li').filter(
                function(){
                    
                        if( '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','') == Keys){
                            $(this).remove();
                            var NewDims = '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            var divs = document.getElementById('datetar'+NewDims);
                            var divvals = document.getElementById('blocktar'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        else if(Keys+' '== '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                            $(this).remove();
                            var NewDims = '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            var divs = document.getElementById('datetar'+NewDims);
                            var divvals = document.getElementById('blocktar'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        
                    
                });
                
                var itemsrec;
                 if($("#DatesByItmesvalone li").html() != undefined){
                for(var i=1;i<= $("#DatesByItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberdateIdsone").html(itemsrec);
                     
                }
                }
                else{
                    itemsrec = 0;
                    $("#NumberdateIdsone").html(itemsrec); 
                }
         }
         }
		 
function editDateModelone(obj){
             
             selectItems='2'+$(obj).parent().find('.selectedfield').val().replace('_sec_epoch','');
            var selectItemsid = $(obj).parent().find('.selectedfield').val().replace('_sec_epoch','');
              $('#DatesByItmesvalone li').filter(
                function(){
                    if( '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','') == selectItems){
                        $(this).remove();
                    }
                    else if(selectItems+' '== '2'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                        $(this).remove();
                    }
                });
                 delete addFilterTO[selectItems];
                  NewDims = selectItems.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        var divs = document.getElementById('blocktar'+NewDims);
                        var divvals = document.getElementById('datetar'+NewDims);
                        divs.style.display="block";
                        divvals.style.display="none"; 
                 var itemsrec;
                 if($("#DatesByItmesvalone li").html() != undefined){
                for(var i=1;i<= $("#DatesByItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberdateIdsone").html(itemsrec);
                     
                }
         }
                else{
                    itemsrec = 0;
                    $("#NumberdateIdsone").html(itemsrec); 
                }
         }
		 
  function filterRecordsDateone(panelId) {
            
                var input = document.getElementById('EInput'+panelId);
               
                var filter = input.value.toUpperCase();
                
                $( ".Dateselectors"+panelId+" a " ).each(function( index ) {
                  var a=$(this).find('label').html();
                  
                    if(a!=undefined){
                        if (a.toUpperCase().indexOf(filter) > -1) {
                            $(this).css("display","");
                        } else {
                            $(this).css("display","none");
                        }
                    }
                });
  }
				
	               var activeRowDate = 0;      
                    function setActiveRowdateone(el) {
                        var rows = $('#movingTableDateone li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activeRowDate = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActiveRowdateone(move) {
                         var rows = $('#movingTableDateone li');
                        var oldRow = rows[activeRowDate].innerHTML;
                        var newRow = rows[activeRowDate + move].innerHTML;
                        rows[activeRowDate].innerHTML = newRow;
                        rows[activeRowDate + move].innerHTML = oldRow;
                        setActiveRowdateone(rows[activeRowDate + move]);
                    }


         
         function moveitems(obj){
             var Keys = '1'+DimensionsApis[$(obj).find('label').html()];
              var keyFields = '1'+$(obj).parent().find('.selectedfield').val(); 
              delete addFilterTO[keyFields];
              $('#DimensionsbyItmes li').filter(
                   
                function(){
                        if(Keys == '1'+$(this).closest('li').find('.selectedfield').val()){
                        
                        addFilterTO[Keys] = Keys;
                    }
                    else if(keyFields+' '== '1'+$(this).closest('li').find('.selectedfield').val()){
                       addFilterTO[Keys] = Keys;
                    }
                    
                });
                
              if(addFilterTO[Keys]==undefined){
                    addFilterTO[Keys]=Keys;
             selectItems=$(obj).find('label').html();
             
             var items;
             items = '<li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onClick="setActiveRow(this)">';
                items += '<div class="DimeItemDev" onclick="editDimModel(this)" style="display: inline;"><img style="cursor:pointer;position:relative; z-index:2;"  title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px">' + selectItems+'</p>';
                 items+='<input type="hidden" class="selectedfield" value="'+DimensionsApis[selectItems]+'"/>';
                items += '</li>';
              $("#DimensionsbyItmes ul").append(items).sort();
             
                var itemsrec;
                for(var i=1;i<= $("#DimensionsbyItmes li").length;i++){
                     itemsrec = i;
                     $("#NumberIds").html(itemsrec);
                     
                     
                }
               $('#DimensionsbyItmes li').filter(
                function(){
                        var NewDims = '1'+$(this).closest('li').find('.selectedfield').val(); 
                        NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                      
                        var divs = document.getElementById('dis'+NewDims);
                        var divvals = document.getElementById('blo'+NewDims);
                        divs.style.display="block";
                        divvals.style.display="none"; 
                    
                });
         }
         else{
             $('#DimensionsbyItmes li').filter(   
                function(){
                        if(Keys == '1'+$(this).closest('li').find('.selectedfield').val()){
                            
                            $(this).remove();
                            var NewDims = '1'+$(this).closest('li').find('.selectedfield').val(); 
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                          
                            var divs = document.getElementById('dis'+NewDims);
                            var divvals = document.getElementById('blo'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        else if(Keys +' '== '1'+$(this).closest('li').find('.selectedfield').val()){
                            $(this).remove();
                            var NewDims = '1'+$(this).closest('li').find('.selectedfield').val(); 
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                          
                            var divs = document.getElementById('dis'+NewDims);
                            var divvals = document.getElementById('blo'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                             
                        }
                       
                    
                });
                
               var itemsrec = 0;
                if($("#DimensionsbyItmes li").html() != undefined){
                    for(var i=1;i<= $("#DimensionsbyItmes li").length;i++){
                         itemsrec = i;
                         $("#NumberIds").html(itemsrec);
                    }
                }
                else{
                    $("#NumberIds").html(itemsrec);
                }
                
                
         }
         }
         
         function movedateitems(obj){
             var Keys = '1'+datesApis[$(obj).find('label').html()].replace('_sec_epoch','');
              var keyFields = '1'+datesApis[$(obj).find('label').html()].replace('_sec_epoch',''); 
              delete addFilterTO[keyFields];
              $('#DatesByItmesval li').filter(
                function(){
                    if(keyFields == '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                        addFilterTO[keyFields] = keyFields;
                    }
                    else if(keyFields+' '== '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                       addFilterTO[keyFields] = keyFields;
                    }
                });
              if(addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
             selectItems=$(obj).find('label').html();
             
             var items;
             items = '<li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onClick="setActiveRowdate(this)">';
                items += '<div class="dateFivDiv" onclick="editDateModel(this)" style="display: inline;"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete"  src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px">' + selectItems+'</p>';
                 items+='<input type="hidden" class="selectedfield" value="'+datesApis[selectItems]+'"/>';
                items += '</li>';
              $("#DatesByItmesval ul").append(items).sort();
              var itemsrec;
                for(var i=1;i<= $("#DatesByItmesval li").length;i++){
                     itemsrec = i;
                     $("#NumberdateIds").html(itemsrec);
                     
                }
                 $('#DatesByItmesval li').filter(
                function(){
                        var NewDims = '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                        NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        var divs = document.getElementById('date'+NewDims);
                        var divvals = document.getElementById('block'+NewDims);
                        divs.style.display="block";
                        divvals.style.display="none"; 
                    
                });
         }
         else{
             
              $('#DatesByItmesval li').filter(
                function(){
                    
                        if( '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','') == Keys){
                            $(this).remove();
                            var NewDims = '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            var divs = document.getElementById('date'+NewDims);
                            var divvals = document.getElementById('block'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        else if(Keys+' '== '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                            $(this).remove();
                            var NewDims = '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','');
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            var divs = document.getElementById('date'+NewDims);
                            var divvals = document.getElementById('block'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        
                    
                });
                
                 var itemsrec = 0;
                 if($("#DatesByItmesval li").html() != undefined){
                    for(var i=1;i<= $("#DatesByItmesval li").length;i++){
                         itemsrec = i;
                         $("#NumberdateIds").html(itemsrec);
                         
                    }
                 }
                 else{
                     $("#NumberdateIds").html(itemsrec);
                 }
         }
         
         }
         function editDimModel(obj){
             selectItems='1'+$(obj).parent().find('.selectedfield').val();
             var selectItemsIds=$(obj).parent().find('.selectedfield').val();
             var items;
              items = '1'+$(obj).find('label').html();
              $('#DimensionsbyItmes li').filter(
                function(){
                    if(selectItems == '1'+$(this).closest('li').find('.selectedfield').val()){
                        
                        $(this).remove();
                    }
                    else if(selectItems+' '== '1'+$(this).closest('li').find('.selectedfield').val()){
                        $(this).remove();
                         
                    }
                });
                delete addFilterTO[selectItems];
                var Dims = selectItems.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                 var divs = document.getElementById('dis'+Dims);
                        var divvals = document.getElementById('blo'+Dims);
                        divs.style.display="none";
                        divvals.style.display="block";
                
                var itemsrec = 0;
                if($("#DimensionsbyItmes li").html() != undefined){
                    for(var i=1;i<= $("#DimensionsbyItmes li").length;i++){
                         itemsrec = i;
                         $("#NumberIds").html(itemsrec);
                    }
                }
                else{
                    $("#NumberIds").html(itemsrec);
                }
         }
         function editDateModel(obj){
             
             selectItems='1'+$(obj).parent().find('.selectedfield').val().replace('_sec_epoch','');
            var selectItemsIds = $(obj).parent().find('.selectedfield').val().replace('_sec_epoch','');
              $('#DatesByItmesval li').filter(
                function(){
                    if( '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','') == selectItems){
                        $(this).remove();
                    }
                    else if(selectItems+' '== '1'+$(this).closest('li').find('.selectedfield').val().replace('_sec_epoch','')){
                        $(this).remove();
                    }
                });
                 delete addFilterTO[selectItems];
                 var Dims = selectItems.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                 var divs = document.getElementById('date'+Dims);
                        var divvals = document.getElementById('block'+Dims);
                        divs.style.display="none";
                        divvals.style.display="block";
                 var itemsrec = 0;
                 if($("#DatesByItmesval li").html() != undefined){
                    for(var i=1;i<= $("#DatesByItmesval li").length;i++){
                         itemsrec = i;
                         $("#NumberdateIds").html(itemsrec);
                         
                    }
                 }
                 else{
                     $("#NumberdateIds").html(itemsrec);
                 }
         }
         
         
         function moveitemsone(obj){
             var Keys = '2'+DimensionsApis[$(obj).find('label').html()]; 
              var keyFields = '2'+DimensionsApis[$(obj).find('label').html()]; 
              delete addFilterTO[keyFields];
              $('#DimensionsbyItmesvalone li').filter(
                   
                function(){
                        if(keyFields == '2'+$(this).closest('li').find('.selectedfield').val()){
                        
                        addFilterTO[keyFields] = keyFields;
                    }
                    else if(keyFields+' '== '2'+$(this).closest('li').find('.selectedfield').val()){
                       addFilterTO[keyFields] = keyFields;
                    }
                    
                });
              if(addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
             selectItems=$(obj).find('label').html();
             var items;
                items = '<li style="cursor: pointer;width: 99%;margin-top:5px;padding: 5px;border-radius: 2px;" onClick="setActiveRows(this)">';
                items += '<div class="DimeItemDev" onclick="editDimModelone(this)" style="display: inline;"><img style="cursor:pointer;position:relative; z-index:2;"  title="Delete" src="{!$Resource.Delete}" width="26px" height="12px" /></div><p style="margin-left:30px;margin-top:-25px">' + selectItems+'</p>';
                 items+='<input type="hidden" class="selectedfield" value="'+DimensionsApis[selectItems]+'"/>';
                items += '</li>';
                
              $("#DimensionsbyItmesvalone ul").append(items).sort();
                var itemsrec;
                for(var i=1;i<= $("#DimensionsbyItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberIdsone").html(itemsrec);
                     
                }
                $('#DimensionsbyItmesvalone li').filter(
                function(){
                        var NewDims = '2'+$(this).closest('li').find('.selectedfield').val(); 
                        NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        var divs = document.getElementById('distar'+NewDims);
                        var divvals = document.getElementById('blotar'+NewDims);
                        divs.style.display="block";
                        divvals.style.display="none"; 
                    
                });
         }
         else{
             $('#DimensionsbyItmesvalone li').filter(   
                function(){
                        if(Keys == '2'+$(this).closest('li').find('.selectedfield').val()){
                            $(this).remove();
                            var NewDims = '2'+$(this).closest('li').find('.selectedfield').val(); 
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                          
                            var divs = document.getElementById('distar'+NewDims);
                            var divvals = document.getElementById('blotar'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                        }
                        else if(Keys +' '== '2'+$(this).closest('li').find('.selectedfield').val()){
                            $(this).remove();
                            var NewDims = '2'+$(this).closest('li').find('.selectedfield').val(); 
                            NewDims = NewDims.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                          
                            var divs = document.getElementById('distar'+NewDims);
                            var divvals = document.getElementById('blotar'+NewDims);
                            divs.style.display="none";
                            divvals.style.display="block"; 
                            delete addFilterTO[Keys];
                             
                        }
                        
                        
                       
                    
                });
                
                  var itemsrec;
                if($("#DimensionsbyItmesvalone li").html() != undefined){
                for(var i=1;i<= $("#DimensionsbyItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberIdsone").html(itemsrec);
                }
         }
                else{     
                    itemsrec = 0;
                    $("#NumberIdsone").html(itemsrec); 
                }
                
                
         }
         }
		 
        function editDimModelone(obj){
             selectItems='2'+$(obj).parent().find('.selectedfield').val();
             var selectItemsIds=$(obj).parent().find('.selectedfield').val();
             var items;
              items = selectItems;
              $('#DimensionsbyItmesvalone li').filter(
                function(){
                    if(items == '2'+$(this).closest('li').find('.selectedfield').val()){
                        
                        $(this).remove();
                    }
                    else if(items+' '== '2'+$(this).closest('li').find('.selectedfield').val()){
                        $(this).remove();
                         
                    }
                });
                delete addFilterTO[items];
                var Dims = selectItems.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                var divs = document.getElementById('distar'+Dims);
                        var divvals = document.getElementById('blotar'+Dims);
                        divs.style.display="none";
                        divvals.style.display="block";
                var itemsrec;
                if($("#DimensionsbyItmesvalone li").html() != undefined){
                for(var i=1;i<= $("#DimensionsbyItmesvalone li").length;i++){
                     itemsrec = i;
                     $("#NumberIdsone").html(itemsrec);
                }
         }
                else{     
                    itemsrec = 0;
                    $("#NumberIdsone").html(itemsrec); 
                }
         }
		 
		 
		  //Filter Main Items 
         function filterRecordstar() {
            var input = document.getElementById('myInputtar');
            var filter = input.value.toUpperCase();
            $( ".newselectors2 a " ).each(function( index ) {
              var a=$(this).find('label').html();
                if(a!=undefined){
                    if (a.toUpperCase().indexOf(filter) > -1) {
                        $(this).css("display","");
                    } else {
                        $(this).css("display","none");
                    }
                }
            });
            
        }
        
         //Filter Main Items 
         function filterRecordsact() {
            var input = document.getElementById('DimInput1');
            var filter = input.value.toUpperCase();
            $( ".newselectors1 a " ).each(function( index ) {
              var a=$(this).find('label').html();
                if(a!=undefined){
                    if (a.toUpperCase().indexOf(filter) > -1) {
                        $(this).css("display","");
                    } else {
                        $(this).css("display","none");
                    }
                }
            });
            
        }
        
        
         function filteritemsAll(obj){
             selectItems=$(obj).attr('class');
             if(selectItems!="measure" && selectItems!="dimension"){
                 selectItems='date';
             }
             $(".selecteddimText").html($(obj).find('label').html());
             if(selectItems=="dimension"){
                    fieldapi=$(obj).attr('id');
                    $(".filterSearch").toggle();
                    $(".fieldsRecords").toggle();
                    $( ".slidebackbtn" ).toggle();
                    $(".filterPanelDimensions").show();
                    $(".filterPanelMeasures").hide();
                    $(".filterPanelDates").hide();
                    $(".Dimensionspopup").hide();
                    $(".DimensionspopupBtn").find('span').html('Equals');
                    $(".allCheck").prop('checked', false);
                    $(".addDimensionsBtn").show();
                    $(".updateDimensionsBtn").hide();
                    //HImanshu Start 
                    $("#DimensionsitemsHtml").show();
                    $("#filterContains").parent().hide();
                    $("#filterDimInput").parent().show();
                    $("#filterDimInput").parent().next().show();
                    $("#contdimstion").hide();
                    $("#contdimstion").parent().css('background-color','');
                    $(".addDimensionsBtn").attr('onclick','addDimensions()');
                    $(".addDimensionsBtn").removeClass('disabled');
                    $(".updateDimensionsBtn").attr('onclick','UpdateDimensions()');
                    $(".updateDimensionsBtn").removeClass('disabled');
                    //Himanshu End 
                
                    //Fill Records          
                    angular.element(document.getElementById('anguController')).scope().onGetFilterRecords();
             }else if(selectItems=="measure"){
                    fieldapi=$(obj).attr('id');
                    $(".filterSearch").toggle();
                    $(".fieldsRecords").toggle();
                    $( ".slidebackbtn" ).toggle();
                    $(".filterPanelDimensions").hide();
                    $(".filterPanelMeasures").show();
                    $(".filterPanelDates").hide();
                    $(".Measuresdropdownbutton").find('span').html('Between');
                    $("#minVal").show();
                    $("#maxVal").show();           
                    $(".fromTOVal").show();           
                    $(".TOVal").show();
                    $(".Measurespopup").hide();
                    $(".updateMeasures").hide();
                    $(".addMeasures").show();
                    if($("#maxVal").parent().hasClass('w50')==false){
                        $("#maxVal").parent().addClass('w50'); 
                     }         
                   angular.element(document.getElementById('anguController')).scope().onGetFilterRecords();
               }else if(selectItems=="date"){
                    fieldapi=$(obj).attr('id');
                    $(".filterSearch").show();
                    $(".fieldsRecords").hide();
                    $( ".slidebackbtn" ).show();
                    $(".filterPanelDimensions").hide();
                    $(".filterPanelMeasures").hide();
                    $(".filterPanelDates").show();
                    $(".Absolutedate").hide();
                    $(".addNewDateBtn").show();
                    $(".updateDateBtn").hide();
                    $("#fromDate").show();
                    $("#toDate").show();
                    $(".fromTOVal").show();
                    $(".TOVal").show();
                    $(".Datedropdownbutton").find('span').html('Between');
                      //Fill Records          
                   angular.element(document.getElementById('anguController')).scope().onGetFilterRecords();
               }
         }
         
         //Fill Select Dimension items in query 
         function filterDimensions(){
           
            var qSreing ='';
            var allKeys=Object.keys(selectedarr)+'';
            var res = allKeys.split(","); 
            for(var i=0;i<res.length;i++){
                  
                if(i==(res.length-1)){
                   qSreing+='\"'+res[i]+'\"';
                }else{
                    qSreing+='\"'+res[i]+'\",';
                }
            }
            
            body = { 'query':'q = load \"'+dataSetId+"/"+folderId+'\";'+"q = group q by all;q = filter q by '"+fieldapi+"' in ["+qSreing+"];q = group q by all; q = foreach q generate count() as 'count';q = limit q 1000;"};
        }
        
      
        //Show DropdownBox 
        function dropdownBoxListtoggle(obj,itemListName,btnname){
            $("#minVal").show();
            $("#maxVal").show();
            $(".fromTOVal").show();
            $(".TOVal").show();
            if($("#maxVal").parent().hasClass('w50')==false){
                $("#maxVal").parent().addClass('w50'); 
            }
                
            if($(obj).hasClass('item')){
               $("."+btnname).find('span').html($(obj).find('label').html());
            }
            $("."+itemListName).toggle();
            
            if($(obj).find('label').html()=='Is Not Null' || $(obj).find('label').html()=='Is Null'){
                $("#minVal").hide();
                $("#maxVal").hide();
                $(".fromTOVal").hide();
                $(".TOVal").hide();
            }else if($(obj).find('label').html()=='Greater Than' 
                    || $(obj).find('label').html()=='Greater Than Or Equal To'
                    || $(obj).find('label').html()=='Equals'
                    || $(obj).find('label').html()=='Does Not Equal'){
                $("#maxVal").hide();
                $(".TOVal").hide();
                $(".fromTOVal").hide();
            }else if($(obj).find('label').html()=='Less Than' || $(obj).find('label').html()=='Less Than Or Equal To'){
                $("#minVal").hide();
                $(".TOVal").hide();
                 $("#maxVal").parent().removeClass('w50');
                $(".fromTOVal").hide();
            }else{
                $("#maxVal").parent().addClass('w50');
            }
            
            if(btnname=='Datedropdownbutton'){
                    $("#fromDate").hide();
                    $("#toDate").hide();
                    $(".fromTOVal").hide();
                    $(".TOVal").hide();
                    
                if($(".Absolutedateval").html()=="Between"){
                    $("#fromDate").show();
                    $("#toDate").show();
                    $(".fromTOVal").show();
                    $(".TOVal").show();
                    if($("#toDate").parent().hasClass('floatleft')==false){
                        $("#toDate").parent().addClass('floatleft');
                    }
                }else if($(".Absolutedateval").html()=="Greater Than Or Equal To"){
                     $("#fromDate").show();
                }else if($(".Absolutedateval").html()=="Less Than Or Equal To"){
                     $("#toDate").show();
                     $("#toDate").parent().removeClass('floatleft');
                }
            }
            //HImanshu New Update Start
            if(btnname=="DimensionspopupBtn" && $(".DimensionspopupBtn").find('span').html()=="Contains" ){
                $("#contdimstion").show();
                $("#contdimstion").parent().css('background-color','#FAF9F8');
                $("#filterContains").parent().show();
                $("#DimensionsitemsHtml").hide();
                $("#filterDimInput").parent().hide();
                $("#filterDimInput").parent().next().hide();
                $(".addDimensionsBtn").attr('onclick','');
                $(".addDimensionsBtn").addClass('disabled');
                $(".updateDimensionsBtn").attr('onclick','');
                $(".updateDimensionsBtn").addClass('disabled');
                $("#filterContains").val('');
            }else if(btnname=="DimensionspopupBtn" && $(".DimensionspopupBtn").find('span').html()!="Contains" ){
                $("#DimensionsitemsHtml").show();
                $("#filterContains").parent().hide();
                $("#filterDimInput").parent().show();
                $("#filterDimInput").parent().next().show();
                $("#contdimstion").hide();
                $("#contdimstion").parent().css('background-color','');
                $(".addDimensionsBtn").attr('onclick','addDimensions()');
                $(".addDimensionsBtn").removeClass('disabled');
                $(".updateDimensionsBtn").attr('onclick','UpdateDimensions()');
                $(".updateDimensionsBtn").removeClass('disabled');
            }
             //HImanshu New end  Start
             
           //Fill Records          
           //angular.element(document.getElementById('anguController')).scope().onGetFilterRecords();
        } 
        //Hide Show Dim Contains 
        function checklengthContains(){
            if($("#filterContains").val().trim().length>1){
                $(".addDimensionsBtn").attr('onclick','addDimensions()');
                $(".addDimensionsBtn").removeClass('disabled');
                $(".updateDimensionsBtn").attr('onclick','UpdateDimensions()');
                $(".updateDimensionsBtn").removeClass('disabled');
                $("#contdimstion").hide();
            }else{
                $(".addDimensionsBtn").attr('onclick','');
                $(".addDimensionsBtn").addClass('disabled');
                $(".updateDimensionsBtn").attr('onclick','');
                $(".updateDimensionsBtn").addClass('disabled');
                $("#contdimstion").show();
            }
        }

        //Select UnSelect itemsDimensionsSelUnSel
        function itemsDimensionsSelUnSel(){
            if($(".allCheck").is(':checked')){
                 $('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').prop('checked', true);
                 
                  $( "#DimensionsitemsHtml .dimvalue" ).each(function( index ) {
                 
                      selectedarr[$(this).html()]=$(this).html();
                  });
                 
                $(".selnum").html("Show Selected ("+$('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').length+")");
                filterDimensions();
              }else{
                 $('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').prop('checked', false);
                    $(".selnum").html("Show Selected ("+0+")");
                     
                     //remove items old selected
                     
                      var allKeys=Object.keys(selectedarr)+'';
                      var res = allKeys.split(","); 
                      for(var i=0;i<res.length;i++){
                          delete selectedarr[res[i]];
                      }
              }
        }
        //Single Select Dimension
        function singleSelectDimension(obj){
             var selectItemsString='';
               if($(obj).find('.expanded-list-dim-value-checkbox').prop('checked')){
                 selectedarr[$(obj).find('.dimvalue').html()]=$(obj).find('.dimvalue').html();
                 
                }else{
                     selectedarr[$(obj).find('.dimvalue').html()]=$(this).find('.dimvalue').html();
                     delete selectedarr[$(obj).find('.dimvalue').html()];
                }
                var countofSelected=0;
                $("#DimensionsitemsHtml .expanded-list-dim-value-checkbox" ).each(function( index ) {
                    if($(obj).is(':checked')){
                        countofSelected++;
                    }
                });
                $(".selnum").html("Show Selected ("+countofSelected+")");
                
                filterDimensions();
        }
         $( document ).ready(function() {
                  filterPopUpModel();
        });
        
        
        function filterPopUpModel(){
             $(".filterPanelDates").hide();
                $('.popup').hide();
                $(".filterSearch").hide();
                $( ".slidebackbtn" ).hide();
                $(".dropdownListmenu").hide();
                $(".withoutfromTOVal").hide();
                $(".Dimensionspopup").hide();
        }
        
        function showFilter(){
            slideback();
             angular.element(document.getElementById('anguController')).scope().onGetRecords();
        }
        function showDimension(){
            slideback();
             angular.element(document.getElementById('anguController')).scope().onGetDimRecords();
             angular.element(document.getElementById('anguController')).scope().onGetDimRecordsone();
        }
        
        function showDates(){
            slideback();
             
             angular.element(document.getElementById('anguController')).scope().onGetDateRecords();
             angular.element(document.getElementById('anguController')).scope().onGetDateRecordsone();
        }
        function showFilterone(){
            slideback();
            NewDataset1();
             angular.element(document.getElementById('anguController')).scope().onGetRecords();
        }
     
        //Add Measures Items
        function addMeasuresItems(){
              var keyFields=selectItems+$(".selecteddimText").html()+$(".Measuresdropdownbutton").find('span').html();   
              if(addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
                    var items;
                    if($(".Measuresdropdownbutton").find('span').html()=="Between"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' '+$("#minVal").val()+' - '+$("#maxVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Greater Than"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' > '+$("#minVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Greater Than Or Equal To"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' >= '+$("#minVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Less Than"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' < '+$("#maxVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Less Than Or Equal To"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' <= '+$("#maxVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Equals"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' = '+$("#minVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Does Not Equal"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' != '+$("#minVal").val()+'</div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Is Null"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' Is Null </div>';
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Is Not Null"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="MeasuresDivItems" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' Is Not Null </div>';
                    }
        
                    items+='<div style="display: inline;float: right;padding-right: 1px;cursor: pointer;" onclick="removeItems(this)">X</div>';
                    items+='<input type="hidden" class="typeofSelect" value="'+selectItems+'"/>';
                    items+='<input type="hidden" class="minVal" value="'+$("#minVal").val()+'"/>';
                    items+='<input type="hidden" class="maxVal" value="'+$("#maxVal").val()+'"/>';
                    items+='<input type="hidden" class="filterCon" value="'+$(".Measuresdropdownbutton").find('span').html()+'"/>';
                    items+='<input type="hidden" class="selectedfield" value="'+$(".selecteddimText").html()+'"/>';
                    items+='<input type="hidden" class="fieldapi" value="'+fieldapi+'"/></li>';
                    $("#FilterbyItmes ul").append(items);
                    addItems();
                
                    
            }
           //toggle Window 
            slideback();
            $('.popup').toggle(500);
        }
        
            function addItems(){    
                var itemsrec='';
                for(var i=0;i<$("#FilterbyItmes .slds-scrollable li").length;i++){
                     itemsrec+=(i+1)+' AND ';
                }
                if(itemsrec!=''){
                    itemsrec=itemsrec.substring(0,itemsrec.length-4);
                }

                $(".slds-scrollable li").each(function( index ) {
                  $(this).find('.index').css('display','inline');   
                  $(this).find('.index').html(' ('+(index+1)+') ');
                });            
                
                document.getElementById('AddFilterLogicValue').value = itemsrec;
                AddFilterLogic();
               /// $("#"+indexpanel+"FilterLogic").val(itemsrec);
           }

        //Update 
        function editFilterModel(obj){
                    updateRef=obj;
                    if($(obj).parent().find('.typeofSelect').val()=="measure"){
                        if($(obj).parent().find('.minVal').val()==undefined){
                            $("#minVal").val(0);
                        }else{
                        
                            $("#minVal").val($(obj).parent().find('.minVal').val());
                        }
                        
                        if($(obj).parent().find('.maxVal').val()==undefined){
                            $("#maxVal").val(0);
                        }else{
                        $("#maxVal").val($(obj).parent().find('.maxVal').val());
                        }
                        
                        
                        $(".Measuresdropdownbutton").find('span').html($(obj).parent().find('.filterCon').val());
                        $(".selecteddimText").html($(obj).parent().find('.selectedfield').val());
                        //Show Panel
                        $(".filterSearch").show();
                        $(".fieldsRecords").hide();
                        $( ".slidebackbtn" ).show();
                        $(".filterPanelDimensions").hide();
                        $(".filterPanelMeasures").show();
                        $(".filterPanelDates").hide();
                        
                        $("#minVal").show();
                        $("#maxVal").show();           
                        $(".fromTOVal").show();           
                        $(".TOVal").show();
                        $(".Measurespopup").hide();
                
                        //Show All 
                         $("#minVal").show();
                         $("#maxVal").show();
                         $(".fromTOVal").show();
                         $(".TOVal").show();
                            
                        //Items Show 
                        if($(obj).parent().find('.filterCon').val()=='Is Not Null' || $(obj).parent().find('.filterCon').val()=='Is Null'){
                                $("#minVal").hide();
                                $("#maxVal").hide();
                                $(".fromTOVal").hide();
                                $(".TOVal").hide();
                            }else if($(obj).parent().find('.filterCon').val()=='Greater Than' 
                                    ||$(obj).parent().find('.filterCon').val()=='Greater Than Or Equal To'
                                    || $(obj).parent().find('.filterCon').val()=='Equals'
                                    || $(obj).parent().find('.filterCon').val()=='Does Not Equal'){
                                $("#maxVal").hide();
                                $(".TOVal").hide();
                                $(".fromTOVal").hide();
                            }else if($(obj).parent().find('.filterCon').val()=='Less Than' || $(obj).parent().find('.filterCon').val()=='Less Than Or Equal To'){
                                $("#minVal").hide();
                                $(".TOVal").hide();
                                 $("#maxVal").parent().removeClass('w50');
                                $(".fromTOVal").hide();
                            }else{
                                $("#maxVal").parent().addClass('w50');
                            }
                        //Show Hide Btn
                         $(".updateMeasures").show();
                        $(".addMeasures").hide();
                         setTimeout(function(){
                             $(".Measurespopup").hide();
                     }, 500);
                    }else if($(obj).parent().find('.typeofSelect').val()=="dimension"){
                      
                        $(".addDimensionsBtn").hide();
                        $(".updateDimensionsBtn").show();
                        $(".filterSearch").show();
                        $(".fieldsRecords").hide();
                        $( ".slidebackbtn" ).show();
                        $(".filterPanelDimensions").show();
                         $("#filterContains").parent().hide();
                          $("#contdimstion").parent().hide();
                        $(".filterPanelMeasures").hide();
                        $(".filterPanelDates").hide();
                        $(".Dimensionspopup").hide();
                        $(".DimensionspopupBtn").find('span').html($(obj).parent().find('.filterCon').val());
                        fieldapi=$(obj).parent().find('.fieldapi').val();
                        updateRef=obj;
                        angular.element(document.getElementById('anguController')).scope().onDimensionsUpdate();
                        $(".selecteddimText").html($(obj).parent().find('.selectedfield').val());
                        
                        
                        
                        if($(".DimensionspopupBtn").find('span').html()=="Contains" ){
                            $("#contdimstion").show();
                            $("#contdimstion").parent().css('background-color','#FAF9F8');
                            $("#filterContains").parent().show();
                            $("#DimensionsitemsHtml").hide();
                            $("#filterDimInput").parent().hide();
                            $("#filterDimInput").parent().next().hide();
                            $(".addDimensionsBtn").attr('onclick','');
                            $(".addDimensionsBtn").addClass('disabled');
                            
                            $("#filterContains").val($(obj).parent().find('.selectedIds').val());
                            if($("#filterContains").val().trim().length>1){
                                $(".updateDimensionsBtn").attr('onclick','UpdateDimensions()');
                                $(".updateDimensionsBtn").removeClass('disabled');
                            }else{
                                $(".updateDimensionsBtn").attr('onclick','');
                                $(".updateDimensionsBtn").addClass('disabled');
                            }
                        }
                        else{
                             $("#filterContains").parent().hide();
                          $("#contdimstion").parent().hide();
                          $("#contdimstion").hide();
                        }
                        
                      
                        setTimeout(function(){
                             $(".Dimensionspopup").hide();  
                        }, 500);
                    }else if($(obj).parent().find('.typeofSelect').val()=="date"){
                    
                        $(".filterSearch").show();
                        $(".fieldsRecords").hide();
                        $( ".slidebackbtn" ).show();
                        $(".filterPanelDimensions").hide();
                        $(".filterPanelMeasures").hide();
                        $(".filterPanelDates").show();
                        $(".addNewDateBtn").hide();
                        $(".updateDateBtn").show();
                        $(".Datedropdownbutton").find('span').html($(obj).parent().find('.filterCon').val());
                        $(".selecteddimText").html($(obj).parent().find('.selectedfield').val());
                        $("#fromDate").val($(obj).parent().find('.fromDate').val());
                        $("#toDate").val($(obj).parent().find('.toDate').val());
                    }
                    
                    //toggle Window 
                    $('.popup').toggle(500);
                    
                }
            //Update measure
           function updatemeasure(){
                if($(".Measuresdropdownbutton").find('span').html()=="Between"){
                     $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' '+$("#minVal").val()+' - '+$("#maxVal").val());
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Greater Than"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' > '+$("#minVal").val());
                    
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Greater Than Or Equal To"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' >= '+$("#minVal").val());
                    
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Less Than"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' < '+$("#maxVal").val());
                    
                        
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Less Than Or Equal To"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' <= '+$("#maxVal").val());
                    
                        
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Equals"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' = '+$("#minVal").val());
                    
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Does Not Equal"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' != '+$("#minVal").val());
                    
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Is Null"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' Is Null ');
                    
                    
                    }else if($(".Measuresdropdownbutton").find('span').html()=="Is Not Null"){
                         $(updateRef).parent().find('.MeasuresDivItems').html($(".selecteddimText").html()+' Is Not Null');
        
                    }
                  var keyFields=selectItems+$(".selecteddimText").html()+$(updateRef).parent().find('.filterCon').val();  
                  if(addFilterTO[keyFields]!=undefined){
                    delete addFilterTO[keyFields];
                    keyFields=selectItems+$(".selecteddimText").html()+$(".Measuresdropdownbutton").find('span').html();  
                    addFilterTO[keyFields]=keyFields;
                  }
                $(updateRef).parent().find('.minVal').val($("#minVal").val());
                $(updateRef).parent().find('.maxVal').val($("#maxVal").val());
                $(updateRef).parent().find('.filterCon').val($(".Measuresdropdownbutton").find('span').html());
                slideback();
                var oldval=$(updateRef).parent().find('.MeasuresDivItems').html();
                var indexdiv="<div class='index'></div>";
                //$(updateRef).parent().find('.MeasuresDivItems').html(indexdiv+oldval);
                $(updateRef).parent().find('.MeasuresDivItems').html(oldval);
                addItems();
                $(".Measurespopup").hide();
                $('.popup').toggle(500);
                
           }
            
         //Add dimensionItems
            function addDimensions(){
            var countOfVal=0;
            var selectedIds='';
            var items;
                $('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').each(function( index ) {
                    if($(this).prop('checked')){
                        selectedIds+=$(this).parent().find('.dimvalue').html()+',';
                        countOfVal++;
                    }
                });
              if(countOfVal>0){  
                  var keyFields=selectItems+$(".selecteddimText").html()+$(".DimensionspopupBtn").find('span').html();  
                  if(addFilterTO[keyFields]==undefined ){
                        addFilterTO[keyFields]=keyFields;
                        //HImanshu
                        if($(".DimensionspopupBtn").find('span').html()!='Contains'){
                            if(countOfVal<5){   
                                items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="DimeItemDev" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+':'+selectedIds.substring(0,selectedIds.length-1)+'</div>';
                            }else{
                                items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div  class="DimeItemDev" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+':Include '+countOfVal+' Values</div>';
                            }
                            items+='<div style="display: inline;float: right;padding-right: 1px;cursor: pointer;" onclick="removeItems(this)">X</div>';
                            items+='<input type="hidden" class="typeofSelect" value="'+selectItems+'"/>';
                            items+='<input type="hidden" class="selectedIds" value="'+selectedIds+'"/>';
                            items+='<input type="hidden" class="filterCon" value="'+$(".DimensionspopupBtn").find('span').html()+'"/>';
                           
                           
                            items+='<input type="hidden" class="selectedfield" value="'+$(".selecteddimText").html()+'"/>';
                             items+='<input type="hidden" class="fieldapi" value="'+fieldapi+'"/></li>';
                            $("#FilterbyItmes ul").append(items);
                         }
                         // Himanshu Edn 
                  } 
              }
              //Himanshu 
                 var keyFields=selectItems+$(".selecteddimText").html()+$(".DimensionspopupBtn").find('span').html();  
              if($(".DimensionspopupBtn").find('span').html()=='Contains' && addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
                    selectedIds=$("#filterContains").val().trim(); 
                    items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div  class="DimeItemDev" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' matches '+$("#filterContains").val().trim()+' </div>';
                    items+='<div style="display: inline;float: right;padding-right: 1px;cursor: pointer;" onclick="removeItems(this)">X</div>';
                    items+='<input type="hidden" class="typeofSelect" value="'+selectItems+'"/>';
                    items+='<input type="hidden" class="selectedIds" value="'+selectedIds+'"/>';
                    items+='<input type="hidden" class="filterCon" value="'+$(".DimensionspopupBtn").find('span').html()+'"/>';
                    items+='<input type="hidden" class="selectedfield" value="'+$(".selecteddimText").html()+'"/>';
                    items+='<input type="hidden" class="fieldapi" value="'+fieldapi+'"/></li>';
                    $("#FilterbyItmes ul").append(items);
               }   
              //HImanshu End 
           //Close WIndow 
            addItems(); 
            slideback();
            $('.popup').toggle(500);     
            }
            //Update Dimensions
            function UpdateDimensions(){
                     var countOfVal=0; 
                     var selectedIds='';
                    $('#DimensionsitemsHtml .expanded-list-dim-value-checkbox').each(function( index ) {
                        if($(this).prop('checked')){
                            selectedIds+=$(this).parent().find('.dimvalue').html()+',';
                            countOfVal++;
                        }
                    });
                    if(countOfVal>0){
                        if(countOfVal<5){   
                           
                            $(updateRef).parent().find('.DimeItemDev').html($(".selecteddimText").html()+':'+selectedIds.substring(0,selectedIds.length-1));
                        }else{
                            $(updateRef).parent().find('.DimeItemDev').html($(".selecteddimText").html()+':Include '+countOfVal+' Values');
                        }   
                          var keyFields=selectItems+$(".selecteddimText").html()+$(updateRef).parent().find('.filterCon').val();  
                          if(addFilterTO[keyFields]!=undefined){
                            delete addFilterTO[keyFields];
                            keyFields=selectItems+$(".selecteddimText").html()+$(".DimensionspopupBtn").find('span').html();  
                            addFilterTO[keyFields]=keyFields;
                          }
                          $(updateRef).parent().find('.selectedIds').val(selectedIds);
                          $(updateRef).parent().find('.filterCon').val($(".DimensionspopupBtn").find('span').html());
                    }
                    if($(".DimensionspopupBtn").find('span').html()=='Contains'){
                       $(updateRef).parent().find('.DimeItemDev').html($(".selecteddimText").html()+' matches '+$("#filterContains").val().trim()+' ');
           
                         var keyFields=selectItems+$(".selecteddimText").html()+$(updateRef).parent().find('.filterCon').val();  
                          if(addFilterTO[keyFields]!=undefined){
                            delete addFilterTO[keyFields];
                            keyFields=selectItems+$(".selecteddimText").html()+$(".DimensionspopupBtn").find('span').html();  
                            addFilterTO[keyFields]=keyFields;
                          }  
                           $(updateRef).parent().find('.selectedIds').val( $("#filterContains").val().trim());
                          $(updateRef).parent().find('.filterCon').val($(".DimensionspopupBtn").find('span').html());
                    }
                  //Close WIndow
                  
                slideback();
                $('.popup').toggle(500);   
                var oldval=$(updateRef).parent().find('.DimeItemDev').html();
                var indexdiv="<div class='index'></div>";
                //$(updateRef).parent().find('.DimeItemDev').html(indexdiv+oldval);
                $(updateRef).parent().find('.DimeItemDev').html(oldval);
                addItems();                
          }
          
          
        //Add addDateCal
            function addDateCal(){
             var keyFields=selectItems+$(".selecteddimText").html()+$(".Datedropdownbutton").find('span').html();  
                   
             if(addFilterTO[keyFields]==undefined){
                    addFilterTO[keyFields]=keyFields;
                    var items;
                   if($(".Datedropdownbutton").find('span').html()=="Less Than Or Equal To"){
                      
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="dateFivDiv" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' <= '+createDateFormate($("#toDate").val())+' </div>';
                    }else if($(".Datedropdownbutton").find('span').html()=="Greater Than Or Equal To"){
                        items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="dateFivDiv" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' >= '+createDateFormate($("#fromDate").val())+' </div>';
                   }else{
                         items='<li style="cursor: pointer;width: 99%;margin-top:5px;background-color: #E6ECF2;padding: 5px;border-radius: 2px;"><div class="index"></div><div class="dateFivDiv" onclick="editFilterModel(this)" style="display: inline;">'+$(".selecteddimText").html()+' '+createDateFormate($("#toDate").val())+ ' - '+createDateFormate($("#fromDate").val())+' </div>';
              
                   }
                    items+='<div style="display: inline;float: right;padding-right: 1px;cursor: pointer;" onclick="removeItems(this)">X</div>';
                    items+='<input type="hidden" class="typeofSelect" value="'+selectItems+'"/>';
                    items+='<input type="hidden" class="fromDate" value="'+$("#fromDate").val()+'"/>';
                    items+='<input type="hidden" class="toDate" value="'+$("#toDate").val()+'"/>';
                    items+='<input type="hidden" class="filterCon" value="'+$(".Datedropdownbutton").find('span').html()+'"/>';
                    items+='<input type="hidden" class="selectedfield" value="'+$(".selecteddimText").html()+'"/>';
                    items+='<input type="hidden" class="fieldapi" value="'+fieldapi+'" /></li>';
                    $("#FilterbyItmes ul").append(items);
                    addItems();
               }
               slideback();
                $('.popup').toggle(500); 
                
                
            }
            
         //Update measure
            function updateDate(){
                if($(".Datedropdownbutton").find('span').html()=="Less Than Or Equal To"){
                   $(updateRef).parent().find('.dateFivDiv').html($(".selecteddimText").html()+' <= '+createDateFormate($("#toDate").val()));
                   
                 }else if($(".Datedropdownbutton").find('span').html()=="Greater Than Or Equal To"){
                     $(updateRef).parent().find('.dateFivDiv').html($(".selecteddimText").html()+' >= '+createDateFormate($("#fromDate").val()));
                
                }else{
                      $(updateRef).parent().find('.dateFivDiv').html($(".selecteddimText").html()+' '+createDateFormate($("#toDate").val())+ ' - '+createDateFormate($("#fromDate").val()));
                
                }
                var keyFields=selectItems+$(".selecteddimText").html()+$(updateRef).parent().find('.filterCon').val();  
                  if(addFilterTO[keyFields]!=undefined){
                    delete addFilterTO[keyFields];
                    keyFields=selectItems+$(".selecteddimText").html()+$(".Datedropdownbutton").find('span').html();  
                    addFilterTO[keyFields]=keyFields;
                  }
                          
                $(updateRef).parent().find('.fromDate').val($("#fromDate").val());
                $(updateRef).parent().find('.toDate').val($("#toDate").val());
                $(updateRef).parent().find('.filterCon').val($(".Datedropdownbutton").find('span').html());
               
               //Hide Filter Panel
                slideback();
                $('.popup').toggle(500);
               var oldval=$(updateRef).parent().find('.dateFivDiv').html();
                var indexdiv="<div class='index'></div>";
                //$(updateRef).parent().find('.dateFivDiv').html(indexdiv+oldval);
                $(updateRef).parent().find('.dateFivDiv').html(oldval);
                addItems();                
            }
            //Date Calculate
            function createDate(dateval){
                var date_string;
                var myObj = $.parseJSON('{"date_created":'+dateval+'}'),
                myDate = new Date(1000*myObj.date_created);
                var f = new Date(1000*myObj.date_created);
                
              
                var dateday=''; 
                var monthday='';
                if(f.getMonth()<10){
                     monthday='0'+f.getMonth();
                }else{
                     monthday=f.getMonth();
                }
                if(f.getDate()<10){
                     dateday='0'+f.getDate();
                }else{
                    dateday=f.getDate();
                }
                
                 date_string = f.getFullYear() + "-" + monthday + "-" + dateday;
                return date_string;
            }
            function filterDimensionsRecords(){
                angular.element(document.getElementById('anguController')).scope().onfiltersearchRecords();   
            }
            function removeItems(obj){
                var keyFields=$(obj).parent().find(".typeofSelect").val()+$(obj).parent().find(".selectedfield").val()+$(obj).parent().find(".filterCon").val();  
                if(confirm('Are You Sure')){
                    $(obj).parent().remove();
                   delete addFilterTO[keyFields];
                }
                addItems();
             }
             function createDateFormate(ndate){
                 if(ndate!=''){
                    var today = new Date(ndate);
                    var dd = today.getDate();
                    var mm = today.getMonth()+1; //January is 0!
                    
                    var yyyy = today.getFullYear();
                    if(dd<10){
                        dd='0'+dd;
                    } 
                    if(mm<10){
                        mm='0'+mm;
                    } 
                    var today = dd+'/'+mm+'/'+yyyy;
                    return today;
                    }else{
                        return '';
                    }
             }
        </script>
         <script>
        function EditFilters(){
                $(".slds-scrollable li").each(function( index ) {
                var classname=$(this).find('div').attr('class');
                var html=$(this).find('.'+classname).html();
                var indexpo=html.indexOf('/div&gt;');
            
                html=html.substr(indexpo+8,html.length);
            
                html="<div class='index' style='display: inline;'>("+(index+1)+")</div> "+html;
            
                $(this).find('.'+classname).html(html);
                });
        }
         </script>
       
       </apex:outputpanel> 
        <script>
         function newFilterClass(){
                var Values =  document.getElementById('AddFilName').value;
                document.getElementById('FilterNames').value = Values;
            }
                function Newpop(){
                   $('#FilterbyItmesIdEdit li').appendTo($('#FilterbyItmes ul'));

                   newFilterClass();
                   updateEditRecords();
                   filterPopUpModel();
                }
                
                function NewDimPop(){
                    
                   $('#DimensionsbyItmesEdit li').appendTo($('#DimensionsbyItmes ul'));
                   $('#DimensionsbyItmesEditone li').appendTo($('#DimensionsbyItmesvalone ul'));
                   showDimension();
                }
                function NewDatePop(){
                   $('#DatesByItmesvalEdit li').appendTo($("#DatesByItmesval ul"));
                   $('#DatesByItmesvalEditone li').appendTo($("#DatesByItmesvalone ul"));
                   showDates();
                   
                }
                
                  function NewMeasurePop(){
	   
	  $('#MenuItemsEdit1 li').appendTo($('#MenuItems1 ul')); 
	   $('#MenuItemsEdit2 li').appendTo($('#MenuItems2 ul')); 
	   
	   $('#menulist1Edit li').appendTo($('#menulist1 ul')); 
	   $('#menulist2Edit li').appendTo($('#menulist2 ul'));
	   $('#menulist3Edit li').appendTo($('#menulist3 ul'));
	
	   toggleMeasures('1');
	   toggleMeasuresone('2');
	   
	   
	                             
	                            
                                
	                          var i=1;
	                           $('#menulist1 li').filter(
                                    function(){
                                        var key = $(this).closest('li').find('.newselectorslist').val();
                                       document.getElementById(key).value = $(this).closest('li').find('.newselectIds').val();
                                       
                                       if(i == 1){
                                           document.getElementById('Measureone').value = document.getElementById(key).value;
                                       }
                                       if(i == 2){
                                           document.getElementById('Measuretwo').value = document.getElementById(key).value;
                                       }
                                       if(i == 3){
                                           document.getElementById('Measurethree').value = document.getElementById(key).value;
                                       }
                                       
                                       i=i+1;
                                    }
                                );
                                
                                var j=1;
                                $('#menulist2 li').filter(
                                    function(){
                                        var key = $(this).closest('li').find('.newselectorslist').val();
                                        document.getElementById(key).value = $(this).closest('li').find('.newselectIds').val();
                                        
                                         if(j == 1){
                                           document.getElementById('Measurefour').value = document.getElementById(key).value;
                                       }
                                       if(j == 2){
                                           document.getElementById('Measurefive').value = document.getElementById(key).value;
                                       }
                                       if(j == 3){
                                           document.getElementById('Measuresix').value = document.getElementById(key).value;
                                       }
                                       
                                       j++;
                                    }
                                );
                                
                                var k=1;
                                $('#menulist3 li').filter(
                                    function(){
                                        
                                        var key = $(this).closest('li').find('.newselectorslist').val();
                                        document.getElementById(key).value = $(this).closest('li').find('.newselectIds').val();
                                        
                                         if(k == 1){
                                           document.getElementById('Measuresev').value = document.getElementById(key).value;
                                       }
                                       if(k == 2){
                                           document.getElementById('Measureeig').value = document.getElementById(key).value;
                                       }
                                       if(k == 3){
                                           document.getElementById('Measurenine').value = document.getElementById(key).value;
                                       }
                                       
                                       k++;
                                    }
                                );
	   
	} 
           
              function updateEditRecords(){
                $(".slds-scrollable li").each(function( index ) {
                var classname=$(this).find('div').attr('class');
                var html=$(this).find('.'+classname).html();
                html="<div class='index' style='display: inline;'>("+(index+1)+")</div> "+html;
            
                $(this).find('.'+classname).html(html);
                }); 
                
             }
                 
                </script>
                
                 <script language="Javascript">
                    var activeRow = 0;
        
                    function setActiveRow(el) {
                        var rows = $('#movingTable li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activeRow = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActiveRow(move) {
                         var rows = $('#movingTable li');
                        var oldRow = rows[activeRow].innerHTML;
                        var newRow = rows[activeRow + move].innerHTML;
                        rows[activeRow].innerHTML = newRow;
                        rows[activeRow + move].innerHTML = oldRow;
                        setActiveRow(rows[activeRow + move]);
                    }

                </script>
                  <script language="Javascript">
                    var activeRows = 0;
        
                    function setActiveRows(el) {
                        var rows = $('#movingTableTar li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activeRows = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActiveRows(move) {
                         var rows = $('#movingTableTar li');
                        var oldRow = rows[activeRows].innerHTML;
                        var newRow = rows[activeRows + move].innerHTML;
                        rows[activeRows].innerHTML = newRow;
                        rows[activeRows + move].innerHTML = oldRow;
                        setActiveRows(rows[activeRows + move]);
                    }

                </script>
                
                <script language="Javascript">
                    var activemesact = 0;
        
                    function setActiveMesRows(el) {
                        var rows = $('#movingTableact li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activemesact = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActiveMesRows(move) {
                         var rows = $('#movingTableact li');
                        var oldRow = rows[activemesact].innerHTML;
                        var newRow = rows[activemesact + move].innerHTML;
                        rows[activemesact].innerHTML = newRow;
                        rows[activemesact + move].innerHTML = oldRow;
                        setActiveMesRows(rows[activemesact + move]);
                    }

                </script>
                
                <script language="Javascript">
                    var activeMestar = 0;
        
                    function setActivetarRows(el) {
                        var rows = $('#movingTableTar li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activeMestar = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActivetarRows(move) {
                         var rows = $('#movingTableTar li');
                        var oldRow = rows[activeMestar].innerHTML;
                        var newRow = rows[activeMestar + move].innerHTML;
                        rows[activeMestar].innerHTML = newRow;
                        rows[activeMestar + move].innerHTML = oldRow;
                        setActivetarRows(rows[activeMestar + move]);
                    }

                </script>
                <script language="Javascript">
                    var activeRows = 0;
        
                    function setActiveRowdate(el) {
                        var rows = $('#movingTableDate li');
                        //var rows = document.getElementById('movingTable').Value;
                       
                        for (var i = 0; i < rows.length; i++) {
                            if (rows[i] == el) {
                                rows[i].style.backgroundColor = "lightgrey";
                                activeRows = i;
                            } else {
                                rows[i].style.backgroundColor = "white";
                            }
                        }
                    }

                    function moveActiveRowdate(move) {
                         var rows = $('#movingTableDate li');
                        var oldRow = rows[activeRows].innerHTML;
                        var newRow = rows[activeRows + move].innerHTML;
                        rows[activeRows].innerHTML = newRow;
                        rows[activeRows + move].innerHTML = oldRow;
                        setActiveRowdate(rows[activeRows + move]);
                    }
                    
                     function MeasDateSelectPopup(item) {
                	     
                		  if(item == 'Dimensions'){
                			  var dimtype = $("#DimensionsbyItmes ul").html();
                			  var dimtypes = $("#DimensionsbyItmesvalone ul").html();
                			  document.getElementById('DimhiddenKPI').value = dimtype;
                			  document.getElementById('DimhiddenKPIs').value = dimtypes;
                			   
                			  DimensionsNew();
                		  }
                		  if(item == 'Datefield'){
                			   var datetype = $("#DatesByItmesval ul").html();
                			   var datetypes = $("#DatesByItmesvalone ul").html();
                			  document.getElementById('DatehiddenKPI').value = datetype;
                			  document.getElementById('DatehiddenKPIs').value = datetypes;
                			  DatesNew();
                			  
                		  }
                		  var db = 0;
                		  if(item == 'Measures'){
                		      var menulist1 = $("#menulist1 ul").html();
                		      var menulist2 = $("#menulist2 ul").html();
                		      var menulist3 = $("#menulist3 ul").html();
                		      for(i=1;i<=$("#MenuItems1 li").length;i++){
                		         
                		         if(i==1){
                		                var ones = document.getElementById('Measureone').value;
                                        var twos = document.getElementById('Measurefour').value;   
                                        var threes = document.getElementById('Measuresev').value; 
                                      
                                        if(ones != '' && twos != '' && threes != ''){
                                        }
                                        else{
                                            db = 1;
                                        }
                		         }
                		         if(i==2){
                		             var fours = document.getElementById('Measuretwo').value; 
                                        var fives = document.getElementById('Measurefive').value;
                                        var sixs = document.getElementById('Measureeig').value; 
                                        if(fours != '' && fives != '' && sixs != ''){
                                        }
                                        else{
                                            db = 1;
                                        }
                		             
                		         }
                		         if(i==3){
                		              var sevs = document.getElementById('Measurethree').value; 
                                        var eigs = document.getElementById('Measuresix').value; 
                                        var nines = document.getElementById('Measurenine').value;
                                        if(sevs != '' && eigs != '' && nines != ''){
                                        }
                                        else{
                                            db = 1;
                                        }
                		         }
                		      }
                		      if(db == 1){
                		          document.getElementById("errorsingles").innerHTML = "Error: You must enter a value";

                		      }
                		      else{
                		      
                                var MeasureRec = $("#MenuItems1 ul").html();
                                var MeasureRecs = $("#MenuItems2 ul").html();  
                                document.getElementById('Menuitemsval').value= MeasureRec;
                                document.getElementById("Menuitemsvaltar").value = MeasureRecs;
                                document.getElementById('Measureones').value= menulist1;
                                document.getElementById("Measureonestwo").value = menulist2;
                                document.getElementById('Measureonesthree').value= menulist3;
                                 document.getElementById("errorsingles").innerHTML = ""; 
                                MeasureNew();
                		      }
                    }
                	  }
              
                      
                      
                      
                        
             
       
            //toggleMeasures
            function toggleMeasures(panelid){
          
                delete checkPanelLoad[panelid];   
                isUpdate=false;
                selectedPanel=panelid;
                
                $("#MeasuresPanel"+panelid).toggle();
                selectedItemsFills('count');
                
                //Show Process Spinner 
                $("#IsProcessSpinner"+panelid).css('display','');
                
                //Fill Records  
                angular.element(document.getElementById('anguController')).scope().onGetMeasureRecords();
                
                
                
            }
            
             function toggleMeasuresone(panelid){
                
                delete checkPanelLoad[panelid];   
                isUpdate=false;
                selectedPanel=panelid;
                
                $("#MeasuresPanel"+panelid).toggle();
               
                selectedItemsFills2('count');
                 
                //Show Process Spinner 
                $("#IsProcessSpinner"+panelid).css('display','');
                
                //Fill Records  
                angular.element(document.getElementById('anguController')).scope().onGetMeasureRecordsEdit();
                
             }
            //Filter Main Items
             function onfilterRecords(panelId) {
            
                var input = document.getElementById('myInput'+panelId);
                var filter = input.value.toUpperCase();
                $( ".selectors"+panelId+" a " ).each(function( index ) {
                  var a=$(this).find('label').html();
                    if(a!=undefined){
                        if (a.toUpperCase().indexOf(filter) > -1) {
                            $(this).css("display","");
                        } else {
                            $(this).css("display","none");
                        }
                    }
                });
                
            }
            
            function removeItemsone(obj,panel,removselItems){
                
                    
                       var selectedParVars ;
                       var selectedParVar=$(obj).closest('li').find('.parentSelected').val();
                           if(selectedParVar=='count'){
                            selectedParVars='Count';
                        }
                        if(selectedParVar=='sum'){
                            selectedParVars='Sum';
                        }
                        if(selectedParVar=='avg'){
                            selectedParVars='Average';
                        }
                        if(selectedParVar=='max'){
                            selectedParVars='Maximum';
                        }
                        if(selectedParVar=='min'){
                            selectedParVars='Minimum';
                        }
                        if(selectedParVar=='stddev'){
                            selectedParVars='Stddev';
                        }
                        if(selectedParVar=='stddevp'){
                            selectedParVars='Stddevp';
                        }
                        if(selectedParVar=='var'){
                            selectedParVars='Var';
                        }
                        if(selectedParVar=='varp'){
                            selectedParVars='Varp';
                        }
                        if(selectedParVar=='unique'){
                            selectedParVars='Unique';
                        }
                        if(selectedParVar=='median'){
                            selectedParVars='Median';
                        }
                        if(selectedParVar=='first'){
                            selectedParVars='First';
                        }
                        if(selectedParVar=='last'){
                            selectedParVars='Last';
                        }
                       $("#MeasuresPanel"+panel).find('.vertical a').each(function( index ) {
                                 $(this).removeClass('selected');
                        });
                            
                        $("#MeasuresPanel"+panel).find('.vertical a').each(function( index ) {
                            if($(this).html()==selectedParVars){
                                $(this).addClass('selected');
                            }
                        });
                            
                        var delKey=panel+$(obj).closest('li').find('.parentSelected').val()+$(obj).closest('li').find('.itemSelected').val();
                        delete selectedElements[delKey];
                         $(obj).closest('li').remove();
                         
                         Strings = $(obj).closest('li').find('.itemSelected').val().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                         var parents = panel+$(obj).closest('li').find('.parentSelected').val()+Strings;
                               
                          $('#menulist1 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'sum'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                         $('#menulist2 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'max'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                         $('#menulist3 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'min'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                        
                        
                        if(selectedParVar=='unique'){
                             $("#DimensionsPanelLayout"+panel).prev().show();
                             $("#DimensionsPanelLayout"+panel).show();
                        
                        }else{
                             $("#DimensionsPanelLayout"+panel).prev().hide();
                             $("#DimensionsPanelLayout"+panel).hide();
                        }
                        
                        var itemsrec;   
                             if($("#MenuItems"+panel+" li").length != undefined && $("#MenuItems"+panel+" li").length != 0){
                                for(var i=1;i<= $("#MenuItems"+panel+" li").length;i++){
                                     itemsrec = i;
                                     if(panel== 1){
                                        $("#NumberMeasIds").html(itemsrec);
                                     }
                                     if(panel== 2){
                                        $("#NumberMeasIdstar").html(itemsrec); 
                                     }
                                     
                            }
                             }
                             else{
                                 itemsrec = 0;
                                     if(panel== 1){
                                        $("#NumberMeasIds").html(itemsrec);
                                     }
                                     if(panel== 2){
                                        $("#NumberMeasIdstar").html(itemsrec); 
                                     }
                             }
                    
                        
                           if(panel == 1){
                                selectedItemsFills(selectedParVar);
                            }
                             if(panel == 2){
                                 selectedItemsFills2(selectedParVar);
                             }
                         
                         
                           isUpdate=false;
                            
                    
                }
                
                function filteritems(obj,panel){
                    
                   if($(obj).hasClass('disabled')==false){ 
                        var selectedParent= $("#MeasuresPanel"+panel).find('.vertical').find('.selected').html();
                        selectedparentMeas = $("#MeasuresPanel"+panel).find('.vertical').find('.selected').html();
                        
                        
                        MeasrureRecords = MeasuresApis[$(obj).find('label').html()];
                        if(selectedParent=='Count'){
                            selectedParent='count';
                        }
                        if(selectedParent=='Sum'){
                            selectedParent='sum';
                        }
                        if(selectedParent=='Average'){
                            selectedParent='avg';
                        }
                        if(selectedParent=='Maximum'){
                            selectedParent='max';
                        }
                        if(selectedParent=='Minimum'){
                            selectedParent='min';
                        }
                        if(selectedParent=='Stddev'){
                            selectedParent='stddev';
                        }
                        if(selectedParent=='Stddevp'){
                            selectedParent='stddevp';
                        }
                        if(selectedParent=='Var'){
                            selectedParent='var';
                        }
                        if(selectedParent=='Varp'){
                            selectedParent='varp';
                        }
                        if(selectedParent=='Unique'){
                            selectedParent='unique';
                        }
                        if(selectedParent=='Median'){
                            selectedParent='median';
                        }
                        if(selectedParent=='First'){
                            selectedParent='first';
                        }
                        if(selectedParent=='Last'){
                            selectedParent='last';
                        }
                        
                        var itemsrec =0;
                            for(var i=1;i<= $("#MenuItems"+panel+" li").length;i++){  
                                 itemsrec = i;
                                 
                                 
                            }
                              var Strings = $(obj).find('label').html();
                              Strings = Strings.replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                    
                         
                        if(isUpdate){
                             var oldkey=panel+$(ref).parent().find('.parentSelected').val()+$(ref).parent().find('itemSelected').val(); 
                             delete selectedElements[oldkey];
                             if(panel == 2){
                             $(ref).parent().html('<li onclick="setActivetarRows(this)"><input type="hidden" class="parentSelected" value="'+selectedParent+'" /><input type="hidden" class="itemSelected"  value="'+$(obj).find('label').html()+'"/><input type="hidden" class="editSelected" value="'+selectedParent+'('+$(obj).find('label').html()+')" /><input type="hidden" class="editApi" value="'+selectedParent+Strings+'" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;float:left"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" onclick="removeItemsone(this,'+panel+',\''+$(obj).find('label').html()+'\')" width="26px" height="12px" /> '+selectedParent+'('+$(obj).find('label').html()+')'+'</div>');
                             
                            }
                            if(panel == 1){
                             $(ref).parent().html('<li onclick="setActiveMesRows(this)"><input type="hidden" class="parentSelected" value="'+selectedParent+'" /><input type="hidden" class="itemSelected"  value="'+$(obj).find('label').html()+'"/><input type="hidden" class="editSelected" value="'+selectedParent+'('+$(obj).find('label').html()+')" /><input type="hidden" class="editApi" value="'+selectedParent+Strings+'" /><div style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;float:left"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" onclick="removeItemsone(this,'+panel+',\''+$(obj).find('label').html()+'\')" width="26px" height="12px" /> '+selectedParent+'('+$(obj).find('label').html()+')'+'</div>');
                             
                            }
                            isUpdate=false;   
                        }else{
                            if(itemsrec < 1){
                                if(panel == 2){
                                    $("#MenuItems"+panel).find('ul').append('<li onclick="setActivetarRows(this)"><input type="hidden" class="parentSelected" value="'+selectedParent+'" /><input type="hidden" class="itemSelected"  value="'+$(obj).find('label').html()+'"/><input type="hidden" class="editSelected" value="'+selectedParent+'('+$(obj).find('label').html()+')"/><input type="hidden" class="editApi" value="'+selectedParent+Strings+'" /><div style="cursor: pointer;float:left" class="textover"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete" src="{!$Resource.Delete}" onclick="removeItemsone(this,'+panel+',\''+$(obj).find('label').html()+'\')" width="26px" height="12px" /> '+selectedParent+'('+$(obj).find('label').html()+')'+'</div></li>');
                                }
                                if(panel == 1){
                                    $("#MenuItems"+panel).find('ul').append('<li onclick="setActiveMesRows(this)"><input type="hidden" class="parentSelected" value="'+selectedParent+'" /><input type="hidden" class="itemSelected"  value="'+$(obj).find('label').html()+'"/><input type="hidden" class="editSelected" value="'+selectedParent+'('+$(obj).find('label').html()+')"/><input type="hidden" class="editApi" value="'+selectedParent+Strings+'" /><div style="cursor: pointer;float:left" class="textover"><img style="cursor:pointer;position:relative; z-index:2;" title="Delete"  src="{!$Resource.Delete}" onclick="removeItemsone(this,'+panel+',\''+$(obj).find('label').html()+'\')" width="26px" height="12px" /> '+selectedParent+'('+$(obj).find('label').html()+')'+'</div></li>');
                                  
                                }
                            }
                            else{
                                alert('You Cannot Select More than 1 Measures')
                            }
                                
                        }
                        if(itemsrec < 1){
                        $('#MenuItems'+panel+' li').filter(
                        function(){
                                var keyFieldsAll = panel+$(this).closest('li').find('.itemSelected').val().replace(/[^a-zA-Z ]/g, "");
                        		var keyFields = $(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.itemSelected').val();
                        		var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        		
                        		
                        		keyFieldsAll = keyFieldsAll.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        		
                        		var div = document.getElementById('NewAll'+keyFieldsAll);
                        		
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "none";
                        		divs.style.display = "block";
                        		
                        	
                        });	
                        
                          var itemsrec = 0;
                                for(var i=1;i<= $("#MenuItems"+panel+" li").length;i++){
                                     itemsrec = i;
                                     if(panel== 1){
                                        $("#NumberMeasIds").html(itemsrec);
                                     }
                                     if(panel== 2){
                                        $("#NumberMeasIdstar").html(itemsrec); 
                                     }
                                     
                            } 
                              
                            if(panel== 1){
                                var Maxvalue = 0;
                                var Measap = $("#NumberMeasIds").html();
                                    $("#menulist1").find('ul').append('<li><input type="hidden" class="newselectorslist" value="sum'+panel+selectedParent+Strings+'"/><input type="hidden" class="newselectIds" value="'+Maxvalue+'" /><input type="text" id="sum'+panel+selectedParent+Strings+'" style="width:60%" onkeyup="myFunction(\'sum'+panel+selectedParent+Strings+'\')" onchange="NewFunctions(\'sum'+panel+selectedParent+Strings+'\','+Measap+')"/></li>') ;
                                    $("#menulist2").find('ul').append('<li><input type="hidden" class="newselectorslist" value="max'+panel+selectedParent+Strings+'"/><input type="hidden" class="newselectIds" value="'+Maxvalue+'" /><input type="text" id="max'+panel+selectedParent+Strings+'" style="width:60%" onkeyup="myFunction(\'max'+panel+selectedParent+Strings+'\')" onchange="NewFunctionstwo(\'max'+panel+selectedParent+Strings+'\','+Measap+')"/></li>') ;
                                    $("#menulist3").find('ul').append('<li><input type="hidden" class="newselectorslist" value="min'+panel+selectedParent+Strings+'"/><input type="hidden" class="newselectIds" value="'+Maxvalue+'" /><input type="text" id="min'+panel+selectedParent+Strings+'" style="width:60%" onkeyup="myFunction(\'min'+panel+selectedParent+Strings+'\')" onchange="NewFunctionsthree(\'min'+panel+selectedParent+Strings+'\','+Measap+')"/></li>') ;

                            }  
                        
                        
                         
                         
                        
                        var key=panel+selectedParent+$(obj).find('label').html();
                       
                        selectedElements[key]=selectedParent;
                          if(panel == 1){
                        selectedItemsFills(selectedParent);
                     }
                     if(panel == 2){
                         selectedItemsFills2(selectedParent);
                     }
                        }  
                         
                     } 
                     else{
                        
                          var selectedParent= $("#MeasuresPanel"+panel).find('.vertical').find('.selected').html();
                          if(selectedParent=='Count'){
                            selectedParent='count';
                        }
                        if(selectedParent=='Sum'){
                            selectedParent='sum';
                        }
                        if(selectedParent=='Average'){
                            selectedParent='avg';
                        }
                        if(selectedParent=='Maximum'){
                            selectedParent='max';
                        }
                        if(selectedParent=='Minimum'){
                            selectedParent='min';
                        }
                        if(selectedParent=='Stddev'){
                            selectedParent='stddev';
                        }
                        if(selectedParent=='Stddevp'){
                            selectedParent='stddevp';
                        }
                        if(selectedParent=='Var'){
                            selectedParent='var';
                        }
                        if(selectedParent=='Varp'){
                            selectedParent='varp';
                        }
                        if(selectedParent=='Unique'){
                            selectedParent='unique';
                        }
                        if(selectedParent=='Median'){
                            selectedParent='median';
                        }
                        if(selectedParent=='First'){
                            selectedParent='first';
                        }
                        if(selectedParent=='Last'){
                            selectedParent='last';
                        }
                        var delKey=panel+selectedParent+$(obj).find('label').html();
                        delete selectedElements[delKey];
                        
                        
                        $('#MenuItems'+panel+' li').filter(
                        function(){
                                if(delKey == panel+$(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.itemSelected').val()){
                                    var keyFieldsAll = panel+$(this).closest('li').find('.itemSelected').val().replace(/[^a-zA-Z ]/g, "");
                            		var keyFields = $(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.itemSelected').val();
                            		var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            		keyFieldsAll = keyFieldsAll.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                            		var div = document.getElementById('NewAll'+keyFieldsAll);
                            		
                            		var divs = document.getElementById('Anals'+keyFieldsAll);
                            		div.style.display = "none";
                            		divs.style.display = "block";
                            		$(this).remove();
                                }	
                        	
                        });
                        
                        
                        
                         var itemsrec;
                                for(var i=1;i<= $("#MenuItems"+panel+" li").length;i++){
                                     itemsrec = i;
                                     if(panel== 1){
                                        $("#NumberMeasIds").html(itemsrec);
                                     }
                                     if(panel== 2){
                                        $("#NumberMeasIdstar").html(itemsrec); 
                                     }
                                     
                            }
                            
                            
                            Strings = $(obj).find('label').html().replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                         var parents = panel+selectedParent+Strings;
                               
                          $('#menulist1 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'sum'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                         $('#menulist2 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'max'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                         $('#menulist3 li').filter(
                        function(){
                                var keyFieldsAll = $(this).closest('li').find('.newselectorslist').val();
                        		if(keyFieldsAll == 'min'+parents){
                        		    $(this).remove();
                        		}
                        		
                        	
                        });	
                         if(panel == 1){
                        selectedItemsFills(selectedParent);
                     }
                     if(panel == 2){
                         selectedItemsFills2(selectedParent);
                     }
                     }
                }
                
                function ShowMeasures(about)
                     {
                         
                    	var div = document.getElementById(about);
                       div.style.display = "block";
                     
                      } 
                      function hideMeasures(about)
                     {
                        
                    	var div = document.getElementById(about);
                    	div.style.display = "none";
                     
                      } 
               
                function editItems(obj,panel){
                    selectedPanel=panel;
                    $('#MenuItems1 li').filter(
                        function(){
                             var key=selectedPanel+$(this).closest('li').find('.parentSelected').val()+$(this).closest('li').find('.editApi').val(); 
                            
                            selectedElements[key] = $(this).closest('li').find('.parentSelected').val();  
                              
                        }
                        );
                        
                    ref=obj;
                    isUpdate=true;
                    $("#MeasuresPanel"+panel).show();
                    $("#MeasuresPanel"+panel).prev().show();
                    
                    if($(obj).closest('li').find('.parentSelected').val()=='unique'){
                         $("#DimensionsPanelLayout"+panel).prev().show();
                         $("#DimensionsPanelLayout"+panel).show();
                    
                    }else{
                         $("#DimensionsPanelLayout"+panel).prev().hide();
                         $("#DimensionsPanelLayout"+panel).hide();
                    } 
                    $("#MeasuresPanel"+panel).find('.vertical a').each(function( index ) {
                         $(this).removeClass('selected');
                    });
                        
                    $("#MeasuresPanel"+panel).find('.vertical a').each(function( index ) {
                        selectedParent = $(this).html();
                        if(selectedParent=='Count'){
                            selectedParent='count';
                        }
                        if(selectedParent=='Sum'){
                            selectedParent='sum';
                        }
                        if(selectedParent=='Average'){
                            selectedParent='avg';
                        }
                        if(selectedParent=='Maximum'){
                            selectedParent='max';
                        }
                        if(selectedParent=='Minimum'){
                            selectedParent='min';
                        }
                        if(selectedParent=='Stddev'){
                            selectedParent='stddev';
                        }
                        if(selectedParent=='Stddevp'){
                            selectedParent='stddevp';
                        }
                        if(selectedParent=='Var'){
                            selectedParent='var';
                        }
                        if(selectedParent=='Varp'){
                            selectedParent='varp';
                        }
                        if(selectedParent=='Unique'){
                            selectedParent='unique';
                        }
                        if(selectedParent=='Median'){
                            selectedParent='median';
                        }
                        if(selectedParent=='First'){
                            selectedParent='first';
                        }
                        if(selectedParent=='Last'){
                            selectedParent='last';
                        }
                        if(selectedParent==$(obj).closest('li').find('.parentSelected').val()){
                            $(this).addClass('selected');
                        }
                    });
                    
                    
                      if(panel == 1){
                        selectedItemsFills($(obj).closest('li').find('.parentSelected').val());
                     }
                     if(panel == 2){
                         selectedItemsFills2($(obj).closest('li').find('.parentSelected').val());
                     }
                }
                function ParentItemsSelected(obj,panel){
                    var selectedParent= $(obj).html();
                     var selectedParents= $(obj).html();
                        if(selectedParent=='Count'){
                            selectedParent='count';
                        }
                        if(selectedParent=='Sum'){
                            selectedParent='sum';
                        }
                        if(selectedParent=='Average'){
                            selectedParent='avg';
                        }
                        if(selectedParent=='Maximum'){
                            selectedParent='max';
                        }
                        if(selectedParent=='Minimum'){
                            selectedParent='min';
                        }
                        if(selectedParent=='Stddev'){
                            selectedParent='stddev';
                        }
                        if(selectedParent=='Stddevp'){
                            selectedParent='stddevp';
                        }
                        if(selectedParent=='Var'){
                            selectedParent='var';
                        }
                        if(selectedParent=='Varp'){
                            selectedParent='varp';
                        }
                        if(selectedParent=='Unique'){
                            selectedParent='unique';
                        }
                         if(selectedParent=='Median'){
                            selectedParent='median';
                        }
                        if(selectedParent=='First'){
                            selectedParent='first';
                        }
                        if(selectedParent=='Last'){
                            selectedParent='last';
                        }
                    if(selectedParent !='unique'){
                        $("#MeasuresPanelLayout"+panel).prev().show();
                        $("#MeasuresPanelLayout"+panel).show();
                        $("#DimensionsPanelLayout"+panel).hide();
                        $("#DimensionsPanelLayout"+panel).prev().hide();
                    }else{
                        $("#MeasuresPanelLayout"+panel).prev().show();
                        $("#MeasuresPanelLayout"+panel).show();
                        $("#DimensionsPanelLayout"+panel).show();
                        $("#DimensionsPanelLayout"+panel).prev().show();
                    }
                    
                    $("#MeasuresPanel"+panel).find('.vertical a').each(function( index ) {
                      $(this).removeClass('selected');
                    });
                     $(obj).addClass('selected');
                     
                      
                     
                     if(panel == 1){
                        selectedItemsFills(selectedParent);
                     }
                     if(panel == 2){
                        selectedItemsFills2(selectedParent); 
                     }
                     
                }
                
                function selectedItemsFills(parentSel){
                    
                    
                    $("#MeasuresPanelLayout1").find('label').each(function( index ) {
                        var key='1'+parentSel+$( this ).html(); 
                       	var keyFields = parentSel+$( this ).html();
                       	var keyFieldsAll = '1'+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");;
                        		var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                        		keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
                        	
                        if(selectedElements[key]==undefined){
                            $(this).closest('a').removeClass('disabled');
                            var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "block";
                        		divs.style.display = "none";
                        }else{
                            $(this).closest('a').addClass('disabled');
                            	var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "none";
                        		divs.style.display = "block";
                        }
                
                    });
                    
                    
                    
                    if(parentSel=='unique'){   
                         $("#DimensionsPanelLayout1").find('label').each(function( index ) {
                            var key='1'+parentSel+$( this ).html();
                            var keyFields = parentSel+$( this ).replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                       	    var keyFieldsAll = '1'+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");;
                        		 keyFieldsAll = keyFieldsAll.replace(' ','').replace(' ','').replace(' ','');
                            if(selectedElements[key]==undefined){
                                $(this).closest('a').removeClass('disabled');                     
                            }else{
                                $(this).closest('a').addClass('disabled');
                                var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "none";
                        		divs.style.display = "block";
                            }
                            
                            
                    
                        });
                    }
                    if(parentSel=='count'){
                        $(".measureCount").hide();
                        $(".measureRows").show();
                    }else{
                        $(".measureCount").show();
                        $(".measureRows").hide();
                    }
                    
                }
                
                function selectedItemsFills2(parentSel){
                    $("#MeasuresPanelLayout2").find('label').each(function( index ) {
                        var key='2'+parentSel+$( this ).html(); 
                       	var keyFields = parentSel+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                       	var keyFieldsAll = '2'+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");;
                        		var keyFieldss = keyFields.replace(' ','').replace(' ','').replace(' ','');
                        		keyFieldss = keyFieldss.replace(' ','').replace(' ','').replace(' ','');
                        	
                        if(selectedElements[key]==undefined){
                            $(this).closest('a').removeClass('disabled');
                            var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "block";
                        		divs.style.display = "none";
                        }else{
                            $(this).closest('a').addClass('disabled');
                            	var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "none";
                        		divs.style.display = "block";
                        }
                
                    });
                    
                    if(parentSel=='unique'){   
                         $("#DimensionsPanelLayout2").find('label').each(function( index ) {
                            var key='2'+parentSel+$( this ).html();
                            var keyFields = parentSel+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','');
                       	    var keyFieldsAll = '2'+$( this ).html().replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(' ','').replace(/[^a-zA-Z ]/g, "");;
                        		 keyFieldsAll = keyFieldsAll.replace(' ','').replace(' ','').replace(' ','');
                            if(selectedElements[key]==undefined){
                                $(this).closest('a').removeClass('disabled');                     
                            }else{
                                $(this).closest('a').addClass('disabled');
                                var div = document.getElementById('NewAll'+keyFieldsAll);
                        		var divs = document.getElementById('Anals'+keyFieldsAll);
                        		div.style.display = "none";
                        		divs.style.display = "block";
                            }
                            
                            
                    
                        });
                    }
                    if(parentSel=='count'){
                        $(".measureCount2").hide();
                        $(".measureRows2").show();
                    }else{
                        $(".measureCount2").show();
                        $(".measureRows2").hide();
                    }
                    
                }
                
                function selectedElementsDel(){
                    selectedElements={};
                    addFilterTO = {}
                    
                }
                
                function NewFunctions(pan,Measap){
                    $('#menulist1 li').filter(
                        function(){
                              
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==1){
                                var meeee = document.getElementById(pan).value;
                                 document.getElementById('Measureone').value = meeee;
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==2){
                                var meeee = document.getElementById(pan).value;
                             
                                 document.getElementById('Measuretwo').value = meeee;
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==3){
                                var meeee = document.getElementById(pan).value;
                               
                                 document.getElementById('Measurethree').value = meeee;
                            }
                        });
                        
                    }
                    
                    function NewFunctionstwo(pan,Measap){
                    $('#menulist2 li').filter(
                        function(){
                              
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==1){
                                var meeee = document.getElementById(pan).value;
                                
                                 document.getElementById('Measurefour').value = meeee;   
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==2){
                                var meeee = document.getElementById(pan).value;
                               
                                 document.getElementById('Measurefive').value = meeee;
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==3){
                                var meeee = document.getElementById(pan).value;
                                 document.getElementById('Measuresix').value = meeee;
                            }
                        });
                        
                    }
                    
                    function NewFunctionsthree(pan,Measap){
                    $('#menulist3 li').filter(
                        function(){
                              
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==1){
                                var meeee = document.getElementById(pan).value;
                                
                                 document.getElementById('Measuresev').value = meeee;
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==2){
                                
                                var meeee = document.getElementById(pan).value;
                                     document.getElementById('Measureeig').value = meeee;
                            }
                            if(pan == $(this).closest('li').find('.newselectorslist').val() && Measap==3){
                                var meeee = document.getElementById(pan).value;
                                 document.getElementById('Measurenine').value = meeee;
                            }
                        });
                        
                    }
                 
                      
                   

                </script>
                <script>
function myFunction(ids) {
    var x;

    // Get the value of the input field with id="numb"
    x = document.getElementById(ids).value;

    // If x is Not a Number or less than one or greater than 10
    if (isNaN(x) || x == '' ) {
        document.getElementById(ids).value = '';
    } else {
        
    }
}

  function closefunctions(){
		   if(confirm('All of your information will be lost and You will be returned to the home screen') ){ 
			  window.open('/apex/TouchAnalytics_UI','_self');                               
		 } 
		
	 return false;
	}
	
	function validatefunction(Names){
                var KPINameUI;
                if(Names == 'dimension'){
                     KPINameUI = document.getElementById('pageIds:myForm:KPINameUIs').value;
                }
                if(Names == 'measure'){
                     KPINameUI = document.getElementById('pageIds:myForm:KPINameUIss').value;
                }
                 if(KPINameUI != ''){   
                    //document.getElementById('hiddensection').value= KPINameUI;
                //    document.getElementById('boxvalue').value = boxid;
                    
                    document.getElementById("error1").innerHTML = "";
                    if(Names == 'date'){
                     editdatelabel(); 
                    }
                    if(Names == 'dimension'){
                        editdimlabel(); 
                    }
                    if(Names == 'measure'){
                        editmeaslabel(); 
                    }
                 }
                else{
                    document.getElementById("error1").innerHTML = "Error: You must enter a value";
                }
            }
            
            function NewMeaslabel(){
            var input = j$('input[id*=KPINameUIs]');
            //alert("Hiiiii");
            var len = input.val().length;
            input[0].focus();
            input[0].setSelectionRange(len, len);

        }
        
        function NewMeaslabel1(){
            var input = j$('input[id*=KPINameUIss]');
            //alert("Hiiiii");
            var len = input.val().length;
            input[0].focus();
            input[0].setSelectionRange(len, len);

        }
        
        function openAnalytics(){
            window.open('/analytics/wave/wave.apexp');
        }
        
        function openpurchaseDB(vals){
            document.getElementById("configCreate").style.display = "none"; 
                            document.getElementById("getProductName").value = vals;
                            document.getElementById("purchaseDashboard").className = document.getElementById("purchaseDashboard").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )
                           //document.getElementById("pleasewait").style.display = "block";
                            ConnectSfdc();
                            showBackDrop();
                            return true;
                        }
						
						 function closepurchaseDB(){
                            document.getElementById("purchaseDashboard").className = document.getElementById("purchaseDashboard").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
                               document.getElementById("GeneratePopup").className =
                    document.getElementById("GeneratePopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                 
                            Cancelclose();
                            hideBackDrop();
                            return false;
                        }
                        function closepurchaseDBclone(){
                            document.getElementById("purchaseDashboard").className = document.getElementById("purchaseDashboard").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
                             document.getElementById("GeneratePopup").className =
                    document.getElementById("GeneratePopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                  Newpleaswaitclose();
                            hideBackDrop();
                            return false;
                        }
                        
                           function Newpleaswait(){
            	document.getElementById("pleasewait").style.display = "block";
             }
             
            function Newpleaswaitclose(){
            	document.getElementById("pleasewait").style.display = "none";
             }
             
              function closepurchaseDBclone1(){
                            document.getElementById("purchaseDashboard").className = document.getElementById("purchaseDashboard").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )
                             document.getElementById("GeneratePopup").className =
                    document.getElementById("GeneratePopup").className.replace( /(?:^|\s)slds-fade-in-open(?!\S)/g , ' slds-fade-in-closed' )               
                      document.getElementById("configCreate").style.display = "block";
                            Newpleaswaitclose();
                            hideBackDrop();
                            return false;
                        }
    
</script> 

 <apex:outputPanel id="MessageId">
                         <script>
                             function showErrorMessage(){
                                var mesVal = '{!NewDBSva}';
                                //alert(mesVal);
                                if(mesVal == 'true'){
                                   document.getElementById('DashboardDBId').style.display = 'block'; 
                                }else{
                                    document.getElementById('DashboardDBId').style.display = 'none';
                                    document.getElementById("GeneratePopup").className = document.getElementById("GeneratePopup").className.replace( /(?:^|\s)slds-fade-in-closed(?!\S)/g , ' slds-fade-in-open' )
                                    singleDashboardTheme();
                                    showBackDrop();
                                }
                                return true;
                            }
                         </script>
                     </apex:outputPanel>
                </apex:form>   
</body>
</html>
        
   
</apex:page>